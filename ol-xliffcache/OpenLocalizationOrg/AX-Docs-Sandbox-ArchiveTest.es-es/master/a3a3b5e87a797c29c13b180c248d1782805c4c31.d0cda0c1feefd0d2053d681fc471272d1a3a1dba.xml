{"content":"---\n# required metadata\n\ntitle: Personalized product recommendations overview\ndescription: In Dynamics 365 for Retail, product recommendations can be displayed on the point of sale (POS) device. The recommendations are items that the customer might be interested in based on their purchase history, items in their wish list, and items that other customers purchased online and in brick-and-mortar stores. For retailers with large catalogs, recommendations help the customer with product discovery. By showcasing products targeted to a customer’s interests and buying habits, product recommendations can help retailers with up-sell and cross-sell, and can enhance customer retention. In Dynamics 365 for Retail, product recommendations are powered by cognitive services and Microsoft Azure machine learning.\nauthor: josaw1\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-365-retail\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Application User\n# ms.devlang: \nms.reviewer: josaw\nms.search.scope: Retail, Operations, Core, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 259664\nms.assetid: 5dd8db08-cd96-4f7e-9e65-b05ca815d580\nms.search.region: global\nms.search.industry: Retail\nms.author: asharchw\nms.search.validFrom: 2016-11-30\nms.dyn365.ops.version: Version 1611, Retail Version\n\n---\n\n# Personalized product recommendations overview\n\n[!include[banner](includes/banner.md)]\n\n\nIn Dynamics 365 for Retail, product recommendations can be displayed on the point of sale (POS) device. The recommendations are items that the customer might be interested in based on their purchase history, items in their wish list, and items that other customers purchased online and in brick-and-mortar stores. For retailers with large catalogs, recommendations help the customer with product discovery. By showcasing products targeted to a customer’s interests and buying habits, product recommendations can help retailers with up-sell and cross-sell, and can enhance customer retention. In Dynamics 365 for Retail, product recommendations are powered by cognitive services and Microsoft Azure machine learning.\n\nScenarios\n---------\n\nProduct recommendations are enabled for the following POS scenarios. They are available in Cloud POS or Modern POS (MPOS).\n\n1.  On the **Product details** page:\n\n-   If a store associate visits a **Product details** page when looking at previous transactions across different channels, the recommendation engine suggests additional items that are likely to be purchased together.\n-   If the store associate adds a customer to the transaction and then visits a **Product details** page, the recommendation engine provides personalized recommendations using the customer's transaction history.\n\n[![proddetails](./media/proddetails.png)](./media/proddetails.png)\n\n2.  On the **Transaction** page:\n\n-   The recommendation engine suggests items based on the entire list of items in the basket.\n-   If the store associate adds a customer to the transaction, the recommendation engine provides personal recommendations using the customer’s transaction history and the list of items in the basket.\n\n**Note**  To display recommendations on the **Transaction** page, the retailer needs to update the screen layout in Dynamics 365 for Retail. The **Recommendations** control must be dropped on to the **Transaction** page. [![transactionscreenmultipleproductslargemessengersbag-5](./media/transactionscreenmultipleproductslargemessengersbag-5.jpg)](./media/transactionscreenmultipleproductslargemessengersbag-5.jpg)\n\n3.  On the **Customer details** page:\n    -   The recommendation engine suggests items based on the user ID and items in the customer’s wish list.\n\n[![customerdetailsrecommendations](./media/customerdetailsrecommendations.png)](./media/customerdetailsrecommendations.png)\n\n## Configure Dynamics 365 for Retail to enable POS recommendations\nTo set up product recommendations, you need to do the following.\n\n1.  Make sure that you have selected the correct **Legal entity**.\n2.  Navigate to **Entity store**, select **Retail sales**, and then click **Refresh**.** **This will use the demo data (or your data) from your operational database and move it to Entity store.\n3.  Optional: To display recommendations on the transaction screen, go to **Screen Layout, **choose your screen layout, launch the **Screen layout designer**,** **and then drop the **recommendations control **where needed.\n4.  Go to **Retail parameters**, select **Machine-learning**, select **Yes **under **Enable POS recommendations**.\n5.  To see recommendations on POS, run global configuration job **1110**. To reflect changes made to POS screen layout designer, run channel configuration job **1070**.\n\n## []()How does it work?\nWhen you refresh the **Entity store** entity, the following actions take place.\n\n-   Data in the format required by the Cognitive services is extracted from the Dynamics 365 for Retail operational database and sent to the Entity store.\n-   The data is used by Azure Data Factory (ADF) to cleanse the data using Hive scripts as part of ADF activities. Cleansed data is stored in blob storage.\n-   Data from blob storage is used by the Cognitive services API to train a recommendation model.\n\nWhen you turn on **Enable recommendations** and run the configuration jobs, the following actions take place.\n\n-   Model credentials and ID are picked up from the API and stored in the Dynamics 365 for Retail operational database, in the web.config for AOS, and also in the retail server.\n-   Model credentials and ID are made available to CRT so that calls for product recommendations from Cloud POS and MPOS in online mode can be honored.\n\n\nSee also\n--------\n\n[Add a recommendations control to the transaction page on a POS device](add-recommendations-control-pos-screen.md)\n\n\n\n","nodes":[{"pos":[4,1348],"embed":true,"restype":"x-metadata","content":"# required metadata\n\ntitle: Personalized product recommendations overview\ndescription: In Dynamics 365 for Retail, product recommendations can be displayed on the point of sale (POS) device. The recommendations are items that the customer might be interested in based on their purchase history, items in their wish list, and items that other customers purchased online and in brick-and-mortar stores. For retailers with large catalogs, recommendations help the customer with product discovery. By showcasing products targeted to a customer’s interests and buying habits, product recommendations can help retailers with up-sell and cross-sell, and can enhance customer retention. In Dynamics 365 for Retail, product recommendations are powered by cognitive services and Microsoft Azure machine learning.\nauthor: josaw1\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-365-retail\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Application User\n# ms.devlang: \nms.reviewer: josaw\nms.search.scope: Retail, Operations, Core, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 259664\nms.assetid: 5dd8db08-cd96-4f7e-9e65-b05ca815d580\nms.search.region: global\nms.search.industry: Retail\nms.author: asharchw\nms.search.validFrom: 2016-11-30\nms.dyn365.ops.version: Version 1611, Retail Version\n","nodes":[{"content":"Personalized product recommendations overview","nodes":[{"pos":[0,45],"content":"Personalized product recommendations overview","nodes":[{"content":"Personalized product recommendations overview","pos":[0,45]}]}],"path":["title"],"extradata":"MT"},{"content":"In Dynamics 365 for Retail, product recommendations can be displayed on the point of sale (POS) device. The recommendations are items that the customer might be interested in based on their purchase history, items in their wish list, and items that other customers purchased online and in brick-and-mortar stores. For retailers with large catalogs, recommendations help the customer with product discovery. By showcasing products targeted to a customer’s interests and buying habits, product recommendations can help retailers with up-sell and cross-sell, and can enhance customer retention. In Dynamics 365 for Retail, product recommendations are powered by cognitive services and Microsoft Azure machine learning.","nodes":[{"pos":[0,715],"content":"In Dynamics 365 for Retail, product recommendations can be displayed on the point of sale (POS) device. The recommendations are items that the customer might be interested in based on their purchase history, items in their wish list, and items that other customers purchased online and in brick-and-mortar stores. For retailers with large catalogs, recommendations help the customer with product discovery. By showcasing products targeted to a customer’s interests and buying habits, product recommendations can help retailers with up-sell and cross-sell, and can enhance customer retention. In Dynamics 365 for Retail, product recommendations are powered by cognitive services and Microsoft Azure machine learning.","nodes":[{"content":"In Dynamics 365 for Retail, product recommendations can be displayed on the point of sale (POS) device. The recommendations are items that the customer might be interested in based on their purchase history, items in their wish list, and items that other customers purchased online and in brick-and-mortar stores. For retailers with large catalogs, recommendations help the customer with product discovery. By showcasing products targeted to a customer’s interests and buying habits, product recommendations can help retailers with up-sell and cross-sell, and can enhance customer retention. In Dynamics 365 for Retail, product recommendations are powered by cognitive services and Microsoft Azure machine learning.","pos":[0,715],"nodes":[{"content":"In Dynamics 365 for Retail, product recommendations can be displayed on the point of sale (POS) device.","pos":[0,103]},{"content":"The recommendations are items that the customer might be interested in based on their purchase history, items in their wish list, and items that other customers purchased online and in brick-and-mortar stores.","pos":[104,313]},{"content":"For retailers with large catalogs, recommendations help the customer with product discovery.","pos":[314,406]},{"content":"By showcasing products targeted to a customer’s interests and buying habits, product recommendations can help retailers with up-sell and cross-sell, and can enhance customer retention.","pos":[407,591]},{"content":"In Dynamics 365 for Retail, product recommendations are powered by cognitive services and Microsoft Azure machine learning.","pos":[592,715]}]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata\n","yml":true},{"pos":[1356,1401],"content":"Personalized product recommendations overview","linkify":"Personalized product recommendations overview","nodes":[{"content":"Personalized product recommendations overview","pos":[0,45]}]},{"content":"In Dynamics 365 for Retail, product recommendations can be displayed on the point of sale (POS) device.","pos":[1444,1547]},{"content":"The recommendations are items that the customer might be interested in based on their purchase history, items in their wish list, and items that other customers purchased online and in brick-and-mortar stores.","pos":[1548,1757]},{"content":"For retailers with large catalogs, recommendations help the customer with product discovery.","pos":[1758,1850]},{"content":"By showcasing products targeted to a customer’s interests and buying habits, product recommendations can help retailers with up-sell and cross-sell, and can enhance customer retention.","pos":[1851,2035]},{"content":"In Dynamics 365 for Retail, product recommendations are powered by cognitive services and Microsoft Azure machine learning.","pos":[2036,2159]},{"pos":[2161,2170],"content":"Scenarios","linkify":"Scenarios","nodes":[{"content":"Scenarios","pos":[0,9]}]},{"content":"Product recommendations are enabled for the following POS scenarios.","pos":[2182,2250]},{"content":"They are available in Cloud POS or Modern POS (MPOS).","pos":[2251,2304]},{"pos":[2310,2342],"content":"On the <bpt id=\"p1\">**</bpt>Product details<ept id=\"p1\">**</ept> page:","source":"On the **Product details** page:"},{"pos":[2348,2561],"content":"If a store associate visits a <bpt id=\"p1\">**</bpt>Product details<ept id=\"p1\">**</ept> page when looking at previous transactions across different channels, the recommendation engine suggests additional items that are likely to be purchased together.","source":"If a store associate visits a **Product details** page when looking at previous transactions across different channels, the recommendation engine suggests additional items that are likely to be purchased together."},{"pos":[2566,2773],"content":"If the store associate adds a customer to the transaction and then visits a <bpt id=\"p1\">**</bpt>Product details<ept id=\"p1\">**</ept> page, the recommendation engine provides personalized recommendations using the customer's transaction history.","source":"If the store associate adds a customer to the transaction and then visits a **Product details** page, the recommendation engine provides personalized recommendations using the customer's transaction history."},{"pos":[2775,2841],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>proddetails<ept id=\"p1\">](./media/proddetails.png)](./media/proddetails.png)</ept>","source":"[![proddetails](./media/proddetails.png)](./media/proddetails.png)"},{"pos":[2847,2875],"content":"On the <bpt id=\"p1\">**</bpt>Transaction<ept id=\"p1\">**</ept> page:","source":"On the **Transaction** page:"},{"content":"The recommendation engine suggests items based on the entire list of items in the basket.","pos":[2881,2970]},{"content":"If the store associate adds a customer to the transaction, the recommendation engine provides personal recommendations using the customer’s transaction history and the list of items in the basket.","pos":[2975,3171]},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  To display recommendations on the <bpt id=\"p2\">**</bpt>Transaction<ept id=\"p2\">**</ept> page, the retailer needs to update the screen layout in Dynamics 365 for Retail.","pos":[3173,3313],"source":"**Note**  To display recommendations on the **Transaction** page, the retailer needs to update the screen layout in Dynamics 365 for Retail."},{"content":"The <bpt id=\"p1\">**</bpt>Recommendations<ept id=\"p1\">**</ept> control must be dropped on to the <bpt id=\"p2\">**</bpt>Transaction<ept id=\"p2\">**</ept> page.","pos":[3314,3393],"source":" The **Recommendations** control must be dropped on to the **Transaction** page."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>transactionscreenmultipleproductslargemessengersbag-5<ept id=\"p1\">](./media/transactionscreenmultipleproductslargemessengersbag-5.jpg)](./media/transactionscreenmultipleproductslargemessengersbag-5.jpg)</ept>","pos":[3394,3586],"source":"[![transactionscreenmultipleproductslargemessengersbag-5](./media/transactionscreenmultipleproductslargemessengersbag-5.jpg)](./media/transactionscreenmultipleproductslargemessengersbag-5.jpg)"},{"pos":[3592,3625],"content":"On the <bpt id=\"p1\">**</bpt>Customer details<ept id=\"p1\">**</ept> page:","source":"On the **Customer details** page:"},{"content":"The recommendation engine suggests items based on the user ID and items in the customer’s wish list.","pos":[3634,3734]},{"pos":[3736,3859],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>customerdetailsrecommendations<ept id=\"p1\">](./media/customerdetailsrecommendations.png)](./media/customerdetailsrecommendations.png)</ept>","source":"[![customerdetailsrecommendations](./media/customerdetailsrecommendations.png)](./media/customerdetailsrecommendations.png)"},{"pos":[3864,3927],"content":"Configure Dynamics 365 for Retail to enable POS recommendations","linkify":"Configure Dynamics 365 for Retail to enable POS recommendations","nodes":[{"content":"Configure Dynamics 365 for Retail to enable POS recommendations","pos":[0,63]}]},{"content":"To set up product recommendations, you need to do the following.","pos":[3928,3992]},{"pos":[3998,4060],"content":"Make sure that you have selected the correct <bpt id=\"p1\">**</bpt>Legal entity<ept id=\"p1\">**</ept>.","source":"Make sure that you have selected the correct **Legal entity**."},{"pos":[4065,4254],"content":"Navigate to <bpt id=\"p1\">**</bpt>Entity store<ept id=\"p1\">**</ept>, select <bpt id=\"p2\">**</bpt>Retail sales<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Refresh<ept id=\"p3\">**</ept>.** **This will use the demo data (or your data) from your operational database and move it to Entity store.","source":"Navigate to **Entity store**, select **Retail sales**, and then click **Refresh**.** **This will use the demo data (or your data) from your operational database and move it to Entity store."},{"pos":[4259,4477],"content":"Optional: To display recommendations on the transaction screen, go to **Screen Layout, <bpt id=\"p1\">**</bpt>choose your screen layout, launch the <bpt id=\"p2\">**</bpt>Screen layout designer<ept id=\"p2\">**</ept>,<ept id=\"p1\">**</ept> **and then drop the **recommendations control **where needed.","source":"Optional: To display recommendations on the transaction screen, go to **Screen Layout, **choose your screen layout, launch the **Screen layout designer**,** **and then drop the **recommendations control **where needed."},{"pos":[4482,4592],"content":"Go to <bpt id=\"p1\">**</bpt>Retail parameters<ept id=\"p1\">**</ept>, select <bpt id=\"p2\">**</bpt>Machine-learning<ept id=\"p2\">**</ept>, select **Yes **under <bpt id=\"p3\">**</bpt>Enable POS recommendations<ept id=\"p3\">**</ept>.","source":"Go to **Retail parameters**, select **Machine-learning**, select **Yes **under **Enable POS recommendations**."},{"content":"To see recommendations on POS, run global configuration job <bpt id=\"p1\">**</bpt>1110<ept id=\"p1\">**</ept>.","pos":[4597,4666],"source":"To see recommendations on POS, run global configuration job **1110**."},{"content":"To reflect changes made to POS screen layout designer, run channel configuration job <bpt id=\"p1\">**</bpt>1070<ept id=\"p1\">**</ept>.","pos":[4667,4761],"source":" To reflect changes made to POS screen layout designer, run channel configuration job **1070**."},{"pos":[4766,4787],"content":"<bpt id=\"p1\">[</bpt><ept id=\"p1\">]()</ept>How does it work?","linkify":"[]()How does it work?","source":"[]()How does it work?"},{"pos":[4788,4867],"content":"When you refresh the <bpt id=\"p1\">**</bpt>Entity store<ept id=\"p1\">**</ept> entity, the following actions take place.","source":"When you refresh the **Entity store** entity, the following actions take place."},{"content":"Data in the format required by the Cognitive services is extracted from the Dynamics 365 for Retail operational database and sent to the Entity store.","pos":[4873,5023]},{"content":"The data is used by Azure Data Factory (ADF) to cleanse the data using Hive scripts as part of ADF activities.","pos":[5028,5138]},{"content":"Cleansed data is stored in blob storage.","pos":[5139,5179]},{"content":"Data from blob storage is used by the Cognitive services API to train a recommendation model.","pos":[5184,5277]},{"pos":[5279,5388],"content":"When you turn on <bpt id=\"p1\">**</bpt>Enable recommendations<ept id=\"p1\">**</ept> and run the configuration jobs, the following actions take place.","source":"When you turn on **Enable recommendations** and run the configuration jobs, the following actions take place."},{"content":"Model credentials and ID are picked up from the API and stored in the Dynamics 365 for Retail operational database, in the web.config for AOS, and also in the retail server.","pos":[5394,5567]},{"content":"Model credentials and ID are made available to CRT so that calls for product recommendations from Cloud POS and MPOS in online mode can be honored.","pos":[5572,5719]},{"pos":[5722,5730],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[5741,5855],"content":"<bpt id=\"p1\">[</bpt>Add a recommendations control to the transaction page on a POS device<ept id=\"p1\">](add-recommendations-control-pos-screen.md)</ept>","source":"[Add a recommendations control to the transaction page on a POS device](add-recommendations-control-pos-screen.md)"}]}