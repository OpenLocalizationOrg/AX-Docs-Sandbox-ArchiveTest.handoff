{"content":"---\n# required metadata\n\ntitle: Audit policy rules\ndescription: You can use audit policies to evaluate expense reports, vendor invoices, and purchase orders to make sure that they comply with policy rules that you create. All of the rules that are associated with an audit policy are run in batch mode, according to a schedule that you specify.  Each policy rule is an instance of a policy rule type. For each policy rule type, only one policy rule can be active at a time. \nauthor: twheeloc\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-applications\nms.technology: \n\n# optional metadata\n\nms.search.form: AuditPolicyAdditionalOption, AuditPolicyRule\n# ROBOTS: \naudience: Application User\n# ms.devlang: \nms.reviewer: twheeloc\nms.search.scope: Core, AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 12991\nms.assetid: 8d787017-71dc-418f-b8c2-4ea9763d9978\nms.search.region: Global\n# ms.search.industry: \nms.author: ryansand\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Audit policy rules\n\n[!include[banner](../includes/banner.md)]\n\n\nYou can use audit policies to evaluate expense reports, vendor invoices, and purchase orders to make sure that they comply with policy rules that you create. All of the rules that are associated with an audit policy are run in batch mode, according to a schedule that you specify.  Each policy rule is an instance of a policy rule type. For each policy rule type, only one policy rule can be active at a time. \n\nQueries and query types\n-----------------------\n\nWhen you create an audit policy rule, you first select a policy rule type. The policy rule type specifies the Application Object Tree (AOT) query to use as the starting point for creating the policy rule. It also specifies the query type to use for the policy rule. The query determines the source document that the policy rule evaluates. It also specifies the fields in the source document that identify both the legal entity and the date to use when documents are selected for audit. The query type controls the default fields in the query page and in the Audit policy rule page. The following table shows the query types that are available for audit policy rules.\n\n<table>\n<colgroup>\n<col width=\"33%\" />\n<col width=\"33%\" />\n<col width=\"33%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th>Query type</th>\n<th>Purpose</th>\n<th>More information</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>Conditional</td>\n<td>Evaluate source document attributes against specified values.</td>\n<td></td>\n</tr>\n<tr class=\"even\">\n<td>Aggregate</td>\n<td>Evaluate multiple source documents or source document lines against a policy rule by aggregating numeric values.</td>\n<td></td>\n</tr>\n<tr class=\"odd\">\n<td>Sampling</td>\n<td>Randomly select a specified percentage of the source documents to evaluate for policy violations.</td>\n<td>When you select this option, use the Audit policy rule page to specify the percentage of documents to randomly select for audit.</td>\n</tr>\n<tr class=\"even\">\n<td>Duplicate</td>\n<td>Evaluate source documents to determine whether they contain duplicate entries in specified fields.</td>\n<td>When you select this option, use the Audit policy rule page to specify the number of days to add to the start of the document selection date range when documents are evaluated for duplicate entries.</td>\n</tr>\n<tr class=\"odd\">\n<td>List search</td>\n<td>Evaluate source documents for specific entities.</td>\n<td>The root document of the query defines the document that is being audited. The query must be a list query that includes a reference to the dirpartytable table. This option can be used only with the following AOT queries:\n<ul>\n<li><span class=\"ui\">AuditPolicyExpenseList</span> (Expense report monitored employees)</li>\n<li><span class=\"ui\">AuditPolicyPurchList</span> (Purchase order monitored vendors)</li>\n<li><span class=\"ui\">AuditPolicyVendInvoiceList</span> (Vendor invoice monitored vendors)</li>\n</ul>\nWhen you select this option, specify the monitored entities in the Audit policy rule page.</td>\n</tr>\n<tr class=\"even\">\n<td>Keyword search</td>\n<td>Evaluate source documents to determine whether they contain certain words.</td>\n<td>When you select this option, enter the words to look for in the Audit policy rule page. The Audit policy rule page also includes options that let you specify the tables and fields to evaluate for the words you entered.</td>\n</tr>\n</tbody>\n</table>\n\n## Common parameters\nAll of the policy rules for a particular audit policy share the same batch parameters and the same document selection date range. These parameters are specified for the policy in the Additional options page.\n\n\n\nSee also\n--------\n\n[Audit policy violations and cases](audit-policy-violations-cases.md)\n\n\n\n","nodes":[{"pos":[4,1045],"embed":true,"restype":"x-metadata","content":"# required metadata\n\ntitle: Audit policy rules\ndescription: You can use audit policies to evaluate expense reports, vendor invoices, and purchase orders to make sure that they comply with policy rules that you create. All of the rules that are associated with an audit policy are run in batch mode, according to a schedule that you specify.  Each policy rule is an instance of a policy rule type. For each policy rule type, only one policy rule can be active at a time. \nauthor: twheeloc\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-applications\nms.technology: \n\n# optional metadata\n\nms.search.form: AuditPolicyAdditionalOption, AuditPolicyRule\n# ROBOTS: \naudience: Application User\n# ms.devlang: \nms.reviewer: twheeloc\nms.search.scope: Core, AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 12991\nms.assetid: 8d787017-71dc-418f-b8c2-4ea9763d9978\nms.search.region: Global\n# ms.search.industry: \nms.author: ryansand\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n","nodes":[{"content":"Audit policy rules","nodes":[{"pos":[0,18],"content":"Audit policy rules","nodes":[{"content":"Audit policy rules","pos":[0,18]}]}],"path":["title"],"extradata":"MT"},{"content":"You can use audit policies to evaluate expense reports, vendor invoices, and purchase orders to make sure that they comply with policy rules that you create. All of the rules that are associated with an audit policy are run in batch mode, according to a schedule that you specify.  Each policy rule is an instance of a policy rule type. For each policy rule type, only one policy rule can be active at a time.","nodes":[{"pos":[0,409],"content":"You can use audit policies to evaluate expense reports, vendor invoices, and purchase orders to make sure that they comply with policy rules that you create. All of the rules that are associated with an audit policy are run in batch mode, according to a schedule that you specify.  Each policy rule is an instance of a policy rule type. For each policy rule type, only one policy rule can be active at a time.","nodes":[{"content":"You can use audit policies to evaluate expense reports, vendor invoices, and purchase orders to make sure that they comply with policy rules that you create. All of the rules that are associated with an audit policy are run in batch mode, according to a schedule that you specify.  Each policy rule is an instance of a policy rule type. For each policy rule type, only one policy rule can be active at a time.","pos":[0,409],"nodes":[{"content":"You can use audit policies to evaluate expense reports, vendor invoices, and purchase orders to make sure that they comply with policy rules that you create.","pos":[0,157]},{"content":"All of the rules that are associated with an audit policy are run in batch mode, according to a schedule that you specify.","pos":[158,280]},{"content":"Each policy rule is an instance of a policy rule type.","pos":[282,336]},{"content":"For each policy rule type, only one policy rule can be active at a time.","pos":[337,409]}]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata\n","yml":true},{"pos":[1053,1071],"content":"Audit policy rules","linkify":"Audit policy rules","nodes":[{"content":"Audit policy rules","pos":[0,18]}]},{"content":"You can use audit policies to evaluate expense reports, vendor invoices, and purchase orders to make sure that they comply with policy rules that you create.","pos":[1117,1274]},{"content":"All of the rules that are associated with an audit policy are run in batch mode, according to a schedule that you specify.","pos":[1275,1397]},{"content":"Each policy rule is an instance of a policy rule type.","pos":[1399,1453]},{"content":"For each policy rule type, only one policy rule can be active at a time.","pos":[1454,1526]},{"pos":[1529,1552],"content":"Queries and query types","linkify":"Queries and query types","nodes":[{"content":"Queries and query types","pos":[0,23]}]},{"content":"When you create an audit policy rule, you first select a policy rule type.","pos":[1578,1652]},{"content":"The policy rule type specifies the Application Object Tree (AOT) query to use as the starting point for creating the policy rule.","pos":[1653,1782]},{"content":"It also specifies the query type to use for the policy rule.","pos":[1783,1843]},{"content":"The query determines the source document that the policy rule evaluates.","pos":[1844,1916]},{"content":"It also specifies the fields in the source document that identify both the legal entity and the date to use when documents are selected for audit.","pos":[1917,2063]},{"content":"The query type controls the default fields in the query page and in the Audit policy rule page.","pos":[2064,2159]},{"content":"The following table shows the query types that are available for audit policy rules.","pos":[2160,2244]},{"content":"Query type","pos":[2369,2379]},{"content":"Purpose","pos":[2389,2396]},{"content":"More information","pos":[2406,2422]},{"content":"Conditional","pos":[2472,2483]},{"content":"Evaluate source document attributes against specified values.","pos":[2493,2554]},{"content":"Aggregate","pos":[2598,2607]},{"content":"Evaluate multiple source documents or source document lines against a policy rule by aggregating numeric values.","pos":[2617,2729]},{"content":"Sampling","pos":[2772,2780]},{"content":"Randomly select a specified percentage of the source documents to evaluate for policy violations.","pos":[2790,2887]},{"content":"When you select this option, use the Audit policy rule page to specify the percentage of documents to randomly select for audit.","pos":[2897,3025]},{"content":"Duplicate","pos":[3059,3068]},{"content":"Evaluate source documents to determine whether they contain duplicate entries in specified fields.","pos":[3078,3176]},{"content":"When you select this option, use the Audit policy rule page to specify the number of days to add to the start of the document selection date range when documents are evaluated for duplicate entries.","pos":[3186,3384]},{"content":"List search","pos":[3417,3428]},{"content":"Evaluate source documents for specific entities.","pos":[3438,3486]},{"content":"The root document of the query defines the document that is being audited.","pos":[3496,3570]},{"content":"The query must be a list query that includes a reference to the dirpartytable table.","pos":[3571,3655]},{"content":"This option can be used only with the following AOT queries:","pos":[3656,3716],"source":" This option can be used only with the following AOT queries:\n"},{"content":"<bpt id=\"p1\">&lt;span class=\"ui\"&gt;</bpt>AuditPolicyExpenseList<ept id=\"p1\">&lt;/span&gt;</ept> (Expense report monitored employees)","pos":[3726,3809],"source":"<span class=\"ui\">AuditPolicyExpenseList</span> (Expense report monitored employees)"},{"content":"<bpt id=\"p1\">&lt;span class=\"ui\"&gt;</bpt>AuditPolicyPurchList<ept id=\"p1\">&lt;/span&gt;</ept> (Purchase order monitored vendors)","pos":[3819,3898],"source":"<span class=\"ui\">AuditPolicyPurchList</span> (Purchase order monitored vendors)"},{"content":"<bpt id=\"p1\">&lt;span class=\"ui\"&gt;</bpt>AuditPolicyVendInvoiceList<ept id=\"p1\">&lt;/span&gt;</ept> (Vendor invoice monitored vendors)","pos":[3908,3993],"source":"<span class=\"ui\">AuditPolicyVendInvoiceList</span> (Vendor invoice monitored vendors)"},{"content":"When you select this option, specify the monitored entities in the Audit policy rule page.","pos":[4005,4095],"source":"\nWhen you select this option, specify the monitored entities in the Audit policy rule page."},{"content":"Keyword search","pos":[4129,4143]},{"content":"Evaluate source documents to determine whether they contain certain words.","pos":[4153,4227]},{"content":"When you select this option, enter the words to look for in the Audit policy rule page.","pos":[4237,4324]},{"content":"The Audit policy rule page also includes options that let you specify the tables and fields to evaluate for the words you entered.","pos":[4325,4455]},{"pos":[4489,4506],"content":"Common parameters","linkify":"Common parameters","nodes":[{"content":"Common parameters","pos":[0,17]}]},{"content":"All of the policy rules for a particular audit policy share the same batch parameters and the same document selection date range.","pos":[4507,4636]},{"content":"These parameters are specified for the policy in the Additional options page.","pos":[4637,4714]},{"pos":[4718,4726],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[4737,4806],"content":"<bpt id=\"p1\">[</bpt>Audit policy violations and cases<ept id=\"p1\">](audit-policy-violations-cases.md)</ept>","source":"[Audit policy violations and cases](audit-policy-violations-cases.md)"}]}