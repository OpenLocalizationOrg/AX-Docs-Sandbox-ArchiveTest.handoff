{"content":"---\n# required metadata\n\ntitle: Best practices for importing vouchers using the General journal entity\ndescription: This topic provides tips for importing data into the General journal by using the General journal entity.  \nauthor: twheeloc\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Application User\n# ms.devlang: \nms.reviewer: twheeloc\nms.search.scope: Core, AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 94363\nms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc\nms.search.region: Global\n# ms.search.industry: \nms.author: kweekley\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Best practices for importing vouchers using the General journal entity\n\n[!include[banner](../includes/banner.md)]\n\n\nThis topic provides tips for importing data into the General journal by using the General journal entity.  \n\nYou can use the General journal entity to import vouchers that have an account or offset account type of **Ledger, Customer, Vendor, or Bank**. The voucher can be entered as one line, using both the **Account** field and the **Offset account** field, or as a multi-line voucher, where only the **Account** field is used (and the **Offset account** is left blank on each line). The General journal entity doesn't support every account type. Instead, other entities exist for scenarios where different combinations of account types are required. For example, to import a project transaction, use the Project expense journal entity. Each entity is designed to support specific scenarios, which means additional fields may be available in entities for those scenarios but not in entities for a different scenario.\n\n## Setup\nBefore you import by using the General journal entity, validate the following setup:\n\n-   **Number sequence setup for the journal batch number** - By default, when you import by using the General journal entity, the journal batch number uses the number sequence that is defined in the General ledger parameters. If you set the number sequence for the journal batch number to **Manual**, a default number isn't applied. This setup isn't supported.\n-   **Financial dimension configuration** - Every organization must define the order of financial dimensions when entities are used to import transactions. The order is defined for the **Ledger dimensions integration** format, at **General ledger** &gt; **Chart of accounts** &gt; **Dimensions** &gt; **Financial dimension configuration for integrating applications** &gt; **Select data entities**. The segments of the ledger account that is imported must have the same order. Otherwise, an error will occur during import.\n\n## General journal entity setup\nTwo settings in Data management affect how the default journal batch number or voucher number is applied:\n\n-   **Set-based processing** (on the data entity)\n-   **Auto-generated** (on the field mapping)\n\nThe following sections describe the effect of these settings, and also explain how journal batch numbers and voucher numbers are generated.\n\n### Journal batch number\n\n-   The **Set-based processing** setting on the General journal entity doesn't affect the way that journal batch numbers are generated.\n-   If the **Journal batch number** field is set to **Auto-generated**, a new journal batch number is created for every line that is imported. This behavior isn't recommended. The **Auto-generated** setting is found on the import project, under **View map**, on the **Mapping details** tab.\n-   If the **Journal batch number** field isn't set to **Auto-generated**, the journal batch number is created as follows:\n    -   If the journal batch number that is defined in the imported file matches an existing, unposted daily journal, all lines that have a matching journal batch number are imported into the existing journal. Lines are never imported into a posted journal batch number. Instead, a new number is created.\n    -   If the journal batch number that is defined in the imported file doesn't match an existing, unposted daily journal, all lines that have the same journal batch number are grouped under a new journal. For example, all lines that have a journal batch number of 1 are imported into a new journal, and all lines that have a journal batch number of 2 are imported into a second new journal. The journal batch number is created by using the number sequence that is defined in the General ledger parameters.\n\n### Voucher number\n\n-   When you use the **Set-based processing** setting on the General journal entity, the voucher number must be provided in the imported file. Every transaction in the General journal is assigned the voucher number that is provided in the imported file, even if the voucher isn’t balanced. If you want to use set-based processing, but you also want to use the number sequence that is defined for voucher numbers, a hotfix has been provided for the February 2016 release. The hotfix number is 3170316 and available for download from Lifecycle services (LCS). For more information, see [Download hotfixes from Lifecycle Services](..\\migration-upgrade\\download-hotfix-lcs.md).\n    -   To enable this functionality, on the journal name that is used for imports, set **Number allocation at posting** to **Yes**.\n    -   A voucher number must still be defined in the imported file. However, this number is temporary and is overwritten by the voucher number when the journal is posted. You must make sure that the lines of the journal are grouped correctly by temporary voucher number. For example, during posting, three lines are found that have a temporary voucher number of 1. The temporary voucher number of all three lines is overwritten by the next number in the number sequence. If those three lines aren’t a balanced entry, the voucher isn't posted. Next, if lines are found that have a temporary voucher number of 2, this number is overwritten by the next voucher number in the number sequence, and so on.\n\n<!-- -->\n\n-   When you don't use the **Set-based processing** setting, you do not need to provide a voucher number in the imported file. The voucher numbers are created during import, based on the setup of the journal name (**One voucher only**, **In connection of balance**, and so on). For example, if the journal name is defined as **In connection of balance**, the first line receives a new default voucher number. The system then evaluates the line to determine whether the debits equal the credits. If an offset account exists on the line, the next line that is imported receives a new voucher number. If no offset account exists, the system evaluates whether the debits equal the credits as each new line is imported.\n-   If the **Voucher number** field is set to **Auto-generated**, the import won't succeed. The **Auto-generated** setting for the **Voucher number** field isn't supported.\n\nBy default, the General journal entity uses set-based processing. After you evaluate the business requirements for your organization, you can change the **Set-based processing** setting by clicking **Data entities** in the **Data management** workspace. Set-based processing is used to speed up the import process. If you don't use set-based processing, import of the General journal entity import will be slower.\n\n\n\n","nodes":[{"pos":[4,748],"embed":true,"restype":"x-metadata","content":"# required metadata\n\ntitle: Best practices for importing vouchers using the General journal entity\ndescription: This topic provides tips for importing data into the General journal by using the General journal entity.  \nauthor: twheeloc\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Application User\n# ms.devlang: \nms.reviewer: twheeloc\nms.search.scope: Core, AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 94363\nms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc\nms.search.region: Global\n# ms.search.industry: \nms.author: kweekley\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n","nodes":[{"content":"Best practices for importing vouchers using the General journal entity","nodes":[{"pos":[0,70],"content":"Best practices for importing vouchers using the General journal entity","nodes":[{"content":"Best practices for importing vouchers using the General journal entity","pos":[0,70]}]}],"path":["title"],"extradata":"MT"},{"content":"This topic provides tips for importing data into the General journal by using the General journal entity.","nodes":[{"pos":[0,105],"content":"This topic provides tips for importing data into the General journal by using the General journal entity.","nodes":[{"content":"This topic provides tips for importing data into the General journal by using the General journal entity.","pos":[0,105]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata\n","yml":true},{"pos":[756,826],"content":"Best practices for importing vouchers using the General journal entity","linkify":"Best practices for importing vouchers using the General journal entity","nodes":[{"content":"Best practices for importing vouchers using the General journal entity","pos":[0,70]}]},{"content":"This topic provides tips for importing data into the General journal by using the General journal entity.","pos":[872,977]},{"content":"You can use the General journal entity to import vouchers that have an account or offset account type of <bpt id=\"p1\">**</bpt>Ledger, Customer, Vendor, or Bank<ept id=\"p1\">**</ept>.","pos":[981,1124],"source":"You can use the General journal entity to import vouchers that have an account or offset account type of **Ledger, Customer, Vendor, or Bank**."},{"content":"The voucher can be entered as one line, using both the <bpt id=\"p1\">**</bpt>Account<ept id=\"p1\">**</ept> field and the <bpt id=\"p2\">**</bpt>Offset account<ept id=\"p2\">**</ept> field, or as a multi-line voucher, where only the <bpt id=\"p3\">**</bpt>Account<ept id=\"p3\">**</ept> field is used (and the <bpt id=\"p4\">**</bpt>Offset account<ept id=\"p4\">**</ept> is left blank on each line).","pos":[1125,1357],"source":" The voucher can be entered as one line, using both the **Account** field and the **Offset account** field, or as a multi-line voucher, where only the **Account** field is used (and the **Offset account** is left blank on each line)."},{"content":"The General journal entity doesn't support every account type.","pos":[1358,1420]},{"content":"Instead, other entities exist for scenarios where different combinations of account types are required.","pos":[1421,1524]},{"content":"For example, to import a project transaction, use the Project expense journal entity.","pos":[1525,1610]},{"content":"Each entity is designed to support specific scenarios, which means additional fields may be available in entities for those scenarios but not in entities for a different scenario.","pos":[1611,1790]},{"pos":[1795,1800],"content":"Setup","linkify":"Setup","nodes":[{"content":"Setup","pos":[0,5]}]},{"content":"Before you import by using the General journal entity, validate the following setup:","pos":[1801,1885]},{"content":"<bpt id=\"p1\">**</bpt>Number sequence setup for the journal batch number<ept id=\"p1\">**</ept> - By default, when you import by using the General journal entity, the journal batch number uses the number sequence that is defined in the General ledger parameters.","pos":[1891,2112],"source":"**Number sequence setup for the journal batch number** - By default, when you import by using the General journal entity, the journal batch number uses the number sequence that is defined in the General ledger parameters."},{"content":"If you set the number sequence for the journal batch number to <bpt id=\"p1\">**</bpt>Manual<ept id=\"p1\">**</ept>, a default number isn't applied.","pos":[2113,2219],"source":" If you set the number sequence for the journal batch number to **Manual**, a default number isn't applied."},{"content":"This setup isn't supported.","pos":[2220,2247]},{"content":"<bpt id=\"p1\">**</bpt>Financial dimension configuration<ept id=\"p1\">**</ept> - Every organization must define the order of financial dimensions when entities are used to import transactions.","pos":[2252,2403],"source":"**Financial dimension configuration** - Every organization must define the order of financial dimensions when entities are used to import transactions."},{"content":"The order is defined for the <bpt id=\"p1\">**</bpt>Ledger dimensions integration<ept id=\"p1\">**</ept> format, at <bpt id=\"p2\">**</bpt>General ledger<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Chart of accounts<ept id=\"p3\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Dimensions<ept id=\"p4\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p5\">**</bpt>Financial dimension configuration for integrating applications<ept id=\"p5\">**</ept> <ph id=\"ph4\">&amp;gt;</ph> <bpt id=\"p6\">**</bpt>Select data entities<ept id=\"p6\">**</ept>.","pos":[2404,2646],"source":" The order is defined for the **Ledger dimensions integration** format, at **General ledger** &gt; **Chart of accounts** &gt; **Dimensions** &gt; **Financial dimension configuration for integrating applications** &gt; **Select data entities**."},{"content":"The segments of the ledger account that is imported must have the same order.","pos":[2647,2724]},{"content":"Otherwise, an error will occur during import.","pos":[2725,2770]},{"pos":[2775,2803],"content":"General journal entity setup","linkify":"General journal entity setup","nodes":[{"content":"General journal entity setup","pos":[0,28]}]},{"content":"Two settings in Data management affect how the default journal batch number or voucher number is applied:","pos":[2804,2909]},{"pos":[2915,2960],"content":"<bpt id=\"p1\">**</bpt>Set-based processing<ept id=\"p1\">**</ept> (on the data entity)","source":"**Set-based processing** (on the data entity)"},{"pos":[2965,3006],"content":"<bpt id=\"p1\">**</bpt>Auto-generated<ept id=\"p1\">**</ept> (on the field mapping)","source":"**Auto-generated** (on the field mapping)"},{"content":"The following sections describe the effect of these settings, and also explain how journal batch numbers and voucher numbers are generated.","pos":[3008,3147]},{"pos":[3153,3173],"content":"Journal batch number","linkify":"Journal batch number","nodes":[{"content":"Journal batch number","pos":[0,20]}]},{"pos":[3179,3310],"content":"The <bpt id=\"p1\">**</bpt>Set-based processing<ept id=\"p1\">**</ept> setting on the General journal entity doesn't affect the way that journal batch numbers are generated.","source":"The **Set-based processing** setting on the General journal entity doesn't affect the way that journal batch numbers are generated."},{"content":"If the <bpt id=\"p1\">**</bpt>Journal batch number<ept id=\"p1\">**</ept> field is set to <bpt id=\"p2\">**</bpt>Auto-generated<ept id=\"p2\">**</ept>, a new journal batch number is created for every line that is imported.","pos":[3315,3453],"source":"If the **Journal batch number** field is set to **Auto-generated**, a new journal batch number is created for every line that is imported."},{"content":"This behavior isn't recommended.","pos":[3454,3486]},{"content":"The <bpt id=\"p1\">**</bpt>Auto-generated<ept id=\"p1\">**</ept> setting is found on the import project, under <bpt id=\"p2\">**</bpt>View map<ept id=\"p2\">**</ept>, on the <bpt id=\"p3\">**</bpt>Mapping details<ept id=\"p3\">**</ept> tab.","pos":[3487,3601],"source":" The **Auto-generated** setting is found on the import project, under **View map**, on the **Mapping details** tab."},{"pos":[3606,3724],"content":"If the <bpt id=\"p1\">**</bpt>Journal batch number<ept id=\"p1\">**</ept> field isn't set to <bpt id=\"p2\">**</bpt>Auto-generated<ept id=\"p2\">**</ept>, the journal batch number is created as follows:","source":"If the **Journal batch number** field isn't set to **Auto-generated**, the journal batch number is created as follows:"},{"content":"If the journal batch number that is defined in the imported file matches an existing, unposted daily journal, all lines that have a matching journal batch number are imported into the existing journal.","pos":[3733,3934]},{"content":"Lines are never imported into a posted journal batch number.","pos":[3935,3995]},{"content":"Instead, a new number is created.","pos":[3996,4029]},{"content":"If the journal batch number that is defined in the imported file doesn't match an existing, unposted daily journal, all lines that have the same journal batch number are grouped under a new journal.","pos":[4038,4236]},{"content":"For example, all lines that have a journal batch number of 1 are imported into a new journal, and all lines that have a journal batch number of 2 are imported into a second new journal.","pos":[4237,4422]},{"content":"The journal batch number is created by using the number sequence that is defined in the General ledger parameters.","pos":[4423,4537]},{"pos":[4543,4557],"content":"Voucher number","linkify":"Voucher number","nodes":[{"content":"Voucher number","pos":[0,14]}]},{"content":"When you use the <bpt id=\"p1\">**</bpt>Set-based processing<ept id=\"p1\">**</ept> setting on the General journal entity, the voucher number must be provided in the imported file.","pos":[4563,4701],"source":"When you use the **Set-based processing** setting on the General journal entity, the voucher number must be provided in the imported file."},{"content":"Every transaction in the General journal is assigned the voucher number that is provided in the imported file, even if the voucher isn’t balanced.","pos":[4702,4848]},{"content":"If you want to use set-based processing, but you also want to use the number sequence that is defined for voucher numbers, a hotfix has been provided for the February 2016 release.","pos":[4849,5029]},{"content":"The hotfix number is 3170316 and available for download from Lifecycle services (LCS).","pos":[5030,5116]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Download hotfixes from Lifecycle Services<ept id=\"p1\">](..\\migration-upgrade\\download-hotfix-lcs.md)</ept>.","pos":[5117,5232],"source":" For more information, see [Download hotfixes from Lifecycle Services](..\\migration-upgrade\\download-hotfix-lcs.md)."},{"pos":[5241,5365],"content":"To enable this functionality, on the journal name that is used for imports, set <bpt id=\"p1\">**</bpt>Number allocation at posting<ept id=\"p1\">**</ept> to <bpt id=\"p2\">**</bpt>Yes<ept id=\"p2\">**</ept>.","source":"To enable this functionality, on the journal name that is used for imports, set **Number allocation at posting** to **Yes**."},{"content":"A voucher number must still be defined in the imported file.","pos":[5374,5434]},{"content":"However, this number is temporary and is overwritten by the voucher number when the journal is posted.","pos":[5435,5537]},{"content":"You must make sure that the lines of the journal are grouped correctly by temporary voucher number.","pos":[5538,5637]},{"content":"For example, during posting, three lines are found that have a temporary voucher number of 1.","pos":[5638,5731]},{"content":"The temporary voucher number of all three lines is overwritten by the next number in the number sequence.","pos":[5732,5837]},{"content":"If those three lines aren’t a balanced entry, the voucher isn't posted.","pos":[5838,5909]},{"content":"Next, if lines are found that have a temporary voucher number of 2, this number is overwritten by the next voucher number in the number sequence, and so on.","pos":[5910,6066]},{"content":"When you don't use the <bpt id=\"p1\">**</bpt>Set-based processing<ept id=\"p1\">**</ept> setting, you do not need to provide a voucher number in the imported file.","pos":[6082,6204],"source":"When you don't use the **Set-based processing** setting, you do not need to provide a voucher number in the imported file."},{"content":"The voucher numbers are created during import, based on the setup of the journal name (<bpt id=\"p1\">**</bpt>One voucher only<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>In connection of balance<ept id=\"p2\">**</ept>, and so on).","pos":[6205,6355],"source":" The voucher numbers are created during import, based on the setup of the journal name (**One voucher only**, **In connection of balance**, and so on)."},{"content":"For example, if the journal name is defined as <bpt id=\"p1\">**</bpt>In connection of balance<ept id=\"p1\">**</ept>, the first line receives a new default voucher number.","pos":[6356,6486],"source":" For example, if the journal name is defined as **In connection of balance**, the first line receives a new default voucher number."},{"content":"The system then evaluates the line to determine whether the debits equal the credits.","pos":[6487,6572]},{"content":"If an offset account exists on the line, the next line that is imported receives a new voucher number.","pos":[6573,6675]},{"content":"If no offset account exists, the system evaluates whether the debits equal the credits as each new line is imported.","pos":[6676,6792]},{"content":"If the <bpt id=\"p1\">**</bpt>Voucher number<ept id=\"p1\">**</ept> field is set to <bpt id=\"p2\">**</bpt>Auto-generated<ept id=\"p2\">**</ept>, the import won't succeed.","pos":[6797,6884],"source":"If the **Voucher number** field is set to **Auto-generated**, the import won't succeed."},{"content":"The <bpt id=\"p1\">**</bpt>Auto-generated<ept id=\"p1\">**</ept> setting for the <bpt id=\"p2\">**</bpt>Voucher number<ept id=\"p2\">**</ept> field isn't supported.","pos":[6885,6965],"source":" The **Auto-generated** setting for the **Voucher number** field isn't supported."},{"content":"By default, the General journal entity uses set-based processing.","pos":[6967,7032]},{"content":"After you evaluate the business requirements for your organization, you can change the <bpt id=\"p1\">**</bpt>Set-based processing<ept id=\"p1\">**</ept> setting by clicking <bpt id=\"p2\">**</bpt>Data entities<ept id=\"p2\">**</ept> in the <bpt id=\"p3\">**</bpt>Data management<ept id=\"p3\">**</ept> workspace.","pos":[7033,7220],"source":" After you evaluate the business requirements for your organization, you can change the **Set-based processing** setting by clicking **Data entities** in the **Data management** workspace."},{"content":"Set-based processing is used to speed up the import process.","pos":[7221,7281]},{"content":"If you don't use set-based processing, import of the General journal entity import will be slower.","pos":[7282,7380]}]}