{"content":"---\n# required metadata\n\ntitle: Create coupons for retail sales\ndescription: This topic provides an overview of retail coupons and explains how to set them up.\nauthor: scott-tucker\nmanager: AnnBe\nms.date: 05/22/2017\nms.topic: article\nms.prod: \nms.service: dynamics-365-retail\nms.technology: \n\n# optional metadata\n\n# ms.search.form: RetailCoupon\n# ROBOTS: \naudience: Application User\n# ms.devlang: \nms.reviewer: josaw\nms.search.scope: Retail, Operations\n# ms.tgt_pltfrm: \nms.custom: \nms.search.region: Global\nms.search.industry: retail\nms.author: scotttuc\nms.search.validFrom: 2017-06-30\nms.dyn365.ops.version: July 2017 update\n\n---\n\n# Create coupons for retail sales\n\n[!include[banner](includes/banner.md)]\n\n\n## Overview of coupons\n\nCoupons are codes and bar codes that are used to add retail discounts to transactions. Each coupon can have multiple codes, and each code can have its own effective dates. \n\nEach coupon is related to one retail discount. The price groups that are associated with the discount define the customers that can use a coupon or the channels where a coupon is valid. \n\nEssentially, coupons are additional validation on top of retail discounts. The coupon provides the coupon codes and bar codes that are required, together with date ranges for those codes. The coupon also provides optional usage limits and customer required properties. The discount provides the set of products that the coupon is valid for. The price groups for the discount provide the set of customers, channels, or catalogs that the coupon is valid for.\n\nTo create a coupon, you create the discount and the coupon separately. You then link them by selecting the discount on the coupon page in Microsoft Dynamics 365 for Retail. \n\n> [!NOTE]\n> After a coupon is linked to a discount, several fields on the discount page in Microsoft Dynamics 365 for Retail become read-only, because they are managed by the coupon’s settings. These fields include the fields for the status and standard date ranges.\n\n### Limited-use coupons\n\nCoupons can be configured as limited-use coupons. The usage limit can be defined per customer or channel, or as a global limit. This limit is enforced when the code or bar code is entered or scanned in POS or during sales order entry. A coupon is recorded as used when an order is completed that has the coupon associated with it.\n\nThe limit is enforced per coupon code on a coupon. For example, a single-use coupon that has two coupon codes can be used two times: one time for each coupon code. Each code on a coupon can be independently set to active.\n\n## Managing coupons\n\nYou must create the discount and the coupon separately. You then link them by selecting the discount on the coupon page. After you link a coupon to a discount, several fields for the discount become read-only, because they are managed by the coupon's settings. These fields include the fields for the status and standard date ranges.  \n\nEssentially, coupons are now additional validation on top of retail discounts. The coupon provides the coupon codes and bar codes, together with date ranges, the usage limits, and the customer required property. The discount provides the set of products that the coupon is valid for. The discount's price groups provide the set of customers, channels, or catalogs that the coupon is valid for.\n\n## System setup for coupons \n\nBefore you can set up a coupon, you must set up the coupon bar code and two coupon number sequences. \n\n1.  On the **Mask characters** page, create a new mask character for the coupon code. You can select any unused character.\n2.  On the **Bar code mask setup** page, create a new bar code mask. Set the **Type** field to **Coupon**.\n3.  On the **Bar code setup** page, create a new bar code that uses the bar code mask that you just created.\n4.  On the **Number sequences** page, create two new number sequences. One sequence is for the coupon code ID, and the other sequence is for the coupon number. The coupon code ID is the unique identifier for each coupon code for a coupon. The coupon number is the unique identifier for a coupon. Each coupon can have multiple codes and bar codes that trigger the coupon.\n\n    > [!NOTE]\n    > For both number sequences, you must set the **Scope** field to **Company**. In most cases, you should automatically generate both sequence numbers.\n\n5.  On the **Retail shared parameters** page, on the **Bar codes** tab, select the bar code that you created earlier.\n6.  On the **Retail parameters** page, on the **Number sequences** tab, select the number sequences that you created for the coupon number and coupon code ID.\n7.  You can now open the **Coupons** page and create new coupons.\n\n## The effect of partial updates on coupons\n\nCoupon functionality comprises multiple distinct features in Dynamics 365 for Retail. Microsoft Dynamics 365 for Retail headquarters (HQ) and the channel can be partially updated across components. Therefore, it's important that you understand how partial updates affect coupon functionality as a whole.\n\n- **HQ is partially updated, but Retail server and POS aren't updated.** In an HQ update, the coupon and discount pages are updated, and the retail price engine is also updated. If only one of those two components is updated, some pages in Retail won’t match the price calculation data. Therefore, unexpected discount calculations or errors might occur during discount calculations.\n- **HQ is updated, but Retail server and POS aren't updated (N-1).** Because not all retail stores can be updated at the same time, we recommend that you update HQ before you update retail stores. In the N-1 scenario, new functionality that is related to coupons won't be available in stores that haven’t been updated yet. For example, the coupon functionality introduces “exclude” lines. If you use exclude lines on a discount, they won't be applied in a retail store that is running an earlier version.\n- **HQ isn't updated, but Retail server and POS are updated (N+1).** Because the updated price engine in Retail server can handle legacy discount codes during price calculations, the update should have no functional impact in this scenario.\n","nodes":[{"pos":[4,627],"embed":true,"restype":"x-metadata","content":"# required metadata\n\ntitle: Create coupons for retail sales\ndescription: This topic provides an overview of retail coupons and explains how to set them up.\nauthor: scott-tucker\nmanager: AnnBe\nms.date: 05/22/2017\nms.topic: article\nms.prod: \nms.service: dynamics-365-retail\nms.technology: \n\n# optional metadata\n\n# ms.search.form: RetailCoupon\n# ROBOTS: \naudience: Application User\n# ms.devlang: \nms.reviewer: josaw\nms.search.scope: Retail, Operations\n# ms.tgt_pltfrm: \nms.custom: \nms.search.region: Global\nms.search.industry: retail\nms.author: scotttuc\nms.search.validFrom: 2017-06-30\nms.dyn365.ops.version: July 2017 update\n","nodes":[{"content":"Create coupons for retail sales","nodes":[{"pos":[0,31],"content":"Create coupons for retail sales","nodes":[{"content":"Create coupons for retail sales","pos":[0,31]}]}],"path":["title"],"extradata":"MT"},{"content":"This topic provides an overview of retail coupons and explains how to set them up.","nodes":[{"pos":[0,82],"content":"This topic provides an overview of retail coupons and explains how to set them up.","nodes":[{"content":"This topic provides an overview of retail coupons and explains how to set them up.","pos":[0,82]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata\n","yml":true},{"pos":[635,666],"content":"Create coupons for retail sales","linkify":"Create coupons for retail sales","nodes":[{"content":"Create coupons for retail sales","pos":[0,31]}]},{"pos":[712,731],"content":"Overview of coupons","linkify":"Overview of coupons","nodes":[{"content":"Overview of coupons","pos":[0,19]}]},{"content":"Coupons are codes and bar codes that are used to add retail discounts to transactions.","pos":[733,819]},{"content":"Each coupon can have multiple codes, and each code can have its own effective dates.","pos":[820,904]},{"content":"Each coupon is related to one retail discount.","pos":[907,953]},{"content":"The price groups that are associated with the discount define the customers that can use a coupon or the channels where a coupon is valid.","pos":[954,1092]},{"content":"Essentially, coupons are additional validation on top of retail discounts.","pos":[1095,1169]},{"content":"The coupon provides the coupon codes and bar codes that are required, together with date ranges for those codes.","pos":[1170,1282]},{"content":"The coupon also provides optional usage limits and customer required properties.","pos":[1283,1363]},{"content":"The discount provides the set of products that the coupon is valid for.","pos":[1364,1435]},{"content":"The price groups for the discount provide the set of customers, channels, or catalogs that the coupon is valid for.","pos":[1436,1551]},{"content":"To create a coupon, you create the discount and the coupon separately.","pos":[1553,1623]},{"content":"You then link them by selecting the discount on the coupon page in Microsoft Dynamics 365 for Retail.","pos":[1624,1725]},{"pos":[1730,1994],"content":"[!NOTE]\nAfter a coupon is linked to a discount, several fields on the discount page in Microsoft Dynamics 365 for Retail become read-only, because they are managed by the coupon’s settings. These fields include the fields for the status and standard date ranges.","leadings":["","> "],"nodes":[{"content":"After a coupon is linked to a discount, several fields on the discount page in Microsoft Dynamics 365 for Retail become read-only, because they are managed by the coupon’s settings. These fields include the fields for the status and standard date ranges.","pos":[8,262],"nodes":[{"content":"After a coupon is linked to a discount, several fields on the discount page in Microsoft Dynamics 365 for Retail become read-only, because they are managed by the coupon’s settings.","pos":[0,181]},{"content":"These fields include the fields for the status and standard date ranges.","pos":[182,254]}]}]},{"pos":[2000,2019],"content":"Limited-use coupons","linkify":"Limited-use coupons","nodes":[{"content":"Limited-use coupons","pos":[0,19]}]},{"content":"Coupons can be configured as limited-use coupons.","pos":[2021,2070]},{"content":"The usage limit can be defined per customer or channel, or as a global limit.","pos":[2071,2148]},{"content":"This limit is enforced when the code or bar code is entered or scanned in POS or during sales order entry.","pos":[2149,2255]},{"content":"A coupon is recorded as used when an order is completed that has the coupon associated with it.","pos":[2256,2351]},{"content":"The limit is enforced per coupon code on a coupon.","pos":[2353,2403]},{"content":"For example, a single-use coupon that has two coupon codes can be used two times: one time for each coupon code.","pos":[2404,2516]},{"content":"Each code on a coupon can be independently set to active.","pos":[2517,2574]},{"pos":[2579,2595],"content":"Managing coupons","linkify":"Managing coupons","nodes":[{"content":"Managing coupons","pos":[0,16]}]},{"content":"You must create the discount and the coupon separately.","pos":[2597,2652]},{"content":"You then link them by selecting the discount on the coupon page.","pos":[2653,2717]},{"content":"After you link a coupon to a discount, several fields for the discount become read-only, because they are managed by the coupon's settings.","pos":[2718,2857]},{"content":"These fields include the fields for the status and standard date ranges.","pos":[2858,2930]},{"content":"Essentially, coupons are now additional validation on top of retail discounts.","pos":[2934,3012]},{"content":"The coupon provides the coupon codes and bar codes, together with date ranges, the usage limits, and the customer required property.","pos":[3013,3145]},{"content":"The discount provides the set of products that the coupon is valid for.","pos":[3146,3217]},{"content":"The discount's price groups provide the set of customers, channels, or catalogs that the coupon is valid for.","pos":[3218,3327]},{"pos":[3332,3356],"content":"System setup for coupons","linkify":"System setup for coupons","nodes":[{"content":"System setup for coupons","pos":[0,24]}]},{"content":"Before you can set up a coupon, you must set up the coupon bar code and two coupon number sequences.","pos":[3359,3459]},{"content":"On the <bpt id=\"p1\">**</bpt>Mask characters<ept id=\"p1\">**</ept> page, create a new mask character for the coupon code.","pos":[3466,3547],"source":"On the **Mask characters** page, create a new mask character for the coupon code."},{"content":"You can select any unused character.","pos":[3548,3584]},{"content":"On the <bpt id=\"p1\">**</bpt>Bar code mask setup<ept id=\"p1\">**</ept> page, create a new bar code mask.","pos":[3589,3653],"source":"On the **Bar code mask setup** page, create a new bar code mask."},{"content":"Set the <bpt id=\"p1\">**</bpt>Type<ept id=\"p1\">**</ept> field to <bpt id=\"p2\">**</bpt>Coupon<ept id=\"p2\">**</ept>.","pos":[3654,3691],"source":" Set the **Type** field to **Coupon**."},{"pos":[3696,3800],"content":"On the <bpt id=\"p1\">**</bpt>Bar code setup<ept id=\"p1\">**</ept> page, create a new bar code that uses the bar code mask that you just created.","source":"On the **Bar code setup** page, create a new bar code that uses the bar code mask that you just created."},{"content":"On the <bpt id=\"p1\">**</bpt>Number sequences<ept id=\"p1\">**</ept> page, create two new number sequences.","pos":[3805,3871],"source":"On the **Number sequences** page, create two new number sequences."},{"content":"One sequence is for the coupon code ID, and the other sequence is for the coupon number.","pos":[3872,3960]},{"content":"The coupon code ID is the unique identifier for each coupon code for a coupon.","pos":[3961,4039]},{"content":"The coupon number is the unique identifier for a coupon.","pos":[4040,4096]},{"content":"Each coupon can have multiple codes and bar codes that trigger the coupon.","pos":[4097,4171]},{"pos":[4179,4340],"content":"[!NOTE]\nFor both number sequences, you must set the **Scope** field to **Company**. In most cases, you should automatically generate both sequence numbers.","leadings":["","    > "],"nodes":[{"content":"For both number sequences, you must set the **Scope** field to **Company**. In most cases, you should automatically generate both sequence numbers.","pos":[8,155],"nodes":[{"content":"For both number sequences, you must set the <bpt id=\"p1\">**</bpt>Scope<ept id=\"p1\">**</ept> field to <bpt id=\"p2\">**</bpt>Company<ept id=\"p2\">**</ept>.","pos":[0,75],"source":"For both number sequences, you must set the **Scope** field to **Company**."},{"content":"In most cases, you should automatically generate both sequence numbers.","pos":[76,147]}]}]},{"pos":[4346,4459],"content":"On the <bpt id=\"p1\">**</bpt>Retail shared parameters<ept id=\"p1\">**</ept> page, on the <bpt id=\"p2\">**</bpt>Bar codes<ept id=\"p2\">**</ept> tab, select the bar code that you created earlier.","source":"On the **Retail shared parameters** page, on the **Bar codes** tab, select the bar code that you created earlier."},{"pos":[4464,4618],"content":"On the <bpt id=\"p1\">**</bpt>Retail parameters<ept id=\"p1\">**</ept> page, on the <bpt id=\"p2\">**</bpt>Number sequences<ept id=\"p2\">**</ept> tab, select the number sequences that you created for the coupon number and coupon code ID.","source":"On the **Retail parameters** page, on the **Number sequences** tab, select the number sequences that you created for the coupon number and coupon code ID."},{"pos":[4623,4684],"content":"You can now open the <bpt id=\"p1\">**</bpt>Coupons<ept id=\"p1\">**</ept> page and create new coupons.","source":"You can now open the **Coupons** page and create new coupons."},{"pos":[4689,4729],"content":"The effect of partial updates on coupons","linkify":"The effect of partial updates on coupons","nodes":[{"content":"The effect of partial updates on coupons","pos":[0,40]}]},{"content":"Coupon functionality comprises multiple distinct features in Dynamics 365 for Retail.","pos":[4731,4816]},{"content":"Microsoft Dynamics 365 for Retail headquarters (HQ) and the channel can be partially updated across components.","pos":[4817,4928]},{"content":"Therefore, it's important that you understand how partial updates affect coupon functionality as a whole.","pos":[4929,5034]},{"content":"<bpt id=\"p1\">**</bpt>HQ is partially updated, but Retail server and POS aren't updated.<ept id=\"p1\">**</ept>","pos":[5038,5108],"source":"**HQ is partially updated, but Retail server and POS aren't updated.**"},{"content":"In an HQ update, the coupon and discount pages are updated, and the retail price engine is also updated.","pos":[5109,5213]},{"content":"If only one of those two components is updated, some pages in Retail won’t match the price calculation data.","pos":[5214,5322]},{"content":"Therefore, unexpected discount calculations or errors might occur during discount calculations.","pos":[5323,5418]},{"content":"<bpt id=\"p1\">**</bpt>HQ is updated, but Retail server and POS aren't updated (N-1).<ept id=\"p1\">**</ept>","pos":[5421,5487],"source":"**HQ is updated, but Retail server and POS aren't updated (N-1).**"},{"content":"Because not all retail stores can be updated at the same time, we recommend that you update HQ before you update retail stores.","pos":[5488,5615]},{"content":"In the N-1 scenario, new functionality that is related to coupons won't be available in stores that haven’t been updated yet.","pos":[5616,5741]},{"content":"For example, the coupon functionality introduces “exclude” lines.","pos":[5742,5807]},{"content":"If you use exclude lines on a discount, they won't be applied in a retail store that is running an earlier version.","pos":[5808,5923]},{"content":"<bpt id=\"p1\">**</bpt>HQ isn't updated, but Retail server and POS are updated (N+1).<ept id=\"p1\">**</ept>","pos":[5926,5992],"source":"**HQ isn't updated, but Retail server and POS are updated (N+1).**"},{"content":"Because the updated price engine in Retail server can handle legacy discount codes during price calculations, the update should have no functional impact in this scenario.","pos":[5993,6164]}]}