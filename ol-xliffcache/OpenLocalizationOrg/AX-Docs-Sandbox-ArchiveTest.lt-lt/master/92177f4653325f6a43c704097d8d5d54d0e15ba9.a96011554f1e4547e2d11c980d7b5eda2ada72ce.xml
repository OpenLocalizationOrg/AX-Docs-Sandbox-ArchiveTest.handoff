{"content":"--- \n# required metadata \n \ntitle: Extend data model to use Document Management files in format outputs for electronic reporting (ER)\ndescription: The following steps explain how a user assigned to the System Administrator or Electronic Reporting Developer role can configure an Electronic reporting (ER) format to use Document Management files (attachments) in ER output. \nauthor: NickSelin\nmanager: AnnBe \nms.date: 10/28/2016\nms.topic: business-process \nms.prod:  \nms.service: dynamics-ax-applications \nms.technology:  \n \n# optional metadata \n \n# ms.search.form:   \naudience: Application User \n# ms.devlang:  \nms.reviewer: kfend\nms.search.scope: Operations \n# ms.tgt_pltfrm:  \n# ms.custom:  \nms.search.region: Global\n# ms.search.industry: \nms.author: nselin\nms.search.validFrom: 2016-06-30 \nms.dyn365.ops.version: Version 7.0.0 \n---\n# Extend data model to use Document Management files in format outputs for electronic reporting (ER)\n\n[!include[task guide banner](../../includes/task-guide-banner.md)]\n\nThe following steps explain how a user assigned to the System Administrator or Electronic Reporting Developer role can configure an Electronic reporting (ER) format to use Document Management files (attachments) in ER output. These steps can be performed in any company.\n\nTo complete these steps, you must first complete the steps in the “ER Use Document Management files in format outputs (Part 1: Prepare data model)” task guide.\n\nThis procedure is for a feature that was added in Dynamics 365 for Operations version 1611.\n\n\n## Extend data model to present the Document Management files in it\n1. Go to Organization administration > Workspaces > Electronic reporting.\n2. Click Reporting configurations.\n3. In the tree, expand 'Customer invoice model'.\n4. In the tree, select 'Customer invoice model\\Customer invoice model (custom)'.\n5. Click Designer.\n6. In the tree, select 'Customer invoice(InvoiceCustomer)'.\n    * We will extend this data model to expose in it any files that have been attached to a sales order that is related to an electronically processing invoice.  \n7. Click New to open the drop dialog.\n8. In the Name field, type 'Invoice attachments'.\n    * Invoice attachments  \n9. In the Item type field, select 'Record list'.\n10. Click Add.\n11. Click New to open the drop dialog.\n12. In the Name field, type 'File content'.\n    * File content  \n13. In the Item type field, select 'Container'.\n14. Click Add.\n15. Click New to open the drop dialog.\n16. In the Name field, type 'File name'.\n    * File name  \n17. In the Item type field, select 'String'.\n18. Click Add.\n\n## Map new data model elements to Dynamics 365 for Finance and Operations, Enterprise edition data sources\n1. Click Map model to datasource.\n2. Use the Quick Filter to filter on the Definition field with a value of 'InvoiceCustomer'.\n    * InvoiceCustomer  \n    * We will map new model elements to appropriate data sources.  \n3. Click Designer.\n4. In the tree, select 'Invoice attachments'.\n5. In the tree, expand 'Invoice attachments'.\n6. In the tree, select 'Invoice attachments\\File name'.\n7. Click Edit.\n8. In the Formula field, enter 'CustInvoiceJour.'>Relations'.SalesTable.'<Relations'.'<Documents'.'originalFileName()''.\n    * CustInvoiceJour.'>Relations'.SalesTable.'<Relations'.'<Documents'.'originalFileName()'  \n9. Click Save.\n10. Close the page.\n11. In the tree, select 'Invoice attachments\\File content'.\n12. Click Edit.\n13. In the Formula field, enter 'CustInvoiceJour.'>Relations'.SalesTable.'<Relations'.'<Documents'.'getFileContentAsContainer()''.\n    * CustInvoiceJour.'>Relations'.SalesTable.'<Relations'.'<Documents'.'getFileContentAsContainer()'  \n14. Click Save.\n15. Close the page.\n16. In the tree, select 'Invoice attachments'.\n17. Click Edit.\n18. In the Formula field, enter 'CustInvoiceJour.'>Relations'.SalesTable.'<Relations'.'<Documents''.\n    * CustInvoiceJour.'>Relations'.SalesTable.'<Relations'.'<Documents'  \n19. Click Save.\n20. Close the page.\n21. Click Save.\n22. Close the page.\n23. Close the page.\n24. Close the page.\n25. Click Change status.\n26. Click Complete.\n27. Click OK.\n\n","nodes":[{"pos":[5,830],"embed":true,"restype":"x-metadata","content":"# required metadata \n \ntitle: Extend data model to use Document Management files in format outputs for electronic reporting (ER)\ndescription: The following steps explain how a user assigned to the System Administrator or Electronic Reporting Developer role can configure an Electronic reporting (ER) format to use Document Management files (attachments) in ER output. \nauthor: NickSelin\nmanager: AnnBe \nms.date: 10/28/2016\nms.topic: business-process \nms.prod:  \nms.service: dynamics-ax-applications \nms.technology:  \n \n# optional metadata \n \n# ms.search.form:   \naudience: Application User \n# ms.devlang:  \nms.reviewer: kfend\nms.search.scope: Operations \n# ms.tgt_pltfrm:  \n# ms.custom:  \nms.search.region: Global\n# ms.search.industry: \nms.author: nselin\nms.search.validFrom: 2016-06-30 \nms.dyn365.ops.version: Version 7.0.0 ","nodes":[{"content":"Extend data model to use Document Management files in format outputs for electronic reporting (ER)","nodes":[{"pos":[0,98],"content":"Extend data model to use Document Management files in format outputs for electronic reporting (ER)","nodes":[{"content":"Extend data model to use Document Management files in format outputs for electronic reporting (ER)","pos":[0,98]}]}],"path":["title"],"extradata":"MT"},{"content":"The following steps explain how a user assigned to the System Administrator or Electronic Reporting Developer role can configure an Electronic reporting (ER) format to use Document Management files (attachments) in ER output.","nodes":[{"pos":[0,225],"content":"The following steps explain how a user assigned to the System Administrator or Electronic Reporting Developer role can configure an Electronic reporting (ER) format to use Document Management files (attachments) in ER output.","nodes":[{"content":"The following steps explain how a user assigned to the System Administrator or Electronic Reporting Developer role can configure an Electronic reporting (ER) format to use Document Management files (attachments) in ER output.","pos":[0,225]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata \n","yml":true},{"pos":[837,935],"content":"Extend data model to use Document Management files in format outputs for electronic reporting (ER)","linkify":"Extend data model to use Document Management files in format outputs for electronic reporting (ER)","nodes":[{"content":"Extend data model to use Document Management files in format outputs for electronic reporting (ER)","pos":[0,98]}]},{"content":"The following steps explain how a user assigned to the System Administrator or Electronic Reporting Developer role can configure an Electronic reporting (ER) format to use Document Management files (attachments) in ER output.","pos":[1005,1230]},{"content":"These steps can be performed in any company.","pos":[1231,1275]},{"content":"To complete these steps, you must first complete the steps in the “ER Use Document Management files in format outputs (Part 1: Prepare data model)” task guide.","pos":[1277,1436]},{"content":"This procedure is for a feature that was added in Dynamics 365 for Operations version 1611.","pos":[1438,1529]},{"pos":[1535,1599],"content":"Extend data model to present the Document Management files in it","linkify":"Extend data model to present the Document Management files in it","nodes":[{"content":"Extend data model to present the Document Management files in it","pos":[0,64]}]},{"content":"Go to Organization administration &gt; Workspaces &gt; Electronic reporting.","pos":[1603,1673],"source":"Go to Organization administration > Workspaces > Electronic reporting."},{"content":"Click Reporting configurations.","pos":[1677,1708]},{"content":"In the tree, expand 'Customer invoice model'.","pos":[1712,1757]},{"content":"In the tree, select 'Customer invoice model\\Customer invoice model (custom)'.","pos":[1761,1838]},{"content":"Click Designer.","pos":[1842,1857]},{"content":"In the tree, select 'Customer invoice(InvoiceCustomer)'.","pos":[1861,1917]},{"content":"We will extend this data model to expose in it any files that have been attached to a sales order that is related to an electronically processing invoice.","pos":[1924,2078]},{"content":"Click New to open the drop dialog.","pos":[2084,2118]},{"content":"In the Name field, type 'Invoice attachments'.","pos":[2122,2168]},{"content":"Invoice attachments","pos":[2175,2194]},{"content":"In the Item type field, select 'Record list'.","pos":[2200,2245]},{"content":"Click Add.","pos":[2250,2260]},{"content":"Click New to open the drop dialog.","pos":[2265,2299]},{"content":"In the Name field, type 'File content'.","pos":[2304,2343]},{"content":"File content","pos":[2350,2362]},{"content":"In the Item type field, select 'Container'.","pos":[2369,2412]},{"content":"Click Add.","pos":[2417,2427]},{"content":"Click New to open the drop dialog.","pos":[2432,2466]},{"content":"In the Name field, type 'File name'.","pos":[2471,2507]},{"content":"File name","pos":[2514,2523]},{"content":"In the Item type field, select 'String'.","pos":[2530,2570]},{"content":"Click Add.","pos":[2575,2585]},{"pos":[2590,2693],"content":"Map new data model elements to Dynamics 365 for Finance and Operations, Enterprise edition data sources","linkify":"Map new data model elements to Dynamics 365 for Finance and Operations, Enterprise edition data sources","nodes":[{"content":"Map new data model elements to Dynamics 365 for Finance and Operations, Enterprise edition data sources","pos":[0,103]}]},{"content":"Click Map model to datasource.","pos":[2697,2727]},{"content":"Use the Quick Filter to filter on the Definition field with a value of 'InvoiceCustomer'.","pos":[2731,2820]},{"content":"InvoiceCustomer","pos":[2827,2842]},{"content":"We will map new model elements to appropriate data sources.","pos":[2851,2910]},{"content":"Click Designer.","pos":[2916,2931]},{"content":"In the tree, select 'Invoice attachments'.","pos":[2935,2977]},{"content":"In the tree, expand 'Invoice attachments'.","pos":[2981,3023]},{"content":"In the tree, select 'Invoice attachments\\File name'.","pos":[3027,3079]},{"content":"Click Edit.","pos":[3083,3094]},{"content":"In the Formula field, enter 'CustInvoiceJour.'&gt;Relations'.SalesTable.'&lt;Relations'.'&lt;Documents'.'originalFileName()''.","pos":[3098,3215],"source":"In the Formula field, enter 'CustInvoiceJour.'>Relations'.SalesTable.'<Relations'.'<Documents'.'originalFileName()''."},{"content":"CustInvoiceJour.'&gt;Relations'.SalesTable.'&lt;Relations'.'&lt;Documents'.'originalFileName()'","pos":[3222,3308],"source":"CustInvoiceJour.'>Relations'.SalesTable.'<Relations'.'<Documents'.'originalFileName()'"},{"content":"Click Save.","pos":[3314,3325]},{"content":"Close the page.","pos":[3330,3345]},{"content":"In the tree, select 'Invoice attachments\\File content'.","pos":[3350,3405]},{"content":"Click Edit.","pos":[3410,3421]},{"content":"In the Formula field, enter 'CustInvoiceJour.'&gt;Relations'.SalesTable.'&lt;Relations'.'&lt;Documents'.'getFileContentAsContainer()''.","pos":[3426,3552],"source":"In the Formula field, enter 'CustInvoiceJour.'>Relations'.SalesTable.'<Relations'.'<Documents'.'getFileContentAsContainer()''."},{"content":"CustInvoiceJour.'&gt;Relations'.SalesTable.'&lt;Relations'.'&lt;Documents'.'getFileContentAsContainer()'","pos":[3559,3654],"source":"CustInvoiceJour.'>Relations'.SalesTable.'<Relations'.'<Documents'.'getFileContentAsContainer()'"},{"content":"Click Save.","pos":[3661,3672]},{"content":"Close the page.","pos":[3677,3692]},{"content":"In the tree, select 'Invoice attachments'.","pos":[3697,3739]},{"content":"Click Edit.","pos":[3744,3755]},{"content":"In the Formula field, enter 'CustInvoiceJour.'&gt;Relations'.SalesTable.'&lt;Relations'.'&lt;Documents''.","pos":[3760,3856],"source":"In the Formula field, enter 'CustInvoiceJour.'>Relations'.SalesTable.'<Relations'.'<Documents''."},{"content":"CustInvoiceJour.'&gt;Relations'.SalesTable.'&lt;Relations'.'&lt;Documents'","pos":[3863,3928],"source":"CustInvoiceJour.'>Relations'.SalesTable.'<Relations'.'<Documents'"},{"content":"Click Save.","pos":[3935,3946]},{"content":"Close the page.","pos":[3951,3966]},{"content":"Click Save.","pos":[3971,3982]},{"content":"Close the page.","pos":[3987,4002]},{"content":"Close the page.","pos":[4007,4022]},{"content":"Close the page.","pos":[4027,4042]},{"content":"Click Change status.","pos":[4047,4067]},{"content":"Click Complete.","pos":[4072,4087]},{"content":"Click OK.","pos":[4092,4101]}]}