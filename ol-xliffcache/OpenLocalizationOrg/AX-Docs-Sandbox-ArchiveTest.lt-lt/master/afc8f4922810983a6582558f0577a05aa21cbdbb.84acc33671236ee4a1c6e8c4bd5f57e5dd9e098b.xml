{"content":"---\n# required metadata\n\ntitle: Moving average\ndescription: \nauthor: YuyuScheller\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-applications\nms.technology: \n\n# optional metadata\n\nms.search.form: InventModelGroup\n# ROBOTS: \naudience: Application User\n# ms.devlang: \nms.reviewer: yuyus\nms.search.scope: Core, AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 65531\nms.assetid: dfd10099-8f7f-44b1-917e-df37c2fe8773\nms.search.region: Global\nms.search.industry: Manufacturing\nms.author: yuyus\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Moving average\n\n[!include[banner](../includes/banner.md)]\n\n\nThe following are prerequisites when you use moving average cost as a costing method.\n1.  In the **Item model groups** page, set up an item model group that has Moving average selected in the **Inventory model** field. **Note:** By default, when Moving average is selected, the **Post physical inventory** and **Post financial inventory** fields are also selected. \n\n2.  In the **Posting** page, assign accounts to the **Price difference for moving average** and the **Cost revaluation for moving average** accounts on the **Inventory** tab. You use the **Price difference for moving average** account when cost has to be proportionally expensed. This occurs because of a difference in cost between a purchase receipt and the purchase invoice, and because of a difference between the original inventory quantity and the current on-hand quantity. Use the **Cost revaluation for moving average** account when you want to adjust the moving average cost for a product to a new unit price.\n3.  In the **Released products** page, assign the moving average item model group to the product. **Note:** The inventory close process only closes the accounting period. It does not affect products that have moving average assigned to them as an item model group.\n\n## Convert to the moving average costing method\nProducts can be converted to use the moving average inventory valuation method. This type of conversion is usually done at the end of the year, after the last month of the current year is closed. It is done by using the product’s current costing model. You can change your inventory costing method from a costing method that is based on average cost or standard cost to a method that is based on moving average. \n\nIf you are changing your costing method from a standard costing method to a moving average method, you have to complete the following tasks:\n\n1.  Make adjustments to get inventory quantities and values down to 0 (zero).\n2.  After the inventory value and quantity are 0 (zero), change the item model group to moving average.\n3.  Make adjustments to get the quantity and value back into inventory.\n\nYou cannot change your inventory costing method from a moving average method to a First in, First out (FIFO) method, a Last in, First out (LIFO) method, or a weighted average method.\n\n**Note:** Converting from standard cost to moving weighted average is a manual process.\n\nThe following examples illustrate the effect of using the moving average costing method. There are four configurations:\n-   Purchase order and proportionally expensed cost difference\n-   Moving average product and inventory adjustment\n-   Moving average with production\n-   Moving average with a backdated transaction\n\n## Purchase order and proportionally expensed cost difference\nWith moving average, the product’s cost is determined by the purchase receipt. When the purchase invoice is posted, if there is a difference in cost between the purchase receipt and the purchase invoice, the difference is proportionally adjusted to the current products in stock, and any remaining amount is expensed. \n\nIn this example, a purchase order is created and received at one cost, and the purchase invoice is posted with a different cost.\n\n1.  Create a purchase order for a quantity of 2 and a unit price of 10.00.\n2.  Create a purchase receipt of the product.\n3.  Create a sales order for a quantity of 1 and a unit price of 10.00.\n4.  Create a purchase invoice for a quantity of 2 and a unit price of 12.00.\n\nThe difference in unit price, 2.00, is posted to the Price difference for moving average account when the purchase invoice is posted. The reason is that two products were purchased for a cost of 20.00. One of the products was sold for a unit price of 10.00. The purchase invoice was posted at a unit price of 12.00 with a quantity of 2. The unit price of the product cannot be posted at 14.00.\n\n## Moving average product and inventory adjustment\nIf you need to adjust the moving average cost of a product, inventory adjustments are allowed as of today’s date. You cannot backdate an inventory adjustment to correct the moving average cost of a product. You cannot have the cost flow through subsequent transactions. \n\nIn this example, the moving average cost is adjusted for a product.\n\n1.  Select the product that you want to adjust the moving average cost for. **Note:** The **Revaluation for moving average** page examines the inventory available for a product. The product selected has a posted quantity of 1, a posted a value of 12.00, a posted unit cost of 12.00, and a unit cost of 12.00.\n2.  Update the **Unit cost** field to 16.00. The system calculates the remaining fields.\n3.  The adjustment is posted.\n\n**Note:** You can only adjust the moving average cost as of today’s date.\n\nIn the **Settlements for voucher** page, you can see an adjustment of 4.00 posted to the Cost revaluation for moving average account.\n\n## Moving average with production\nMoving average supports produced items. If you plan to use moving average in a production environment, the **Use estimated cost price** slider in the **Production control parameters** page should be selcted. This means that the cost price that is calculated during estimation is used instead of the actual BOM calculation cost price.\n\n## Moving average with a backdated transaction\nBackdated transactions are assigned the current moving average cost, and the product’s physical quantity is updated, but the product’s moving average cost is not affected. In this moving average example, a backdated transaction for a moving average product is posted.\n\n1.  Create an inventory adjustment for the moving average product for a quantity of 1 and a cost of 20.00.\n2.  The inventory transaction history for the product would resemble the following:\n    -   An inventory transaction of 1, a cost of 16.00, a posting date of January 15, and a transaction date of January 15.\n    -   An inventory adjustment of 1, a cost of 20.00, a posting date of January 1, and a transaction date of January 15.\n3.  Post the adjustment.\n\nIn the **Inventory transactions** page, you can see that 4.00 is expensed as the current moving average for the product is 16.00. You can post in the past, but the difference in cost is expensed, so the moving average cost is not affected.\n\n## Inventory value report\nIn this moving average example, the inventory value report is printed to support the current moving average calculation for a product. The Inventory value report can print the transactions in chronological order, together with the cost to support the moving average cost calculation of a product. The report displays the moving average cost for the product. In the **Inventory value reports** dialog box, a Date interval allows you to select the **Transaction time** or the **Posting date** to sort the report by. The **Posting date** option is how the report is traditionally printed. The **Transaction time** option is the actual date that the transaction is reported and the moving average cost for the product is updated. You can print the Inventory value report by using the **Transaction time sorting** option if you want to see the moving average cost calculation over time. The following table displays the transactions for the product that the report is printed for when the **Transaction time sorting** option is used.\n\n| Transaction time | Date         | Transaction type           | Quantity | Amount | Average unit cost |\n|------------------|--------------|----------------------------|----------|--------|-------------------|\n|                  | October 1    | Beginning balance          | 0        | 0.00   | 0.00              |\n| October 8        | September 28 | Backdated receipt          | 1        | 16.00  | 16.00             |\n| October 3        | October 3    | Purchase receipt           | 2        | 20.00  | 12.00             |\n| October 5        | October 5    | Sales order                | -1       | -10.00 | 13.00             |\n| October 7        | October 7    | Purchase invoice           |          | 2.00   | 14.00             |\n| October 8        | October 8    | Moving average revaluation |          | 4.00   | 16.00             |\n|                  | October 31   | Total                      | 2        | 32.00  | 16.00             |\n\n **Note:** You cannot reconcile the general ledger with inventory by using the **Transaction time sorting** option. The report must be printed by using the **Posting date** option.\n\n\n\n\n\n","nodes":[{"pos":[4,612],"embed":true,"restype":"x-metadata","content":"# required metadata\n\ntitle: Moving average\ndescription: \nauthor: YuyuScheller\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-applications\nms.technology: \n\n# optional metadata\n\nms.search.form: InventModelGroup\n# ROBOTS: \naudience: Application User\n# ms.devlang: \nms.reviewer: yuyus\nms.search.scope: Core, AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 65531\nms.assetid: dfd10099-8f7f-44b1-917e-df37c2fe8773\nms.search.region: Global\nms.search.industry: Manufacturing\nms.author: yuyus\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n","nodes":[{"content":"Moving average","nodes":[{"pos":[0,14],"content":"Moving average","nodes":[{"content":"Moving average","pos":[0,14]}]}],"path":["title"],"extradata":"MT"}],"header":"# required metadata\n","yml":true},{"pos":[620,634],"content":"Moving average","linkify":"Moving average","nodes":[{"content":"Moving average","pos":[0,14]}]},{"content":"The following are prerequisites when you use moving average cost as a costing method.","pos":[680,765]},{"content":"In the <bpt id=\"p1\">**</bpt>Item model groups<ept id=\"p1\">**</ept> page, set up an item model group that has Moving average selected in the <bpt id=\"p2\">**</bpt>Inventory model<ept id=\"p2\">**</ept> field.","pos":[770,898],"source":"In the **Item model groups** page, set up an item model group that has Moving average selected in the **Inventory model** field."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> By default, when Moving average is selected, the <bpt id=\"p2\">**</bpt>Post physical inventory<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>Post financial inventory<ept id=\"p3\">**</ept> fields are also selected.","pos":[899,1044],"source":"**Note:** By default, when Moving average is selected, the **Post physical inventory** and **Post financial inventory** fields are also selected."},{"content":"In the <bpt id=\"p1\">**</bpt>Posting<ept id=\"p1\">**</ept> page, assign accounts to the <bpt id=\"p2\">**</bpt>Price difference for moving average<ept id=\"p2\">**</ept> and the <bpt id=\"p3\">**</bpt>Cost revaluation for moving average<ept id=\"p3\">**</ept> accounts on the <bpt id=\"p4\">**</bpt>Inventory<ept id=\"p4\">**</ept> tab.","pos":[1051,1221],"source":"In the **Posting** page, assign accounts to the **Price difference for moving average** and the **Cost revaluation for moving average** accounts on the **Inventory** tab."},{"content":"You use the <bpt id=\"p1\">**</bpt>Price difference for moving average<ept id=\"p1\">**</ept> account when cost has to be proportionally expensed.","pos":[1222,1326],"source":" You use the **Price difference for moving average** account when cost has to be proportionally expensed."},{"content":"This occurs because of a difference in cost between a purchase receipt and the purchase invoice, and because of a difference between the original inventory quantity and the current on-hand quantity.","pos":[1327,1525]},{"content":"Use the <bpt id=\"p1\">**</bpt>Cost revaluation for moving average<ept id=\"p1\">**</ept> account when you want to adjust the moving average cost for a product to a new unit price.","pos":[1526,1664],"source":" Use the **Cost revaluation for moving average** account when you want to adjust the moving average cost for a product to a new unit price."},{"content":"In the <bpt id=\"p1\">**</bpt>Released products<ept id=\"p1\">**</ept> page, assign the moving average item model group to the product.","pos":[1669,1762],"source":"In the **Released products** page, assign the moving average item model group to the product."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The inventory close process only closes the accounting period.","pos":[1763,1835],"source":"**Note:** The inventory close process only closes the accounting period."},{"content":"It does not affect products that have moving average assigned to them as an item model group.","pos":[1836,1929]},{"pos":[1934,1978],"content":"Convert to the moving average costing method","linkify":"Convert to the moving average costing method","nodes":[{"content":"Convert to the moving average costing method","pos":[0,44]}]},{"content":"Products can be converted to use the moving average inventory valuation method.","pos":[1979,2058]},{"content":"This type of conversion is usually done at the end of the year, after the last month of the current year is closed.","pos":[2059,2174]},{"content":"It is done by using the product’s current costing model.","pos":[2175,2231]},{"content":"You can change your inventory costing method from a costing method that is based on average cost or standard cost to a method that is based on moving average.","pos":[2232,2390]},{"content":"If you are changing your costing method from a standard costing method to a moving average method, you have to complete the following tasks:","pos":[2393,2533]},{"content":"Make adjustments to get inventory quantities and values down to 0 (zero).","pos":[2539,2612]},{"content":"After the inventory value and quantity are 0 (zero), change the item model group to moving average.","pos":[2617,2716]},{"content":"Make adjustments to get the quantity and value back into inventory.","pos":[2721,2788]},{"content":"You cannot change your inventory costing method from a moving average method to a First in, First out (FIFO) method, a Last in, First out (LIFO) method, or a weighted average method.","pos":[2790,2972]},{"pos":[2974,3061],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Converting from standard cost to moving weighted average is a manual process.","source":"**Note:** Converting from standard cost to moving weighted average is a manual process."},{"content":"The following examples illustrate the effect of using the moving average costing method.","pos":[3063,3151]},{"content":"There are four configurations:","pos":[3152,3182]},{"content":"Purchase order and proportionally expensed cost difference","pos":[3187,3245]},{"content":"Moving average product and inventory adjustment","pos":[3250,3297]},{"content":"Moving average with production","pos":[3302,3332]},{"content":"Moving average with a backdated transaction","pos":[3337,3380]},{"pos":[3385,3443],"content":"Purchase order and proportionally expensed cost difference","linkify":"Purchase order and proportionally expensed cost difference","nodes":[{"content":"Purchase order and proportionally expensed cost difference","pos":[0,58]}]},{"content":"With moving average, the product’s cost is determined by the purchase receipt.","pos":[3444,3522]},{"content":"When the purchase invoice is posted, if there is a difference in cost between the purchase receipt and the purchase invoice, the difference is proportionally adjusted to the current products in stock, and any remaining amount is expensed.","pos":[3523,3761]},{"content":"In this example, a purchase order is created and received at one cost, and the purchase invoice is posted with a different cost.","pos":[3764,3892]},{"content":"Create a purchase order for a quantity of 2 and a unit price of 10.00.","pos":[3898,3968]},{"content":"Create a purchase receipt of the product.","pos":[3973,4014]},{"content":"Create a sales order for a quantity of 1 and a unit price of 10.00.","pos":[4019,4086]},{"content":"Create a purchase invoice for a quantity of 2 and a unit price of 12.00.","pos":[4091,4163]},{"content":"The difference in unit price, 2.00, is posted to the Price difference for moving average account when the purchase invoice is posted.","pos":[4165,4298]},{"content":"The reason is that two products were purchased for a cost of 20.00.","pos":[4299,4366]},{"content":"One of the products was sold for a unit price of 10.00.","pos":[4367,4422]},{"content":"The purchase invoice was posted at a unit price of 12.00 with a quantity of 2.","pos":[4423,4501]},{"content":"The unit price of the product cannot be posted at 14.00.","pos":[4502,4558]},{"pos":[4563,4610],"content":"Moving average product and inventory adjustment","linkify":"Moving average product and inventory adjustment","nodes":[{"content":"Moving average product and inventory adjustment","pos":[0,47]}]},{"content":"If you need to adjust the moving average cost of a product, inventory adjustments are allowed as of today’s date.","pos":[4611,4724]},{"content":"You cannot backdate an inventory adjustment to correct the moving average cost of a product.","pos":[4725,4817]},{"content":"You cannot have the cost flow through subsequent transactions.","pos":[4818,4880]},{"content":"In this example, the moving average cost is adjusted for a product.","pos":[4883,4950]},{"content":"Select the product that you want to adjust the moving average cost for.","pos":[4956,5027]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The <bpt id=\"p2\">**</bpt>Revaluation for moving average<ept id=\"p2\">**</ept> page examines the inventory available for a product.","pos":[5028,5129],"source":"**Note:** The **Revaluation for moving average** page examines the inventory available for a product."},{"content":"The product selected has a posted quantity of 1, a posted a value of 12.00, a posted unit cost of 12.00, and a unit cost of 12.00.","pos":[5130,5260]},{"content":"Update the <bpt id=\"p1\">**</bpt>Unit cost<ept id=\"p1\">**</ept> field to 16.00.","pos":[5265,5305],"source":"Update the **Unit cost** field to 16.00."},{"content":"The system calculates the remaining fields.","pos":[5306,5349]},{"content":"The adjustment is posted.","pos":[5354,5379]},{"pos":[5381,5454],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> You can only adjust the moving average cost as of today’s date.","source":"**Note:** You can only adjust the moving average cost as of today’s date."},{"pos":[5456,5589],"content":"In the <bpt id=\"p1\">**</bpt>Settlements for voucher<ept id=\"p1\">**</ept> page, you can see an adjustment of 4.00 posted to the Cost revaluation for moving average account.","source":"In the **Settlements for voucher** page, you can see an adjustment of 4.00 posted to the Cost revaluation for moving average account."},{"pos":[5594,5624],"content":"Moving average with production","linkify":"Moving average with production","nodes":[{"content":"Moving average with production","pos":[0,30]}]},{"content":"Moving average supports produced items.","pos":[5625,5664]},{"content":"If you plan to use moving average in a production environment, the <bpt id=\"p1\">**</bpt>Use estimated cost price<ept id=\"p1\">**</ept> slider in the <bpt id=\"p2\">**</bpt>Production control parameters<ept id=\"p2\">**</ept> page should be selcted.","pos":[5665,5832],"source":" If you plan to use moving average in a production environment, the **Use estimated cost price** slider in the **Production control parameters** page should be selcted."},{"content":"This means that the cost price that is calculated during estimation is used instead of the actual BOM calculation cost price.","pos":[5833,5958]},{"pos":[5963,6006],"content":"Moving average with a backdated transaction","linkify":"Moving average with a backdated transaction","nodes":[{"content":"Moving average with a backdated transaction","pos":[0,43]}]},{"content":"Backdated transactions are assigned the current moving average cost, and the product’s physical quantity is updated, but the product’s moving average cost is not affected.","pos":[6007,6178]},{"content":"In this moving average example, a backdated transaction for a moving average product is posted.","pos":[6179,6274]},{"content":"Create an inventory adjustment for the moving average product for a quantity of 1 and a cost of 20.00.","pos":[6280,6382]},{"content":"The inventory transaction history for the product would resemble the following:","pos":[6387,6466]},{"content":"An inventory transaction of 1, a cost of 16.00, a posting date of January 15, and a transaction date of January 15.","pos":[6475,6590]},{"content":"An inventory adjustment of 1, a cost of 20.00, a posting date of January 1, and a transaction date of January 15.","pos":[6599,6712]},{"content":"Post the adjustment.","pos":[6717,6737]},{"content":"In the <bpt id=\"p1\">**</bpt>Inventory transactions<ept id=\"p1\">**</ept> page, you can see that 4.00 is expensed as the current moving average for the product is 16.00.","pos":[6739,6868],"source":"In the **Inventory transactions** page, you can see that 4.00 is expensed as the current moving average for the product is 16.00."},{"content":"You can post in the past, but the difference in cost is expensed, so the moving average cost is not affected.","pos":[6869,6978]},{"pos":[6983,7005],"content":"Inventory value report","linkify":"Inventory value report","nodes":[{"content":"Inventory value report","pos":[0,22]}]},{"content":"In this moving average example, the inventory value report is printed to support the current moving average calculation for a product.","pos":[7006,7140]},{"content":"The Inventory value report can print the transactions in chronological order, together with the cost to support the moving average cost calculation of a product.","pos":[7141,7302]},{"content":"The report displays the moving average cost for the product.","pos":[7303,7363]},{"content":"In the <bpt id=\"p1\">**</bpt>Inventory value reports<ept id=\"p1\">**</ept> dialog box, a Date interval allows you to select the <bpt id=\"p2\">**</bpt>Transaction time<ept id=\"p2\">**</ept> or the <bpt id=\"p3\">**</bpt>Posting date<ept id=\"p3\">**</ept> to sort the report by.","pos":[7364,7519],"source":" In the **Inventory value reports** dialog box, a Date interval allows you to select the **Transaction time** or the **Posting date** to sort the report by."},{"content":"The <bpt id=\"p1\">**</bpt>Posting date<ept id=\"p1\">**</ept> option is how the report is traditionally printed.","pos":[7520,7591],"source":" The **Posting date** option is how the report is traditionally printed."},{"content":"The <bpt id=\"p1\">**</bpt>Transaction time<ept id=\"p1\">**</ept> option is the actual date that the transaction is reported and the moving average cost for the product is updated.","pos":[7592,7731],"source":" The **Transaction time** option is the actual date that the transaction is reported and the moving average cost for the product is updated."},{"content":"You can print the Inventory value report by using the <bpt id=\"p1\">**</bpt>Transaction time sorting<ept id=\"p1\">**</ept> option if you want to see the moving average cost calculation over time.","pos":[7732,7887],"source":" You can print the Inventory value report by using the **Transaction time sorting** option if you want to see the moving average cost calculation over time."},{"content":"The following table displays the transactions for the product that the report is printed for when the <bpt id=\"p1\">**</bpt>Transaction time sorting<ept id=\"p1\">**</ept> option is used.","pos":[7888,8034],"source":" The following table displays the transactions for the product that the report is printed for when the **Transaction time sorting** option is used."},{"content":"Transaction time","pos":[8038,8054]},{"content":"Date","pos":[8057,8061]},{"content":"Transaction type","pos":[8072,8088]},{"content":"Quantity","pos":[8101,8109]},{"content":"Amount","pos":[8112,8118]},{"content":"Average unit cost","pos":[8121,8138]},{"content":"October 1","pos":[8267,8276]},{"content":"Beginning balance","pos":[8282,8299]},{"content":"0","pos":[8311,8312]},{"content":"0.00","pos":[8322,8326]},{"content":"0.00","pos":[8331,8335]},{"content":"October 8","pos":[8353,8362]},{"content":"September 28","pos":[8372,8384]},{"content":"Backdated receipt","pos":[8387,8404]},{"content":"1","pos":[8416,8417]},{"content":"16.00","pos":[8427,8432]},{"content":"16.00","pos":[8436,8441]},{"content":"October 3","pos":[8458,8467]},{"content":"October 3","pos":[8477,8486]},{"content":"Purchase receipt","pos":[8492,8508]},{"content":"2","pos":[8521,8522]},{"content":"20.00","pos":[8532,8537]},{"content":"12.00","pos":[8541,8546]},{"content":"October 5","pos":[8563,8572]},{"content":"October 5","pos":[8582,8591]},{"content":"Sales order","pos":[8597,8608]},{"content":"-1","pos":[8626,8628]},{"content":"-10.00","pos":[8637,8643]},{"content":"13.00","pos":[8646,8651]},{"content":"October 7","pos":[8668,8677]},{"content":"October 7","pos":[8687,8696]},{"content":"Purchase invoice","pos":[8702,8718]},{"content":"2.00","pos":[8742,8746]},{"content":"14.00","pos":[8751,8756]},{"content":"October 8","pos":[8773,8782]},{"content":"October 8","pos":[8792,8801]},{"content":"Moving average revaluation","pos":[8807,8833]},{"content":"4.00","pos":[8847,8851]},{"content":"16.00","pos":[8856,8861]},{"content":"October 31","pos":[8897,8907]},{"content":"Total","pos":[8912,8917]},{"content":"2","pos":[8941,8942]},{"content":"32.00","pos":[8952,8957]},{"content":"16.00","pos":[8961,8966]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> You cannot reconcile the general ledger with inventory by using the <bpt id=\"p2\">**</bpt>Transaction time sorting<ept id=\"p2\">**</ept> option.","pos":[8983,9097],"source":"**Note:** You cannot reconcile the general ledger with inventory by using the **Transaction time sorting** option."},{"content":"The report must be printed by using the <bpt id=\"p1\">**</bpt>Posting date<ept id=\"p1\">**</ept> option.","pos":[9098,9162],"source":" The report must be printed by using the **Posting date** option."}]}