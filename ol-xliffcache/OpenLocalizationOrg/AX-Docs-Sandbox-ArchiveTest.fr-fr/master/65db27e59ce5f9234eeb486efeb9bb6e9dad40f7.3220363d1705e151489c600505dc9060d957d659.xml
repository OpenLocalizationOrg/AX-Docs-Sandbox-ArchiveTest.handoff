{"content":"--- \n# required metadata \n \ntitle: Manage model mapping configurations for electronic reporting (ER)\ndescription: The following steps explain how a user assigned to the System administrator or Electronic reporting developer role can manage Electronic reporting (ER) model mappings in separate ER configurations. \nauthor: NickSelin\nmanager: AnnBe \nms.date: 06/19/2017\nms.topic: business-process \nms.prod:  \nms.service: dynamics-ax-applications \nms.technology:  \n \n# optional metadata \n \n# ms.search.form:   \naudience: Application User \n# ms.devlang:  \nms.reviewer: kfend\nms.search.scope: Operations \n# ms.tgt_pltfrm:  \n# ms.custom:  \nms.search.region: Global\n# ms.search.industry: \nms.author: nselin\nms.search.validFrom: 2016-06-30 \nms.dyn365.ops.version: Version 7.0.0 \n---\n# Manage model mapping configurations for electronic reporting (ER)\n\n[!include[task guide banner](../../includes/task-guide-banner.md)]\n\nThe following steps explain how a user assigned to the System administrator or Electronic reporting developer role can manage Electronic reporting (ER) model mappings in separate ER configurations. In this task guide, you will create required ER configurations for the sample company, Litware, Inc. To complete this task guide, you must first complete the steps in the task guide, “ER Create a configuration provider” and mark it as active. \n\nBecause ER configurations are shared among companies, you can complete this task guide using the company data set of your choice. The functionality for this task guide is available if you have installed one of the following hotfixes: https://fix.lcs.dynamics.com/Issue/Resolved?kb=4012872 for the Dynamics AX 7.0 version or https://fix.lcs.dynamics.com/Issue/Resolved?kb=4012871 for the Dynamics 365 for Operations version.\n\n1. Go to Organization administration > Workspaces > Electronic reporting.\n    * Verify that the configuration provider for the sample company Litware, Inc. is available and marked as active. If you don’t see this configuration provider, you must first complete the steps in the task guide, Create a configuration provider and mark it as active.   \n\n## Add a new ER model configuration\n1. Click Reporting configurations.\n    * Add a new model configuration. The name must be unique in the configurations tree.  \n2. Click Create configuration to open the drop dialog.\n3. In the Name field, type 'Sample data model'.\n    * Sample data model  \n4. Click Create configuration.\n5. Click Designer.\n6. Click New to open the drop dialog.\n7. In the Name field, type 'Root'.\n    * Root  \n8. Click Add.\n9. Click New to open the drop dialog.\n10. In the Name field, type 'Company'.\n    * Company  \n11. Click Add.\n12. In the Description field, enter the text, Description of the legal entity or company in which a user logged at run-time. \n    * Description of the legal entity or company in which a user logged at run-time.  \n13. Click Root reference.\n14. Click OK.\n15. Click Save.\n16. Close the page.\n17. Click Change status.\n18. Click Complete.\n19. Click OK.\n\n## Add a new ER model mapping configuration\n1. Click Create configuration to open the drop dialog.\n2. In the New field, enter 'Model Mapping based on data model Sample data model'.\n3. In the Name field, type 'Sample mapping'.\n    * Sample mapping  \n4. Click Create configuration.\n5. Expand the Prerequisites section.\n    * Note that the Implementations prerequisites group has been added automatically. The group contains the prerequisite component that refers to the parent data model configuration and is marked as Implementation. This means that this Sample mapping model mapping configuration is considered the implementation of the data model, Sample data model. Therefore, this component will force ER to download the model mapping configuration, Sample mapping from an ER repository when the model configuration, Sample data model, is downloaded.   \n6. Click Designer.\n    * Note that the created model mapping configuration contains a new blank mapping with the same name as the created configuration. Be aware that when a selected parent model configuration contains model mappings, they will be copied to a new model mapping configuration.   \n7. Click Designer.\n8. In the tree, select 'Dynamics 365 for Operations\\Table'.\n9. Click Add root.\n10. In the Name field, type 'Company'.\n    * Company  \n11. In the Table field, type 'CompanyInfo'.\n    * CompanyInfo  \n12. Click OK.\n13. In the tree, expand 'Company'.\n14. In the tree, expand 'Company\\find()'.\n15. In the tree, select 'Company\\find()\\Name'.\n16. Click Bind.\n17. Click Save.\n18. Close the page.\n19. Close the page.\n20. On the Action Pane, click Configurations.\n21. Click User parameters.\n22. Select Yes in the Run settings field.\n23. Click OK.\n24. Click Edit.\n25. Select Yes in the Run Draft field.\n\n## Add a new ER format configuration\n1. In the tree, select 'Sample data model'.\n2. Click Create configuration to open the drop dialog.\n3. In the New field, enter 'Format based on data model Sample data model'.\n4. In the Name field, type 'Sample format'.\n    * Sample format  \n5. Click Create configuration.\n6. Click Designer.\n7. Click Add root to open the drop dialog.\n8. In the tree, select 'Text\\String'.\n9. Click OK.\n10. Click the Mapping tab.\n11. In the tree, expand 'model'.\n12. In the tree, select 'model\\Company'.\n13. Click Bind.\n14. Click Save.\n15. Close the page.\n    * Run the draft version of the created format for testing purposes.  \n16. Click Run.\n    * On the Versions FastTab, click Run.  \n17. Click OK.\n    * Review the output that contains the name of the company in which the user who is running this format configuration is logged into. Note that the created model mapping configuration is used by this format configuration because there is only one configuration available that contains required model mappings.   \n\n## Add alternative ER model mapping configuration\n1. In the tree, select 'Sample data model'.\n2. Click Create configuration to open the drop dialog.\n3. In the New field, enter 'Model Mapping based on data model Sample data model'.\n4. In the Name field, type 'Sample mapping (alternative)'.\n    * Sample mapping (alternative)  \n5. Click Create configuration.\n6. Click Designer.\n7. Click Designer.\n8. In the tree, select 'Dynamics 365 for Operations\\Table'.\n9. Click Add root.\n10. In the Name field, type 'Company'.\n    * Company  \n11. In the Table field, type 'CompanyInfo'.\n    * CompanyInfo  \n12. Click OK.\n13. Click Edit.\n14. In the tree, select 'String\\CONCATENATE'.\n15. Click Add function.\n16. In the tree, expand 'Company'.\n17. In the tree, expand 'Company\\find()'.\n18. In the tree, select 'Company\\find()\\Name'.\n19. Click Add data source.\n20. In the Formula field, type a value.\n    * CONCATENATE(Company.'find()'.Name, \";\",  \n21. In the tree, select 'Company\\find()\\Company(DataArea)'.\n22. Click Add data source.\n23. In the Formula field, type a value.\n    * CONCATENATE(Company.'find()'.Name, \";\", Company.'find()'.DataArea)  \n24. Click Save.\n25. Close the page.\n26. Click Save.\n27. Close the page.\n28. Close the page.\n29. Select Yes in the Run Draft field.\n\n## Use an existing ER model mapping configuration\n1. In the tree, select 'Sample data model\\Sample format'.\n2. Click Run.\n    * Note that the selected draft version of the ER format configuration can’t be executed because there is more than one model mapping configuration available for the undefined data model that has been selected as the data source of the running ER format.   \n    * Next, you will define the alternative model mapping configuration as the one from which model mappings will be used as data sources for running ER format.   \n3. In the tree, select 'Sample data model\\Sample mapping (alternative)'.\n4. Select Yes in the Default for model mapping field.\n5. In the tree, select 'Sample data model\\Sample format'.\n6. Click Run.\n7. Click OK.\n    * Note that the default model mapping configuration is used by this format configuration for generating the electronic document (the created output contains the company code).  \n\n","nodes":[{"pos":[5,769],"embed":true,"restype":"x-metadata","content":"# required metadata \n \ntitle: Manage model mapping configurations for electronic reporting (ER)\ndescription: The following steps explain how a user assigned to the System administrator or Electronic reporting developer role can manage Electronic reporting (ER) model mappings in separate ER configurations. \nauthor: NickSelin\nmanager: AnnBe \nms.date: 06/19/2017\nms.topic: business-process \nms.prod:  \nms.service: dynamics-ax-applications \nms.technology:  \n \n# optional metadata \n \n# ms.search.form:   \naudience: Application User \n# ms.devlang:  \nms.reviewer: kfend\nms.search.scope: Operations \n# ms.tgt_pltfrm:  \n# ms.custom:  \nms.search.region: Global\n# ms.search.industry: \nms.author: nselin\nms.search.validFrom: 2016-06-30 \nms.dyn365.ops.version: Version 7.0.0 ","nodes":[{"content":"Manage model mapping configurations for electronic reporting (ER)","nodes":[{"pos":[0,65],"content":"Manage model mapping configurations for electronic reporting (ER)","nodes":[{"content":"Manage model mapping configurations for electronic reporting (ER)","pos":[0,65]}]}],"path":["title"],"extradata":"MT"},{"content":"The following steps explain how a user assigned to the System administrator or Electronic reporting developer role can manage Electronic reporting (ER) model mappings in separate ER configurations.","nodes":[{"pos":[0,197],"content":"The following steps explain how a user assigned to the System administrator or Electronic reporting developer role can manage Electronic reporting (ER) model mappings in separate ER configurations.","nodes":[{"content":"The following steps explain how a user assigned to the System administrator or Electronic reporting developer role can manage Electronic reporting (ER) model mappings in separate ER configurations.","pos":[0,197]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata \n","yml":true},{"pos":[776,841],"content":"Manage model mapping configurations for electronic reporting (ER)","linkify":"Manage model mapping configurations for electronic reporting (ER)","nodes":[{"content":"Manage model mapping configurations for electronic reporting (ER)","pos":[0,65]}]},{"content":"The following steps explain how a user assigned to the System administrator or Electronic reporting developer role can manage Electronic reporting (ER) model mappings in separate ER configurations.","pos":[911,1108]},{"content":"In this task guide, you will create required ER configurations for the sample company, Litware, Inc. To complete this task guide, you must first complete the steps in the task guide, “ER Create a configuration provider” and mark it as active.","pos":[1109,1351]},{"content":"Because ER configurations are shared among companies, you can complete this task guide using the company data set of your choice.","pos":[1354,1483]},{"content":"The functionality for this task guide is available if you have installed one of the following hotfixes: https://fix.lcs.dynamics.com/Issue/Resolved?kb=4012872 for the Dynamics AX 7.0 version or https://fix.lcs.dynamics.com/Issue/Resolved?kb=4012871 for the Dynamics 365 for Operations version.","pos":[1484,1777]},{"content":"Go to Organization administration &gt; Workspaces &gt; Electronic reporting.","pos":[1782,1852],"source":"Go to Organization administration > Workspaces > Electronic reporting."},{"content":"Verify that the configuration provider for the sample company Litware, Inc. is available and marked as active.","pos":[1859,1969]},{"content":"If you don’t see this configuration provider, you must first complete the steps in the task guide, Create a configuration provider and mark it as active.","pos":[1970,2123]},{"pos":[2131,2163],"content":"Add a new ER model configuration","linkify":"Add a new ER model configuration","nodes":[{"content":"Add a new ER model configuration","pos":[0,32]}]},{"content":"Click Reporting configurations.","pos":[2167,2198]},{"content":"Add a new model configuration.","pos":[2205,2235]},{"content":"The name must be unique in the configurations tree.","pos":[2236,2287]},{"content":"Click Create configuration to open the drop dialog.","pos":[2293,2344]},{"content":"In the Name field, type 'Sample data model'.","pos":[2348,2392]},{"content":"Sample data model","pos":[2399,2416]},{"content":"Click Create configuration.","pos":[2422,2449]},{"content":"Click Designer.","pos":[2453,2468]},{"content":"Click New to open the drop dialog.","pos":[2472,2506]},{"content":"In the Name field, type 'Root'.","pos":[2510,2541]},{"content":"Root","pos":[2548,2552]},{"content":"Click Add.","pos":[2558,2568]},{"content":"Click New to open the drop dialog.","pos":[2572,2606]},{"content":"In the Name field, type 'Company'.","pos":[2611,2645]},{"content":"Company","pos":[2652,2659]},{"content":"Click Add.","pos":[2666,2676]},{"content":"In the Description field, enter the text, Description of the legal entity or company in which a user logged at run-time.","pos":[2681,2801]},{"content":"Description of the legal entity or company in which a user logged at run-time.","pos":[2809,2887]},{"content":"Click Root reference.","pos":[2894,2915]},{"content":"Click OK.","pos":[2920,2929]},{"content":"Click Save.","pos":[2934,2945]},{"content":"Close the page.","pos":[2950,2965]},{"content":"Click Change status.","pos":[2970,2990]},{"content":"Click Complete.","pos":[2995,3010]},{"content":"Click OK.","pos":[3015,3024]},{"pos":[3029,3069],"content":"Add a new ER model mapping configuration","linkify":"Add a new ER model mapping configuration","nodes":[{"content":"Add a new ER model mapping configuration","pos":[0,40]}]},{"content":"Click Create configuration to open the drop dialog.","pos":[3073,3124]},{"content":"In the New field, enter 'Model Mapping based on data model Sample data model'.","pos":[3128,3206]},{"content":"In the Name field, type 'Sample mapping'.","pos":[3210,3251]},{"content":"Sample mapping","pos":[3258,3272]},{"content":"Click Create configuration.","pos":[3278,3305]},{"content":"Expand the Prerequisites section.","pos":[3309,3342]},{"content":"Note that the Implementations prerequisites group has been added automatically.","pos":[3349,3428]},{"content":"The group contains the prerequisite component that refers to the parent data model configuration and is marked as Implementation.","pos":[3429,3558]},{"content":"This means that this Sample mapping model mapping configuration is considered the implementation of the data model, Sample data model.","pos":[3559,3693]},{"content":"Therefore, this component will force ER to download the model mapping configuration, Sample mapping from an ER repository when the model configuration, Sample data model, is downloaded.","pos":[3694,3879]},{"content":"Click Designer.","pos":[3886,3901]},{"content":"Note that the created model mapping configuration contains a new blank mapping with the same name as the created configuration.","pos":[3908,4035]},{"content":"Be aware that when a selected parent model configuration contains model mappings, they will be copied to a new model mapping configuration.","pos":[4036,4175]},{"content":"Click Designer.","pos":[4182,4197]},{"content":"In the tree, select 'Dynamics 365 for Operations\\Table'.","pos":[4201,4257]},{"content":"Click Add root.","pos":[4261,4276]},{"content":"In the Name field, type 'Company'.","pos":[4281,4315]},{"content":"Company","pos":[4322,4329]},{"content":"In the Table field, type 'CompanyInfo'.","pos":[4336,4375]},{"content":"CompanyInfo","pos":[4382,4393]},{"content":"Click OK.","pos":[4400,4409]},{"content":"In the tree, expand 'Company'.","pos":[4414,4444]},{"content":"In the tree, expand 'Company\\find()'.","pos":[4449,4486]},{"content":"In the tree, select 'Company\\find()\\Name'.","pos":[4491,4533]},{"content":"Click Bind.","pos":[4538,4549]},{"content":"Click Save.","pos":[4554,4565]},{"content":"Close the page.","pos":[4570,4585]},{"content":"Close the page.","pos":[4590,4605]},{"content":"On the Action Pane, click Configurations.","pos":[4610,4651]},{"content":"Click User parameters.","pos":[4656,4678]},{"content":"Select Yes in the Run settings field.","pos":[4683,4720]},{"content":"Click OK.","pos":[4725,4734]},{"content":"Click Edit.","pos":[4739,4750]},{"content":"Select Yes in the Run Draft field.","pos":[4755,4789]},{"pos":[4794,4827],"content":"Add a new ER format configuration","linkify":"Add a new ER format configuration","nodes":[{"content":"Add a new ER format configuration","pos":[0,33]}]},{"content":"In the tree, select 'Sample data model'.","pos":[4831,4871]},{"content":"Click Create configuration to open the drop dialog.","pos":[4875,4926]},{"content":"In the New field, enter 'Format based on data model Sample data model'.","pos":[4930,5001]},{"content":"In the Name field, type 'Sample format'.","pos":[5005,5045]},{"content":"Sample format","pos":[5052,5065]},{"content":"Click Create configuration.","pos":[5071,5098]},{"content":"Click Designer.","pos":[5102,5117]},{"content":"Click Add root to open the drop dialog.","pos":[5121,5160]},{"content":"In the tree, select 'Text\\String'.","pos":[5164,5198]},{"content":"Click OK.","pos":[5202,5211]},{"content":"Click the Mapping tab.","pos":[5216,5238]},{"content":"In the tree, expand 'model'.","pos":[5243,5271]},{"content":"In the tree, select 'model\\Company'.","pos":[5276,5312]},{"content":"Click Bind.","pos":[5317,5328]},{"content":"Click Save.","pos":[5333,5344]},{"content":"Close the page.","pos":[5349,5364]},{"content":"Run the draft version of the created format for testing purposes.","pos":[5371,5436]},{"content":"Click Run.","pos":[5443,5453]},{"content":"On the Versions FastTab, click Run.","pos":[5460,5495]},{"content":"Click OK.","pos":[5502,5511]},{"content":"Review the output that contains the name of the company in which the user who is running this format configuration is logged into.","pos":[5518,5648]},{"content":"Note that the created model mapping configuration is used by this format configuration because there is only one configuration available that contains required model mappings.","pos":[5649,5824]},{"pos":[5832,5878],"content":"Add alternative ER model mapping configuration","linkify":"Add alternative ER model mapping configuration","nodes":[{"content":"Add alternative ER model mapping configuration","pos":[0,46]}]},{"content":"In the tree, select 'Sample data model'.","pos":[5882,5922]},{"content":"Click Create configuration to open the drop dialog.","pos":[5926,5977]},{"content":"In the New field, enter 'Model Mapping based on data model Sample data model'.","pos":[5981,6059]},{"content":"In the Name field, type 'Sample mapping (alternative)'.","pos":[6063,6118]},{"content":"Sample mapping (alternative)","pos":[6125,6153]},{"content":"Click Create configuration.","pos":[6159,6186]},{"content":"Click Designer.","pos":[6190,6205]},{"content":"Click Designer.","pos":[6209,6224]},{"content":"In the tree, select 'Dynamics 365 for Operations\\Table'.","pos":[6228,6284]},{"content":"Click Add root.","pos":[6288,6303]},{"content":"In the Name field, type 'Company'.","pos":[6308,6342]},{"content":"Company","pos":[6349,6356]},{"content":"In the Table field, type 'CompanyInfo'.","pos":[6363,6402]},{"content":"CompanyInfo","pos":[6409,6420]},{"content":"Click OK.","pos":[6427,6436]},{"content":"Click Edit.","pos":[6441,6452]},{"content":"In the tree, select 'String\\CONCATENATE'.","pos":[6457,6498]},{"content":"Click Add function.","pos":[6503,6522]},{"content":"In the tree, expand 'Company'.","pos":[6527,6557]},{"content":"In the tree, expand 'Company\\find()'.","pos":[6562,6599]},{"content":"In the tree, select 'Company\\find()\\Name'.","pos":[6604,6646]},{"content":"Click Add data source.","pos":[6651,6673]},{"content":"In the Formula field, type a value.","pos":[6678,6713]},{"content":"CONCATENATE(Company.'find()'.Name, \";\",","pos":[6720,6759]},{"content":"In the tree, select 'Company\\find()\\Company(DataArea)'.","pos":[6766,6821]},{"content":"Click Add data source.","pos":[6826,6848]},{"content":"In the Formula field, type a value.","pos":[6853,6888]},{"content":"CONCATENATE(Company.'find()'.Name, \";\", Company.'find()'.DataArea)","pos":[6895,6961]},{"content":"Click Save.","pos":[6968,6979]},{"content":"Close the page.","pos":[6984,6999]},{"content":"Click Save.","pos":[7004,7015]},{"content":"Close the page.","pos":[7020,7035]},{"content":"Close the page.","pos":[7040,7055]},{"content":"Select Yes in the Run Draft field.","pos":[7060,7094]},{"pos":[7099,7145],"content":"Use an existing ER model mapping configuration","linkify":"Use an existing ER model mapping configuration","nodes":[{"content":"Use an existing ER model mapping configuration","pos":[0,46]}]},{"content":"In the tree, select 'Sample data model\\Sample format'.","pos":[7149,7203]},{"content":"Click Run.","pos":[7207,7217]},{"content":"Note that the selected draft version of the ER format configuration can’t be executed because there is more than one model mapping configuration available for the undefined data model that has been selected as the data source of the running ER format.","pos":[7224,7475]},{"content":"Next, you will define the alternative model mapping configuration as the one from which model mappings will be used as data sources for running ER format.","pos":[7485,7639]},{"content":"In the tree, select 'Sample data model\\Sample mapping (alternative)'.","pos":[7646,7715]},{"content":"Select Yes in the Default for model mapping field.","pos":[7719,7769]},{"content":"In the tree, select 'Sample data model\\Sample format'.","pos":[7773,7827]},{"content":"Click Run.","pos":[7831,7841]},{"content":"Click OK.","pos":[7845,7854]},{"content":"Note that the default model mapping configuration is used by this format configuration for generating the electronic document (the created output contains the company code).","pos":[7861,8034]}]}