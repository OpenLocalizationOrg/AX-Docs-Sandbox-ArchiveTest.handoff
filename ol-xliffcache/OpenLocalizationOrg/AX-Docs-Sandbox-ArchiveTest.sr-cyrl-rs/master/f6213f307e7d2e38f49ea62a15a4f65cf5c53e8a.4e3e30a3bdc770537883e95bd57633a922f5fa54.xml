{"content":"---\n# required metadata\n\ntitle: Tips to prevent long-running reports from timing out\ndescription: This article provides tips that can help you prevent reports that run for a long time from timing out. \nauthor: sericks007\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 20521\nms.assetid: 74ffc94a-188f-4198-a4b0-f949ec4886cb\nms.search.region: Global\n# ms.search.industry: \nms.author: tjvass\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Tips to prevent long-running reports from timing out\n\n[!include[banner](../includes/banner.md)]\n\n\nThis article provides tips that can help you prevent reports that run for a long time from timing out. \n\nPaginated reports and documents are generated by using Microsoft SQL Server Reporting Services. Reporting Services retrieves report data from Application Object Server (AOS) by using a custom extension that uses Windows Communication Foundation (WCF) to communicate with AOS. The size of the data set and the complexity of the report that is generated can affect the time that is required to display the report. Additionally, if various time-outs and other thresholds are reached, report generation might fail. Service time-outs in deployments are fixed and limit interactive connections to 10 minutes. Any data set generation process that exceeds this service time-out limit won't be completed. This article describes the extensions that support long-running reports. These extensions help guarantee that long-running reports can be generated even if the process exceeds the 10-minute service time-out limit.\n\n## Preprocess the data source\nIf the report uses the Report Data Provider (RDP) to retrieve data, the report should be modified to use a pre-processed RDP class as the data source. In this way, processing logic is invoked before a call is made to Reporting Services. For more information about RDP classes, see [Using Report Data Provider Classes to Access Report Data](http://technet.microsoft.com/library/66667d57-37b1-48a8-90a1-ab8231698463(AX.60).aspx) and [Report Programming Guide](http://technet.microsoft.com/library/1a6cb21f-e665-45ef-8bf7-4df31e6ca0b7(AX.60).aspx). [![Report timeouts](./media/report-timeouts.png)](./media/report-timeouts.png) **How do I migrate a regular RDP to a pre-process data access solution by using TempDB?**\n\n1.  Change the RDP base class from **SRSReportDataProviderBase** to **SRSReportDataProviderPreProcessTempDB**.\n2.  Update the table type from **InMemory** to **TempDB**.\n3.  Rebuild the report's RDP class.\n4.  Restore the data source that is linked to the RDP class in the report designer.\n5.  Redeploy the report.\n6.  Introduce a **Controller** class to run the report.\n7.  Update the Output Menu Item so that it points to the **Controller** class instead of the report.\n\nThe following video demonstrates the process: \n> [!VIDEO http://www.youtube.com/watch?v=6tdQtHV2WAc&list=UUfGIUxWmd1ZA11NB8FgVWpw]\n\n## Use batch processing\nTo improve performance when you print statements or reports that include large amounts of data, use batch processing. When you use batch processing, you can run specific tasks as batch jobs and then schedule those batch jobs to run on a different computer (a batch server). By moving the processing of these tasks to a batch server, you can improve the report performance on the client computer. You can also apply range restrictions to limit the size of each batch. To further improve performance, don't submit one large batch. Instead submit multiple smaller batches for processing at the same time on different servers. Many tasks can be run as part of batch jobs. For more information, see [Batch processing overview](..\\sysadmin\\batch-processing-overview.md).\n\n\n\n","nodes":[{"pos":[4,711],"embed":true,"restype":"x-metadata","content":"# required metadata\n\ntitle: Tips to prevent long-running reports from timing out\ndescription: This article provides tips that can help you prevent reports that run for a long time from timing out. \nauthor: sericks007\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 20521\nms.assetid: 74ffc94a-188f-4198-a4b0-f949ec4886cb\nms.search.region: Global\n# ms.search.industry: \nms.author: tjvass\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n","nodes":[{"content":"Tips to prevent long-running reports from timing out","nodes":[{"pos":[0,52],"content":"Tips to prevent long-running reports from timing out","nodes":[{"content":"Tips to prevent long-running reports from timing out","pos":[0,52]}]}],"path":["title"],"extradata":"MT"},{"content":"This article provides tips that can help you prevent reports that run for a long time from timing out.","nodes":[{"pos":[0,102],"content":"This article provides tips that can help you prevent reports that run for a long time from timing out.","nodes":[{"content":"This article provides tips that can help you prevent reports that run for a long time from timing out.","pos":[0,102]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata\n","yml":true},{"pos":[719,771],"content":"Tips to prevent long-running reports from timing out","linkify":"Tips to prevent long-running reports from timing out","nodes":[{"content":"Tips to prevent long-running reports from timing out","pos":[0,52]}]},{"content":"This article provides tips that can help you prevent reports that run for a long time from timing out.","pos":[817,919]},{"content":"Paginated reports and documents are generated by using Microsoft SQL Server Reporting Services.","pos":[922,1017]},{"content":"Reporting Services retrieves report data from Application Object Server (AOS) by using a custom extension that uses Windows Communication Foundation (WCF) to communicate with AOS.","pos":[1018,1197]},{"content":"The size of the data set and the complexity of the report that is generated can affect the time that is required to display the report.","pos":[1198,1333]},{"content":"Additionally, if various time-outs and other thresholds are reached, report generation might fail.","pos":[1334,1432]},{"content":"Service time-outs in deployments are fixed and limit interactive connections to 10 minutes.","pos":[1433,1524]},{"content":"Any data set generation process that exceeds this service time-out limit won't be completed.","pos":[1525,1617]},{"content":"This article describes the extensions that support long-running reports.","pos":[1618,1690]},{"content":"These extensions help guarantee that long-running reports can be generated even if the process exceeds the 10-minute service time-out limit.","pos":[1691,1831]},{"pos":[1836,1862],"content":"Preprocess the data source","linkify":"Preprocess the data source","nodes":[{"content":"Preprocess the data source","pos":[0,26]}]},{"content":"If the report uses the Report Data Provider (RDP) to retrieve data, the report should be modified to use a pre-processed RDP class as the data source.","pos":[1863,2013]},{"content":"In this way, processing logic is invoked before a call is made to Reporting Services.","pos":[2014,2099]},{"content":"For more information about RDP classes, see <bpt id=\"p1\">[</bpt>Using Report Data Provider Classes to Access Report Data<ept id=\"p1\">](http://technet.microsoft.com/library/66667d57-37b1-48a8-90a1-ab8231698463(AX.60).aspx)</ept> and <bpt id=\"p2\">[</bpt>Report Programming Guide<ept id=\"p2\">](http://technet.microsoft.com/library/1a6cb21f-e665-45ef-8bf7-4df31e6ca0b7(AX.60).aspx)</ept>.","pos":[2100,2408],"source":" For more information about RDP classes, see [Using Report Data Provider Classes to Access Report Data](http://technet.microsoft.com/library/66667d57-37b1-48a8-90a1-ab8231698463(AX.60).aspx) and [Report Programming Guide](http://technet.microsoft.com/library/1a6cb21f-e665-45ef-8bf7-4df31e6ca0b7(AX.60).aspx)."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Report timeouts<ept id=\"p1\">](./media/report-timeouts.png)](./media/report-timeouts.png)</ept> <bpt id=\"p2\">**</bpt>How do I migrate a regular RDP to a pre-process data access solution by using TempDB?<ept id=\"p2\">**</ept>","pos":[2409,2577],"source":"[![Report timeouts](./media/report-timeouts.png)](./media/report-timeouts.png) **How do I migrate a regular RDP to a pre-process data access solution by using TempDB?**"},{"pos":[2583,2689],"content":"Change the RDP base class from <bpt id=\"p1\">**</bpt>SRSReportDataProviderBase<ept id=\"p1\">**</ept> to <bpt id=\"p2\">**</bpt>SRSReportDataProviderPreProcessTempDB<ept id=\"p2\">**</ept>.","source":"Change the RDP base class from **SRSReportDataProviderBase** to **SRSReportDataProviderPreProcessTempDB**."},{"pos":[2694,2748],"content":"Update the table type from <bpt id=\"p1\">**</bpt>InMemory<ept id=\"p1\">**</ept> to <bpt id=\"p2\">**</bpt>TempDB<ept id=\"p2\">**</ept>.","source":"Update the table type from **InMemory** to **TempDB**."},{"content":"Rebuild the report's RDP class.","pos":[2753,2784]},{"content":"Restore the data source that is linked to the RDP class in the report designer.","pos":[2789,2868]},{"content":"Redeploy the report.","pos":[2873,2893]},{"pos":[2898,2949],"content":"Introduce a <bpt id=\"p1\">**</bpt>Controller<ept id=\"p1\">**</ept> class to run the report.","source":"Introduce a **Controller** class to run the report."},{"pos":[2954,3050],"content":"Update the Output Menu Item so that it points to the <bpt id=\"p1\">**</bpt>Controller<ept id=\"p1\">**</ept> class instead of the report.","source":"Update the Output Menu Item so that it points to the **Controller** class instead of the report."},{"content":"The following video demonstrates the process:","pos":[3052,3097]},{"pos":[3187,3207],"content":"Use batch processing","linkify":"Use batch processing","nodes":[{"content":"Use batch processing","pos":[0,20]}]},{"content":"To improve performance when you print statements or reports that include large amounts of data, use batch processing.","pos":[3208,3325]},{"content":"When you use batch processing, you can run specific tasks as batch jobs and then schedule those batch jobs to run on a different computer (a batch server).","pos":[3326,3481]},{"content":"By moving the processing of these tasks to a batch server, you can improve the report performance on the client computer.","pos":[3482,3603]},{"content":"You can also apply range restrictions to limit the size of each batch.","pos":[3604,3674]},{"content":"To further improve performance, don't submit one large batch.","pos":[3675,3736]},{"content":"Instead submit multiple smaller batches for processing at the same time on different servers.","pos":[3737,3830]},{"content":"Many tasks can be run as part of batch jobs.","pos":[3831,3875]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Batch processing overview<ept id=\"p1\">](..\\sysadmin\\batch-processing-overview.md)</ept>.","pos":[3876,3972],"source":" For more information, see [Batch processing overview](..\\sysadmin\\batch-processing-overview.md)."}]}