{"content":"---\n# required metadata\n\ntitle: Extend a Retail Server OData controller\ndescription: This article provides code that extends the CustomController class.\nauthor: kfend\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-365-retail\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations, Retail, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 31681\nms.assetid: c39a34b5-3fce-446f-877b-0aa41817ef25\nms.search.region: Global\n# ms.search.industry: \nms.author: meeram\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update\n\n---\n\n# Extend a Retail Server OData controller\n\n[!include[banner](../includes/banner.md)]\n\n\nThis article provides code that extends the CustomController class.\n\nA controller is a mapping for a commerce entity that controls create, read, update, and delete (CRUD) behaviors and actions for a commerce entity type. Each commerce entity must have a corresponding controller. You can extend a controller that is included with Microsoft Dynamics 365 for Retail to add new business actions that meet your business requirement. To extend an existing controller, you must define a new class that extends an existing controller class. In the new class, you use the **ExtendedController** attribute to indicate that the new class extends an existing controller, and to indicate which controller the new class extends. In this example, the new class extends the controller for the **Customer** entity type. Each entity type is associated with only one controller. When you create a new controller that overrides an existing controller, the new controller that has the **ExtendedController** attribute is used instead of the original controller. In the following example, the **ExtendedCustomersController** class extends the **CustomersController** class, and takes the entity type and the key field of the **Customer** entity type as parameters. You can find the sample code from this topic in the Retail software development kit (SDK).\n\n    namespace Microsoft.Dynamics.RetailServer.ExtensionSamples\n    {\n        using System;\n        using System.Collections.Generic;\n        using System.Linq;\n        using System.Runtime.InteropServices;\n        using Microsoft.Dynamics.Commerce.Runtime.DataModel;\n        using Microsoft.Dynamics.Retail.StoreServerServiceLibrary;\n        using Microsoft.Dynamics.Retail.StoreServerServiceLibrary.ODataControllers;\n        [ExtendedController(\"Customers\")]\n        [ComVisible(false)]\n        public class ExtendedCustomersController : CustomersController\n        {\n            public override IQueryable<Customer> Get()\n            {\n                List<Customer> customers = new List<Customer>();\n                for (int i = 0; i < 10; i++)\n                {\n                    var customer = new Customer();\n                    customer.AccountNumber = \"customer\" + i;\n                    customer.Name = \"Name\" + i;\n                    customers.Add(customer);\n                }\n                return customers.AsQueryable();\n            }\n        }\n    }\n\n\n\n","nodes":[{"pos":[4,689],"embed":true,"restype":"x-metadata","content":"# required metadata\n\ntitle: Extend a Retail Server OData controller\ndescription: This article provides code that extends the CustomController class.\nauthor: kfend\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-365-retail\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations, Retail, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 31681\nms.assetid: c39a34b5-3fce-446f-877b-0aa41817ef25\nms.search.region: Global\n# ms.search.industry: \nms.author: meeram\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update\n","nodes":[{"content":"Extend a Retail Server OData controller","nodes":[{"pos":[0,39],"content":"Extend a Retail Server OData controller","nodes":[{"content":"Extend a Retail Server OData controller","pos":[0,39]}]}],"path":["title"],"extradata":"MT"},{"content":"This article provides code that extends the CustomController class.","nodes":[{"pos":[0,67],"content":"This article provides code that extends the CustomController class.","nodes":[{"content":"This article provides code that extends the CustomController class.","pos":[0,67]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata\n","yml":true},{"pos":[697,736],"content":"Extend a Retail Server OData controller","linkify":"Extend a Retail Server OData controller","nodes":[{"content":"Extend a Retail Server OData controller","pos":[0,39]}]},{"content":"This article provides code that extends the CustomController class.","pos":[782,849]},{"content":"A controller is a mapping for a commerce entity that controls create, read, update, and delete (CRUD) behaviors and actions for a commerce entity type.","pos":[851,1002]},{"content":"Each commerce entity must have a corresponding controller.","pos":[1003,1061]},{"content":"You can extend a controller that is included with Microsoft Dynamics 365 for Retail to add new business actions that meet your business requirement.","pos":[1062,1210]},{"content":"To extend an existing controller, you must define a new class that extends an existing controller class.","pos":[1211,1315]},{"content":"In the new class, you use the <bpt id=\"p1\">**</bpt>ExtendedController<ept id=\"p1\">**</ept> attribute to indicate that the new class extends an existing controller, and to indicate which controller the new class extends.","pos":[1316,1497],"source":" In the new class, you use the **ExtendedController** attribute to indicate that the new class extends an existing controller, and to indicate which controller the new class extends."},{"content":"In this example, the new class extends the controller for the <bpt id=\"p1\">**</bpt>Customer<ept id=\"p1\">**</ept> entity type.","pos":[1498,1585],"source":" In this example, the new class extends the controller for the **Customer** entity type."},{"content":"Each entity type is associated with only one controller.","pos":[1586,1642]},{"content":"When you create a new controller that overrides an existing controller, the new controller that has the <bpt id=\"p1\">**</bpt>ExtendedController<ept id=\"p1\">**</ept> attribute is used instead of the original controller.","pos":[1643,1823],"source":" When you create a new controller that overrides an existing controller, the new controller that has the **ExtendedController** attribute is used instead of the original controller."},{"content":"In the following example, the <bpt id=\"p1\">**</bpt>ExtendedCustomersController<ept id=\"p1\">**</ept> class extends the <bpt id=\"p2\">**</bpt>CustomersController<ept id=\"p2\">**</ept> class, and takes the entity type and the key field of the <bpt id=\"p3\">**</bpt>Customer<ept id=\"p3\">**</ept> entity type as parameters.","pos":[1824,2025],"source":" In the following example, the **ExtendedCustomersController** class extends the **CustomersController** class, and takes the entity type and the key field of the **Customer** entity type as parameters."},{"content":"You can find the sample code from this topic in the Retail software development kit (SDK).","pos":[2026,2116]}]}