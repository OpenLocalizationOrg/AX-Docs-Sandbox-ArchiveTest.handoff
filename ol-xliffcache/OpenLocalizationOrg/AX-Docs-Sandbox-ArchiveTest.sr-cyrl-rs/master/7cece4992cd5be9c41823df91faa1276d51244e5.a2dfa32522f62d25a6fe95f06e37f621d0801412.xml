{"content":"---\n# required metadata\n\ntitle: Troubleshoot your Dynamics AX 2012 R3 deployment on Azure\ndescription: This topic describes the options on the Microsoft Dynamics AX Intelligent Data Management Framework(IDMF) Schedule menu, and how to use them.\nauthor: kfend\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: dynamics-ax-2012 \nms.service: \nms.technology: ax-2012\n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer, IT Pro\n# ms.devlang: \nms.reviewer: kfend\nms.search.scope: AX 2012, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 18631\nms.assetid: 1ecac46c-29d5-4e5b-aa39-3daa00956820\nms.search.region: Global\n# ms.search.industry: \nms.author: kfend\nms.search.validFrom: \nms.dyn365.ops.version: 2012\n\n---\n\n# Troubleshoot your Dynamics AX 2012 R3 deployment on Azure\n\n[!include[banner](../../includes/banner.md)]\n\n\nThis topic describes the options on the Microsoft Dynamics AX Intelligent Data Management Framework(IDMF) Schedule menu, and how to use them.\n\nOverview of scheduling\n----------------------\n\nUse the **Schedule** menu to schedule tasks. IDMF lets you create different types of tasks from different areas of the application, as shown in the following table.\n\n<table>\n<colgroup>\n<col width=\"20%\" />\n<col width=\"20%\" />\n<col width=\"20%\" />\n<col width=\"20%\" />\n<col width=\"20%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th>Task type</th>\n<th>Description</th>\n<th>Available from</th>\n<th>Frequency defaults to</th>\n<th>Frequency can be changed</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>Defragment index</td>\n<td>Defragments selected indexes. Follow these steps to defragment indexes:\n<ol>\n<li>Click <strong><span class=\"ui\">Analysis</span> menu</strong> &gt; <strong><span class=\"ui\">Manage indexes</span></strong>.</li>\n<li>On the <strong><span class=\"ui\">Fragmented indexes</span></strong> tab, select the indexes to defragment, and then click <strong><span class=\"ui\">Schedule</span></strong>.</li>\n</ol>\n–or–\n<ol>\n<li>Click <strong><span class=\"ui\">Analysis</span> menu</strong> &gt; <strong><span class=\"ui\">Analysis details</span></strong> &gt; <span class=\"ui\"><strong>Index details</strong> pane</span> &gt; <strong><span class=\"ui\">Fragmentation</span></strong> tab.</li>\n<li>Select the indexes to defragment.</li>\n<li>Click <strong><span class=\"ui\">Defragment index</span></strong>.</li>\n</ol></td>\n<td><strong><span class=\"ui\">Analysis</span></strong> menu</td>\n<td>One time only</td>\n<td>No</td>\n</tr>\n<tr class=\"even\">\n<td>Analysis snapshot</td>\n<td>Creates a snapshot of the database, including the data size, index size, and index fragmentation. This task is available for the production and archive databases.</td>\n<td><strong><span class=\"ui\">Schedule</span></strong> menu</td>\n<td></td>\n<td>Yes</td>\n</tr>\n<tr class=\"odd\">\n<td>Ledger periods</td>\n<td>Creates ledger periods that are used for the application health check queries. This task uses the production replica database.</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr class=\"even\">\n<td>Health check</td>\n<td>Creates an application snapshot of selected measures from key modules. This task uses the production replica database.</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr class=\"odd\">\n<td>Metadata synchronization</td>\n<td>Copies all database objects, but not data, from the production database to the archive database, based on the Microsoft Dynamics AX metadata.</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr class=\"even\">\n<td>Master data synchronization</td>\n<td>Copies data from the production database to the archive database for selected tables.</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr class=\"odd\">\n<td>Purge</td>\n<td>Deletes records from the production database, using a Purge Object and based on verification of rules in the Purge Object.</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr class=\"even\">\n<td>Archive</td>\n<td>Moves or archives records from the production database to the archive database, using an Archive Object and rules in the Archive Object.</td>\n<td></td>\n<td></td>\n<td>No</td>\n</tr>\n<tr class=\"odd\">\n<td>Restore archive</td>\n<td>Restores data from the archive database to the production database.</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr class=\"even\">\n<td>Restart</td>\n<td>Restarts the following failed or ended tasks:\n<ul>\n<li>Archive</li>\n<li>Restore archive</li>\n<li>Revert task</li>\n</ul></td>\n<td><strong><span class=\"ui\">Status</span></strong> &gt; <strong><span class=\"ui\">Job Status</span></strong> window</td>\n<td></td>\n<td>No</td>\n</tr>\n<tr class=\"odd\">\n<td>Revert</td>\n<td>Reverts a failed or canceled archive task, and brings the production database to the state it was in before the archive task started.</td>\n<td><strong><span class=\"ui\">Status</span></strong> &gt; <strong><span class=\"ui\">Job Status</span></strong> window</td>\n<td></td>\n<td>No</td>\n</tr>\n</tbody>\n</table>\n\n## Navigation of the Scheduled tasks window\nThe following tables provide descriptions for the controls in the Scheduled tasks window. All tasks use this window.\n\n### Panes\n\n| Pane                    | Description                                                                                                                                                                                                                                             |\n|-------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| **Scheduled tasks**     | Provides a list of tasks that you have created. To delete inactive current or future tasks, select the tasks. Right-click the selected tasks, and then select **Delete schedule(s)**. In the **Delete schedule** dialog box, click **Yes** to continue. |\n| **Task details**        | Provides an area to enter the necessary information to create a scheduled task.                                                                                                                                                                         |\n| **Related information** | Provides a list of the steps required to create a scheduled task.                                                                                                                                                                                       |\n\n### \n\n### Tabs\n\n| Tab                             | Description                                                                                                                                  |\n|---------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|\n| **General**                     | Allows you to enter or modify the name and description of the task.                                                                          |\n| **Configure rules for purge**   | Allows you to enter values for the rules that are created in the Purge Object. This tab is available only when you create a purge task.      |\n| **Configure rules for archive** | Allows you to enter values for the rules that are created in the Archive Object. This tab is available only when you create an archive task. |\n| **Configure archive restore**   | Allows you to select the archive task that is used to restore data. This tab is available only when you create a restore archive task.       |\n| **Schedule**                    | Allows you to enter or select the frequency, start date, and start time of the task.                                                         |\n\n### Buttons\n\n| Button          | Description                                                                                                                                                                                                        |\n|-----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| **Save/Update** | Save the new or modified task. A saved task appears in the list in the **Scheduled tasks** pane. The label changes to **Update** when you select an existing task, and to **Save** when you are adding a new task. |\n| **Cancel**      | Cancel an add or edit action.                                                                                                                                                                                      |\n\n### \n\n### Fields (Scheduled tasks pane)\n\n| Field             | Description                                                                                                                                    |\n|-------------------|------------------------------------------------------------------------------------------------------------------------------------------------|\n| **Schedule name** | The name of the task.                                                                                                                          |\n| **Type**          | The type of the task.                                                                                                                          |\n| **Occurs**        | The frequency, start date, and start time of the task.                                                                                         |\n| **Created by**    | The user ID that created the task. By default, this value is the logon ID of the user that created the task, and you cannot change this value. |\n| **Description**   | A description of the task.                                                                                                                     |\n\n### \n\n### Fields (Task details pane)\n\n#### General tab\n\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th>Field</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td><strong><span class=\"ui\">Name</span></strong></td>\n<td>Enter the name of the task in this field.</td>\n</tr>\n<tr class=\"even\">\n<td><strong><span class=\"ui\">Description</span></strong></td>\n<td>Enter the description of the task in this field.</td>\n</tr>\n<tr class=\"odd\">\n<td><strong><span class=\"ui\">Author name</span></strong></td>\n<td>By default, this value is the currently logged on user, and you cannot change this value.</td>\n</tr>\n<tr class=\"even\">\n<td><strong><span class=\"ui\">Index physical statistics</span></strong></td>\n<td>When this field is selected, the analysis snapshot task captures physical statistics for indexes, such as the defragmentation percentage. This field is selected by default when you run the analysis snapshot for the first time. This capture is resource intensive and affects the performance of your production system. Therefore, the field is not automatically selected for snapshots after the first snapshot. You must manually select the field to recalculate index statistics. Schedule the snapshot at times that least affect your users.</td>\n</tr>\n<tr class=\"odd\">\n<td><strong><span class=\"ui\">Statistics by company</span></strong></td>\n<td>When this field is selected, the index and data statistics are grouped by each company in your Microsoft Dynamics AX system. This field is selected by default when you run the analysis snapshot for the first time. The grouping of data and index statistics by company is resource intensive and affects the performance of your production system. Therefore, the field is not automatically selected for snapshots after the first snapshot. You must manually select the field to group statistics by company. Schedule the snapshot at times that least affect your users.</td>\n</tr>\n<tr class=\"even\">\n<td><strong><span class=\"ui\">Select archive type</span></strong></td>\n<td>Select a value from the list to indicate whether the archival transactions are row-based or set-based. Select <strong><span class=\"ui\">Row-by-row</span></strong> to create a row-based transactional unit for the archival function. A row-based transactional unit archives a single row from the Archive Object at a time. Similarly, a set-based transactional unit archives all matching records from the Archive Object as a record set.The default value for this list is <strong><span class=\"ui\">Set-based</span></strong>. We recommend that you use a set-based archive type for improved performance.\n<div class=\"alert\">\n<table>\n<thead>\n<tr class=\"header\">\n<th><strong>Note</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>This field is available only for an archive task.</td>\n</tr>\n</tbody>\n</table>\n</div></td>\n</tr>\n<tr class=\"odd\">\n<td><strong><span class=\"ui\">Number of threads</span></strong></td>\n<td>Select the number of threads that are used for master data synchronization, ranging from 1 to 8. When you select a number that is larger than 1, each thread processes a certain number of tables.\n<div class=\"alert\">\n<table>\n<thead>\n<tr class=\"header\">\n<th><strong>Note</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>This field is available only for a master data synchronization task.</td>\n</tr>\n</tbody>\n</table>\n</div></td>\n</tr>\n</tbody>\n</table>\n\n#### \n\n#### Schedule tab\n\n| Field                    | Description                                                                                                                                                             |\n|--------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| **Frequency**            | Select a frequency from the list.                                                                                                                                       |\n| **Start date**           | Select or enter the start date in the date control.                                                                                                                     |\n| **Start time**           | Select or enter the time by using the hour, minute, and AM/PM lists.                                                                                                    |\n| **Every day**            | Select a daily schedule. This field is available only for the daily frequency.                                                                                          |\n| **Every &lt;n&gt; days** | Select the number of days between recurrences of a task. For example, select 10 to repeat the task every 10 days. This field is available only for the daily frequency. |\n| **Select days**          | Select the days of recurrence in a weekly task. This field is available only for the weekly frequency.                                                                  |\n| **Select months**        | Select the months of recurrence in a monthly task. This field is available only for the monthly frequency.                                                              |\n| **Day**                  | Select the date of recurrence in a monthly task. This field is available only for the monthly frequency.                                                                |\n\n#### \n\n#### Configure rules for purge tab (only appears when you create a purge task)\n\n| Field            | Description                                                               |\n|------------------|---------------------------------------------------------------------------|\n| **Purge Object** | Select the Purge Object that you want to use in the purge task.           |\n| **Table**        | The name of the table that is used in the rule.                           |\n| **Field**        | The name of the field that is used in the rule.                           |\n| **Operator**     | The condition that is used in the rule.                                   |\n| **Value**        | Select or update values for the rules. Verify rules with existing values. |\n\n#### \n\n#### Configure rules for archive tab (only appears when you create an archive task)\n\n| Field              | Description                                                               |\n|--------------------|---------------------------------------------------------------------------|\n| **Archive Object** | Select the Archive Object that you want to use in the archive task.       |\n| **Table**          | The name of the table that is used in the rule.                           |\n| **Field**          | The name of the field that is used in the rule.                           |\n| **Operator**       | The condition that is used in the rule.                                   |\n| **Value**          | Select or update values for the rules. Verify rules with existing values. |\n\n#### \n\n#### Configure archive restore tab (only appears when you create a restore archive task)\n\n| Field              | Description                                                                                                                                                                                                                                                                                                                                                                                                      |\n|--------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| **Restore type**   | Select the filter that is applied to the task that you are restoring. When you select **Other schedules**, the data grid displays the names of all successfully archived tasks.                                                                                                                                                                                                                                  |\n| **Schedule**       | The name of the archive task. Select the task that you want to restore. You can select multiple tasks. If you select a prior task, all the more recent tasks are selected automatically. For example, if you select 2014 for restoration, 2013 and 2012 are automatically selected for restoration. The Microsoft Dynamics AX application requires data for the more recent periods for transactional integrity. |\n| **Archive date**   | The date when the archive task was run.                                                                                                                                                                                                                                                                                                                                                                          |\n| **Archive Object** | The name of the Archive Object.                                                                                                                                                                                                                                                                                                                                                                                  |\n\n## Production database\nThis command lets you create a new database analysis snapshot task for the production database. The database snapshot task runs queries against the production database to capture database statistics such as the data size, index size, table size, and data and index usage. You must have at least one database analysis snapshot to work with IDMF. You can schedule recurring database snapshots to create the trend analysis of your production database. The trend analysis requires a minimum of two database analysis snapshots and processes up to the latest 10 snapshots, ignoring earlier ones, if you have any. On the toolbar, click **Production database** to create a scheduled task for the database analysis. Enter the required information in the **Scheduled tasks** window, and then click **Save**. This information is used in the analysis dashboard, analysis details, and performance dashboard for the production database on the **Analysis** menu.\n\n## Archive database\nThis command lets you create a new database analysis snapshot task for the archive database. The database snapshot task runs queries against the archive database to capture database statistics such as the data size, index size, table size, and data and index usage. This is an optional step. This information is used in the analysis dashboard, analysis details, and performance dashboard for the archive database on the **Analysis** menu. You must have at least one database analysis snapshot to work with the analysis dashboard and analysis details for the archive database. The trend analysis requires a minimum of two database analysis snapshots and processes up to the 10 most recent snapshots. IDMF works with the 10 most recent snapshots and ignores earlier ones, if you have any. On the toolbar, click **Archive database** to create a scheduled task for the database analysis. Enter the required information in the **Scheduled tasks** window, and then click **Save**.\n\n## Ledger periods\nThis command les you create a new task for the ledger periods that are required by the health check queries to capture and aggregate transactional information by company and year. You must successfully complete this task before running a health check task. On the toolbar, click **Ledger periods** to create a scheduled task for the ledger periods. Enter the required information in the **Scheduled tasks** window, and then click **Save**. This command works with the production replica database.\n\n## System health check\nThis command creates a snapshot of key measures from the **Inventory management**, **Accounts receivable**, **Accounts payable**, **General ledger**, and **Administration** modules in the Microsoft Dynamics AX application. These queries capture an aggregate for each measure by company and by year. The number of years this information is captured for depends on the information in your ledger periods table. A measure provides information about a specific business process. For example, the **Inventory management** module provides a measure called **Cancelled Inventory Settlement**. You must have at least one application health check analysis snapshot to work with the application health check measures. You can schedule recurring application health check snapshots to create the trend analysis of your application health. The trend analysis requires a minimum of two analysis snapshots and processes up to the latest 10 snapshots, ignoring earlier ones, if you have any. These application health check queries are extensive and adversely affect the response time for online users. Therefore, by default, these queries are run in a database called the production replica database. The accuracy of the application health check queries depends on the relevance of the application data in the production replica database. Develop a synchronization strategy to keep your production replica database as close to the production database as possible. On the toolbar, click **System health check** to create a scheduled task for the application health check snapshot. Enter the required information in the **Scheduled tasks** window, and then click **Save**. This information is used to provide the application health check measures in the **Analysis** &gt; **Show system health** command.\n\n| **Caution**                                                                                                                                                                                                                                                                                                                             |\n|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| It is possible for you to configure the application to run the application health check queries against the production database. We recommend that you not run the application health check queries against the production database, because these queries adversely affect the response time of the Microsoft Dynamics AX application. |\n\n## Metadata\nThis command synchronizes the metadata from the production database with the archive database. The metadata synchronization task copies database objects, but not data, from the production database to the archive database. You must complete this task successfully before running the master data synchronization process. Run the metadata synchronization task during your system maintenance period or at a time when the least amount of activity is occurring on the Microsoft Dynamics AX application. The metadata synchronization task can fail while copying objects such as views, functions, and stored procedures. This failure may be caused by invalid code in these objects that prevents creation, or by cyclic dependencies. A successful task is completed with a **Pass** status. If the task fails to copy database objects such as tables, indexes, and primary keys, the job shows a **Fail** status. Click the **Status** menu, and check the **Subtasks** list in the **Trace** pane to determine the exact step that caused the error. IDMF creates trace files for these subtasks in the installation location. Each trace file maps to a specific subtask, such as **CreateColumn.txt**, **CreateIndex.txt**, and **DropTables.txt**. Review the trace file corresponding to the failed subtask to determine the cause of the error. You must troubleshoot and manually resolve the issues that cause the jobs to fail. You must complete the metadata synchronization task successfully to use the archive feature. Upon successful completion of the first metadata synchronization task, you must maintain the metadata synchronization between the production database and the archive database. After the first metadata synchronization task, if there are changes in the production database schema, you must run the metadata synchronization task to keep both the databases synchronized. On the toolbar, click **Metadata** to create a scheduled task for the metadata synchronization. Enter the required information in the **Scheduled tasks** window, and then click **Save**.\n\n## Master data\nThis command synchronizes the master data tables from the production database with the archive database. The metadata synchronization task copies all the tables that you configure as master tables on the **Administer** menu. You must successfully complete the metadata synchronization task at least one time before you can run the master data synchronization task. Whenever the metadata changes in the production database, you must successfully complete the metadata synchronization task before you run the master data synchronization task. The master data synchronization task follows these steps to copy master tables:\n1.  Delete all the existing records from each target table.\n2.  Copy the whole source table from the production database to the target database.\n\nOn the toolbar, click **Master data** to create a scheduled task for the master data synchronization. Enter the required information in the **Scheduled tasks** window, and then click **Save**.\n\n## Purge\nThis command lets you create a new purge task. You must have a Purge Object before you create a purge task. At run time, a purge task uses the rules in the Purge Object to filter records. The scheduled Purge Object task deletes matching records from all the tables in the relationship tree of the Purge Object. On the toolbar, click **Schedule** &gt; **Purge** to open the **Scheduled tasks** window. When you create a purge task, you work with an additional tab in the **Scheduled tasks** window. On the **Configure rules for purge** tab, select the Purge Object, and validate or modify values for the rules, in addition to working with the **General** and **Schedule** tabs.\n\n## Archive\nThis command lets you create a new archive task. You must have an Archive Object before you create an archive task. At run time, an archive task uses the rules in the Archive Object to filter records. The scheduled Archive Object task archives matching records from all the tables in the relationship tree of the Archive Object. On the toolbar, click **Schedule** &gt; **Archive** to open the **Scheduled tasks** window. When you create an archive task, you work with an additional tab in the **Scheduled tasks** window. On the **Configure rules for archive** tab, select the Archive Object, and validate or modify values for the rules in the Archive Object, in addition to working with the **General** and **Schedule** tabs.\n### Restart the failed or canceled archive task\n\nIDMF considers an unexpected error condition a failure and cancels the task if the scheduler service is not available. Both cases are logged in the error log files. An archive task moves selected records from the production database to the archive database. IDMF archives each table as a single transaction. IDMF also tracks the completion of the archive process for each table. For example, you are processing a table called **CustTable**. If an archive task fails while archiving **CustTable**, it rolls back the transaction that was archiving **CustTable**. IDMF marks the tables being processed and is aware that the failure occurred during the processing of CustTable. When you restart the failed archive task, IDMF starts archiving **CustTable** from the beginning and continues with the remaining tables in the Archive Object. If an archive task fails or is canceled in the first phase, before it starts to copy data, you cannot restart the task. In that case, you must create and run a new task to archive data.\n\n### Revert the failed or canceled archive task\n\nYou can roll back a failed or canceled archive task. Rolling back the task restores the data that is partially archived. As detailed in the previous section, in case of a failure, IDMF rolls back the current table that is being processed. However, by default, the previously archived tables are not rolled back. For example, an archive task has successfully completed archiving the table **WMSOrder**. The task fails during archiving of the **WMSOrderTans** table and rolls back the archiving of the **WMSOrderTans** table. The database is now in a state where records from **WMSOrder** have been archived, but the corresponding records from **WMSOrderTans** and other related tables in the nested relationship tree have not been archived. In order to maintain the integrity of the database, you must revert or restart the failed archive task. When you revert the failed task, it tries to restore the data it archived from the **WMSOrder** table. A successful revert brings the database to the state it was in before the archive task started. If your archive task failed or was canceled before it started to copy data, there is nothing to revert. If you attempt to revert such failed tasks, IDMF displays a message that there is nothing to revert for such tasks. If a revert task fails or is canceled, you can restart the failed revert task. Monitor the revert task to verify successful completion.\n\n## Restore archive\nThis command lets you restore archived records from a successful archive task. On the toolbar, click **Restore archive** to create a scheduled task for restoring the archived data. Enter the required information in the **Scheduled tasks** window, and then click **Save**. A successful archive task is completed with the **Pass** status. Click the **Status** menu to work with the **Status** workspace. In the **Job status** pane, select an archive task with the **Pass** status. The **Trace** pane in the **Status** workspace lists the number of records archived in each table of the Archive Object.\n### Walkthrough: Create a restore archive task for the Archive Object\n\nThis section provides a walkthrough to create a restore archive task. Follow these steps to restore the archived records to the production database:\n1.  Click **Schedule** &gt; **Restore archive** to create a restore archive task. For this walkthrough, you work in the **Task details** pane.\n2.  On the **General** tab, enter the task name and description.\n3.  On the **Configure archive restore** tab, select **Other schedules** from the list to filter the data grid based on your selection. Selecting **Other schedules** filters the data grid to show successfully completed tasks for all other Archive Objects, such as **SalesTable** and **BankDeposit**.\n4.  Review the archive tasks shown in the **Schedule** column. You can select multiple tasks. When restoring, you can restore the most recent archive without having to restore an older archive for the same object.\n5.  On the **Schedule** tab, enter values for the start date and start time.\n6.  Click **Save**.\n7.  Carefully read the warning that may appear, indicating that you have performed a valuation model change or a standard cost revaluation. Restoring the Archive Object after a validation model change or standard cost evaluation may lead to data inconsistencies. In the production environment, do not run the restore archive task if you have performed either of these actions. For the purpose of this walkthrough, continue the walkthrough in the test environment. Click **OK** to close the message.\n8.  On the **Schedule** tab, click **OK** to continue.\n9.  Using the **Status** menu, monitor the progress of the restore task, and verify that it has completed successfully with a **Pass** status. Compare the information in the **Trace** pane from the restore task with the information from the archive task. Verify that the number of records restored matches the number of records archived for all tables in the archive and restore tasks.\n10. Test the restored tables in the test environment to verify data and application integrity.\n\n| **Caution**                                                                                                                                                                                                                                                                                                                                               |\n|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Improper use of an Archive Object or a restoration of the archived records can cause unexpected results, database corruption, and application downtime requiring full database and application recovery. You must exercise extreme caution and thoroughly test your archival strategy in a test environment before working in the production environment. |\n\n### Restart the failed or canceled restore archive task\n\nIDMF considers an unexpected error condition a failure and cancels a task when the scheduler service is unavailable. Both cases are logged in the error log files. A restore archive task restores records from the archive database to the production database, as detailed in the previous section. IDMF restores each table as a single transaction. IDMF also tracks the completion of the restore process for each table. For example, you are restoring a table called **CustTable**. If a restore archive task fails while restoring **CustTable**, it rolls back the transaction that was restoring **CustTable**. IDMF marks the tables being processed and is aware that the failure occurred during the restoration of **CustTable**. When you restart the failed restore archive task, IDMF starts restoring **CustTable** from the beginning and continues with the remaining tables in the Archive Object. If a restore archive task fails or is canceled in the first phase, before it starts to restore data, you cannot restart the task. In that case, you must create and run a new task to archive data.\n\n## Export to Excel\nThis command exports the selected task to Microsoft Excel.\n\n\n\n\n\n","nodes":[{"pos":[4,732],"embed":true,"restype":"x-metadata","content":"# required metadata\n\ntitle: Troubleshoot your Dynamics AX 2012 R3 deployment on Azure\ndescription: This topic describes the options on the Microsoft Dynamics AX Intelligent Data Management Framework(IDMF) Schedule menu, and how to use them.\nauthor: kfend\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: dynamics-ax-2012 \nms.service: \nms.technology: ax-2012\n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer, IT Pro\n# ms.devlang: \nms.reviewer: kfend\nms.search.scope: AX 2012, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 18631\nms.assetid: 1ecac46c-29d5-4e5b-aa39-3daa00956820\nms.search.region: Global\n# ms.search.industry: \nms.author: kfend\nms.search.validFrom: \nms.dyn365.ops.version: 2012\n","nodes":[{"content":"Troubleshoot your Dynamics AX 2012 R3 deployment on Azure","nodes":[{"pos":[0,57],"content":"Troubleshoot your Dynamics AX 2012 R3 deployment on Azure","nodes":[{"content":"Troubleshoot your Dynamics AX 2012 R3 deployment on Azure","pos":[0,57]}]}],"path":["title"],"extradata":"MT"},{"content":"This topic describes the options on the Microsoft Dynamics AX Intelligent Data Management Framework(IDMF) Schedule menu, and how to use them.","nodes":[{"pos":[0,141],"content":"This topic describes the options on the Microsoft Dynamics AX Intelligent Data Management Framework(IDMF) Schedule menu, and how to use them.","nodes":[{"content":"This topic describes the options on the Microsoft Dynamics AX Intelligent Data Management Framework(IDMF) Schedule menu, and how to use them.","pos":[0,141]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata\n","yml":true},{"pos":[740,797],"content":"Troubleshoot your Dynamics AX 2012 R3 deployment on Azure","linkify":"Troubleshoot your Dynamics AX 2012 R3 deployment on Azure","nodes":[{"content":"Troubleshoot your Dynamics AX 2012 R3 deployment on Azure","pos":[0,57]}]},{"content":"This topic describes the options on the Microsoft Dynamics AX Intelligent Data Management Framework(IDMF) Schedule menu, and how to use them.","pos":[846,987]},{"pos":[989,1011],"content":"Overview of scheduling","linkify":"Overview of scheduling","nodes":[{"content":"Overview of scheduling","pos":[0,22]}]},{"content":"Use the <bpt id=\"p1\">**</bpt>Schedule<ept id=\"p1\">**</ept> menu to schedule tasks.","pos":[1036,1080],"source":"Use the **Schedule** menu to schedule tasks."},{"content":"IDMF lets you create different types of tasks from different areas of the application, as shown in the following table.","pos":[1081,1200]},{"content":"Task type","pos":[1365,1374]},{"content":"Description","pos":[1384,1395]},{"content":"Available from","pos":[1405,1419]},{"content":"Frequency defaults to","pos":[1429,1450]},{"content":"Frequency can be changed","pos":[1460,1484]},{"content":"Defragment index","pos":[1534,1550]},{"content":"Defragments selected indexes.","pos":[1560,1589]},{"content":"Follow these steps to defragment indexes:","pos":[1590,1631],"source":" Follow these steps to defragment indexes:\n"},{"content":"Click <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Analysis<ept id=\"p2\">&lt;/span&gt;</ept> menu<ept id=\"p1\">&lt;/strong&gt;</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">&lt;strong&gt;</bpt><bpt id=\"p4\">&lt;span class=\"ui\"&gt;</bpt>Manage indexes<ept id=\"p4\">&lt;/span&gt;</ept><ept id=\"p3\">&lt;/strong&gt;</ept>.","pos":[1641,1763],"source":"Click <strong><span class=\"ui\">Analysis</span> menu</strong> &gt; <strong><span class=\"ui\">Manage indexes</span></strong>."},{"content":"On the <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Fragmented indexes<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> tab, select the indexes to defragment, and then click <bpt id=\"p3\">&lt;strong&gt;</bpt><bpt id=\"p4\">&lt;span class=\"ui\"&gt;</bpt>Schedule<ept id=\"p4\">&lt;/span&gt;</ept><ept id=\"p3\">&lt;/strong&gt;</ept>.","pos":[1773,1944],"source":"On the <strong><span class=\"ui\">Fragmented indexes</span></strong> tab, select the indexes to defragment, and then click <strong><span class=\"ui\">Schedule</span></strong>."},{"content":"–or–","pos":[1956,1960],"source":"\n–or–\n"},{"content":"Click <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Analysis<ept id=\"p2\">&lt;/span&gt;</ept> menu<ept id=\"p1\">&lt;/strong&gt;</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">&lt;strong&gt;</bpt><bpt id=\"p4\">&lt;span class=\"ui\"&gt;</bpt>Analysis details<ept id=\"p4\">&lt;/span&gt;</ept><ept id=\"p3\">&lt;/strong&gt;</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p5\">&lt;span class=\"ui\"&gt;</bpt><bpt id=\"p6\">&lt;strong&gt;</bpt>Index details<ept id=\"p6\">&lt;/strong&gt;</ept> pane<ept id=\"p5\">&lt;/span&gt;</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p7\">&lt;strong&gt;</bpt><bpt id=\"p8\">&lt;span class=\"ui\"&gt;</bpt>Fragmentation<ept id=\"p8\">&lt;/span&gt;</ept><ept id=\"p7\">&lt;/strong&gt;</ept> tab.","pos":[1970,2223],"source":"Click <strong><span class=\"ui\">Analysis</span> menu</strong> &gt; <strong><span class=\"ui\">Analysis details</span></strong> &gt; <span class=\"ui\"><strong>Index details</strong> pane</span> &gt; <strong><span class=\"ui\">Fragmentation</span></strong> tab."},{"content":"Select the indexes to defragment.","pos":[2233,2266]},{"content":"Click <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Defragment index<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept>.","pos":[2276,2340],"source":"Click <strong><span class=\"ui\">Defragment index</span></strong>."},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Analysis<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> menu","pos":[2361,2415],"source":"<strong><span class=\"ui\">Analysis</span></strong> menu"},{"content":"One time only","pos":[2425,2438]},{"content":"No","pos":[2448,2450]},{"content":"Analysis snapshot","pos":[2484,2501]},{"content":"Creates a snapshot of the database, including the data size, index size, and index fragmentation.","pos":[2511,2608]},{"content":"This task is available for the production and archive databases.","pos":[2609,2673]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Schedule<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> menu","pos":[2683,2737],"source":"<strong><span class=\"ui\">Schedule</span></strong> menu"},{"content":"Yes","pos":[2757,2760]},{"content":"Ledger periods","pos":[2793,2807]},{"content":"Creates ledger periods that are used for the application health check queries.","pos":[2817,2895]},{"content":"This task uses the production replica database.","pos":[2896,2943]},{"content":"Health check","pos":[3007,3019]},{"content":"Creates an application snapshot of selected measures from key modules.","pos":[3029,3099]},{"content":"This task uses the production replica database.","pos":[3100,3147]},{"content":"Metadata synchronization","pos":[3210,3234]},{"content":"Copies all database objects, but not data, from the production database to the archive database, based on the Microsoft Dynamics AX metadata.","pos":[3244,3385]},{"content":"Master data synchronization","pos":[3449,3476]},{"content":"Copies data from the production database to the archive database for selected tables.","pos":[3486,3571]},{"content":"Purge","pos":[3634,3639]},{"content":"Deletes records from the production database, using a Purge Object and based on verification of rules in the Purge Object.","pos":[3649,3771]},{"content":"Archive","pos":[3835,3842]},{"content":"Moves or archives records from the production database to the archive database, using an Archive Object and rules in the Archive Object.","pos":[3852,3988]},{"content":"No","pos":[4018,4020]},{"content":"Restore archive","pos":[4053,4068]},{"content":"Restores data from the archive database to the production database.","pos":[4078,4145]},{"content":"Restart","pos":[4209,4216]},{"content":"Restarts the following failed or ended tasks:","pos":[4226,4271],"source":"Restarts the following failed or ended tasks:\n"},{"content":"Archive","pos":[4281,4288]},{"content":"Restore archive","pos":[4298,4313]},{"content":"Revert task","pos":[4323,4334]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Status<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">&lt;strong&gt;</bpt><bpt id=\"p4\">&lt;span class=\"ui\"&gt;</bpt>Job Status<ept id=\"p4\">&lt;/span&gt;</ept><ept id=\"p3\">&lt;/strong&gt;</ept> window","pos":[4355,4466],"source":"<strong><span class=\"ui\">Status</span></strong> &gt; <strong><span class=\"ui\">Job Status</span></strong> window"},{"content":"No","pos":[4486,4488]},{"content":"Revert","pos":[4521,4527]},{"content":"Reverts a failed or canceled archive task, and brings the production database to the state it was in before the archive task started.","pos":[4537,4670]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Status<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">&lt;strong&gt;</bpt><bpt id=\"p4\">&lt;span class=\"ui\"&gt;</bpt>Job Status<ept id=\"p4\">&lt;/span&gt;</ept><ept id=\"p3\">&lt;/strong&gt;</ept> window","pos":[4680,4791],"source":"<strong><span class=\"ui\">Status</span></strong> &gt; <strong><span class=\"ui\">Job Status</span></strong> window"},{"content":"No","pos":[4811,4813]},{"pos":[4847,4887],"content":"Navigation of the Scheduled tasks window","linkify":"Navigation of the Scheduled tasks window","nodes":[{"content":"Navigation of the Scheduled tasks window","pos":[0,40]}]},{"content":"The following tables provide descriptions for the controls in the Scheduled tasks window.","pos":[4888,4977]},{"content":"All tasks use this window.","pos":[4978,5004]},{"pos":[5010,5015],"content":"Panes","linkify":"Panes","nodes":[{"content":"Panes","pos":[0,5]}]},{"content":"Pane","pos":[5019,5023]},{"content":"Description","pos":[5045,5056]},{"pos":[5575,5594],"content":"<bpt id=\"p1\">**</bpt>Scheduled tasks<ept id=\"p1\">**</ept>","source":"**Scheduled tasks**"},{"content":"Provides a list of tasks that you have created.","pos":[5601,5648]},{"content":"To delete inactive current or future tasks, select the tasks.","pos":[5649,5710]},{"content":"Right-click the selected tasks, and then select <bpt id=\"p1\">**</bpt>Delete schedule(s)<ept id=\"p1\">**</ept>.","pos":[5711,5782],"source":" Right-click the selected tasks, and then select **Delete schedule(s)**."},{"content":"In the <bpt id=\"p1\">**</bpt>Delete schedule<ept id=\"p1\">**</ept> dialog box, click <bpt id=\"p2\">**</bpt>Yes<ept id=\"p2\">**</ept> to continue.","pos":[5783,5848],"source":" In the **Delete schedule** dialog box, click **Yes** to continue."},{"pos":[5853,5869],"content":"<bpt id=\"p1\">**</bpt>Task details<ept id=\"p1\">**</ept>","source":"**Task details**"},{"content":"Provides an area to enter the necessary information to create a scheduled task.","pos":[5879,5958]},{"pos":[6131,6154],"content":"<bpt id=\"p1\">**</bpt>Related information<ept id=\"p1\">**</ept>","source":"**Related information**"},{"content":"Provides a list of the steps required to create a scheduled task.","pos":[6157,6222]},{"pos":[6418,6422],"content":"Tabs","linkify":"Tabs","nodes":[{"content":"Tabs","pos":[0,4]}]},{"content":"Tab","pos":[6426,6429]},{"content":"Description","pos":[6460,6471]},{"pos":[6784,6795],"content":"<bpt id=\"p1\">**</bpt>General<ept id=\"p1\">**</ept>","source":"**General**"},{"content":"Allows you to enter or modify the name and description of the task.","pos":[6818,6885]},{"pos":[6963,6992],"content":"<bpt id=\"p1\">**</bpt>Configure rules for purge<ept id=\"p1\">**</ept>","source":"**Configure rules for purge**"},{"content":"Allows you to enter values for the rules that are created in the Purge Object.","pos":[6997,7075]},{"content":"This tab is available only when you create a purge task.","pos":[7076,7132]},{"pos":[7142,7173],"content":"<bpt id=\"p1\">**</bpt>Configure rules for archive<ept id=\"p1\">**</ept>","source":"**Configure rules for archive**"},{"content":"Allows you to enter values for the rules that are created in the Archive Object.","pos":[7176,7256]},{"content":"This tab is available only when you create an archive task.","pos":[7257,7316]},{"pos":[7321,7350],"content":"<bpt id=\"p1\">**</bpt>Configure archive restore<ept id=\"p1\">**</ept>","source":"**Configure archive restore**"},{"content":"Allows you to select the archive task that is used to restore data.","pos":[7355,7422]},{"content":"This tab is available only when you create a restore archive task.","pos":[7423,7489]},{"pos":[7500,7512],"content":"<bpt id=\"p1\">**</bpt>Schedule<ept id=\"p1\">**</ept>","source":"**Schedule**"},{"content":"Allows you to enter or select the frequency, start date, and start time of the task.","pos":[7534,7618]},{"pos":[7682,7689],"content":"Buttons","linkify":"Buttons","nodes":[{"content":"Buttons","pos":[0,7]}]},{"content":"Button","pos":[7693,7699]},{"content":"Description","pos":[7711,7722]},{"pos":[8159,8174],"content":"<bpt id=\"p1\">**</bpt>Save/Update<ept id=\"p1\">**</ept>","source":"**Save/Update**"},{"content":"Save the new or modified task.","pos":[8177,8207]},{"content":"A saved task appears in the list in the <bpt id=\"p1\">**</bpt>Scheduled tasks<ept id=\"p1\">**</ept> pane.","pos":[8208,8273],"source":" A saved task appears in the list in the **Scheduled tasks** pane."},{"content":"The label changes to <bpt id=\"p1\">**</bpt>Update<ept id=\"p1\">**</ept> when you select an existing task, and to <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept> when you are adding a new task.","pos":[8274,8387],"source":" The label changes to **Update** when you select an existing task, and to **Save** when you are adding a new task."},{"pos":[8392,8402],"content":"<bpt id=\"p1\">**</bpt>Cancel<ept id=\"p1\">**</ept>","source":"**Cancel**"},{"content":"Cancel an add or edit action.","pos":[8410,8439]},{"pos":[8634,8663],"content":"Fields (Scheduled tasks pane)","linkify":"Fields (Scheduled tasks pane)","nodes":[{"content":"Fields (Scheduled tasks pane)","pos":[0,29]}]},{"content":"Field","pos":[8667,8672]},{"content":"Description","pos":[8687,8698]},{"pos":[9001,9018],"content":"<bpt id=\"p1\">**</bpt>Schedule name<ept id=\"p1\">**</ept>","source":"**Schedule name**"},{"content":"The name of the task.","pos":[9021,9042]},{"pos":[9168,9176],"content":"<bpt id=\"p1\">**</bpt>Type<ept id=\"p1\">**</ept>","source":"**Type**"},{"content":"The type of the task.","pos":[9188,9209]},{"pos":[9335,9345],"content":"<bpt id=\"p1\">**</bpt>Occurs<ept id=\"p1\">**</ept>","source":"**Occurs**"},{"content":"The frequency, start date, and start time of the task.","pos":[9355,9409]},{"pos":[9502,9516],"content":"<bpt id=\"p1\">**</bpt>Created by<ept id=\"p1\">**</ept>","source":"**Created by**"},{"content":"The user ID that created the task.","pos":[9522,9556]},{"content":"By default, this value is the logon ID of the user that created the task, and you cannot change this value.","pos":[9557,9664]},{"pos":[9669,9684],"content":"<bpt id=\"p1\">**</bpt>Description<ept id=\"p1\">**</ept>","source":"**Description**"},{"content":"A description of the task.","pos":[9689,9715]},{"pos":[9845,9871],"content":"Fields (Task details pane)","linkify":"Fields (Task details pane)","nodes":[{"content":"Fields (Task details pane)","pos":[0,26]}]},{"pos":[9878,9889],"content":"General tab","linkify":"General tab","nodes":[{"content":"General tab","pos":[0,11]}]},{"content":"Field","pos":[9994,9999]},{"content":"Description","pos":[10009,10020]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Name<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[10070,10115],"source":"<strong><span class=\"ui\">Name</span></strong>"},{"content":"Enter the name of the task in this field.","pos":[10125,10166]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Description<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[10200,10252],"source":"<strong><span class=\"ui\">Description</span></strong>"},{"content":"Enter the description of the task in this field.","pos":[10262,10310]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Author name<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[10343,10395],"source":"<strong><span class=\"ui\">Author name</span></strong>"},{"content":"By default, this value is the currently logged on user, and you cannot change this value.","pos":[10405,10494]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Index physical statistics<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[10528,10594],"source":"<strong><span class=\"ui\">Index physical statistics</span></strong>"},{"content":"When this field is selected, the analysis snapshot task captures physical statistics for indexes, such as the defragmentation percentage.","pos":[10604,10741]},{"content":"This field is selected by default when you run the analysis snapshot for the first time.","pos":[10742,10830]},{"content":"This capture is resource intensive and affects the performance of your production system.","pos":[10831,10920]},{"content":"Therefore, the field is not automatically selected for snapshots after the first snapshot.","pos":[10921,11011]},{"content":"You must manually select the field to recalculate index statistics.","pos":[11012,11079]},{"content":"Schedule the snapshot at times that least affect your users.","pos":[11080,11140]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Statistics by company<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[11173,11235],"source":"<strong><span class=\"ui\">Statistics by company</span></strong>"},{"content":"When this field is selected, the index and data statistics are grouped by each company in your Microsoft Dynamics AX system.","pos":[11245,11369]},{"content":"This field is selected by default when you run the analysis snapshot for the first time.","pos":[11370,11458]},{"content":"The grouping of data and index statistics by company is resource intensive and affects the performance of your production system.","pos":[11459,11588]},{"content":"Therefore, the field is not automatically selected for snapshots after the first snapshot.","pos":[11589,11679]},{"content":"You must manually select the field to group statistics by company.","pos":[11680,11746]},{"content":"Schedule the snapshot at times that least affect your users.","pos":[11747,11807]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Select archive type<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[11841,11901],"source":"<strong><span class=\"ui\">Select archive type</span></strong>"},{"content":"Select a value from the list to indicate whether the archival transactions are row-based or set-based.","pos":[11911,12013]},{"content":"Select <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Row-by-row<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> to create a row-based transactional unit for the archival function.","pos":[12014,12140],"source":" Select <strong><span class=\"ui\">Row-by-row</span></strong> to create a row-based transactional unit for the archival function."},{"content":"A row-based transactional unit archives a single row from the Archive Object at a time.","pos":[12141,12228]},{"content":"Similarly, a set-based transactional unit archives all matching records from the Archive Object as a record set.The default value for this list is <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Set-based<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept>.","pos":[12229,12427],"source":" Similarly, a set-based transactional unit archives all matching records from the Archive Object as a record set.The default value for this list is <strong><span class=\"ui\">Set-based</span></strong>."},{"content":"We recommend that you use a set-based archive type for improved performance.","pos":[12428,12504]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt>Note<ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[12565,12586],"source":"<strong>Note</strong>"},{"content":"This field is available only for an archive task.","pos":[12636,12685]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Number of threads<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[12754,12812],"source":"<strong><span class=\"ui\">Number of threads</span></strong>"},{"content":"Select the number of threads that are used for master data synchronization, ranging from 1 to 8.","pos":[12822,12918]},{"content":"When you select a number that is larger than 1, each thread processes a certain number of tables.","pos":[12919,13016]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt>Note<ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[13077,13098],"source":"<strong>Note</strong>"},{"content":"This field is available only for a master data synchronization task.","pos":[13148,13216]},{"pos":[13295,13307],"content":"Schedule tab","linkify":"Schedule tab","nodes":[{"content":"Schedule tab","pos":[0,12]}]},{"content":"Field","pos":[13311,13316]},{"content":"Description","pos":[13338,13349]},{"pos":[13709,13722],"content":"<bpt id=\"p1\">**</bpt>Frequency<ept id=\"p1\">**</ept>","source":"**Frequency**"},{"content":"Select a frequency from the list.","pos":[13736,13769]},{"pos":[13908,13922],"content":"<bpt id=\"p1\">**</bpt>Start date<ept id=\"p1\">**</ept>","source":"**Start date**"},{"content":"Select or enter the start date in the date control.","pos":[13935,13986]},{"pos":[14107,14121],"content":"<bpt id=\"p1\">**</bpt>Start time<ept id=\"p1\">**</ept>","source":"**Start time**"},{"content":"Select or enter the time by using the hour, minute, and AM/PM lists.","pos":[14134,14202]},{"pos":[14306,14319],"content":"<bpt id=\"p1\">**</bpt>Every day<ept id=\"p1\">**</ept>","source":"**Every day**"},{"content":"Select a daily schedule.","pos":[14333,14357]},{"content":"This field is available only for the daily frequency.","pos":[14358,14411]},{"pos":[14505,14529],"content":"<bpt id=\"p1\">**</bpt>Every <ph id=\"ph1\">&amp;lt;</ph><ph id=\"ph2\">n</ph><ph id=\"ph3\">&amp;gt;</ph> days<ept id=\"p1\">**</ept>","source":"**Every &lt;n&gt; days**"},{"content":"Select the number of days between recurrences of a task.","pos":[14532,14588]},{"content":"For example, select 10 to repeat the task every 10 days.","pos":[14589,14645]},{"content":"This field is available only for the daily frequency.","pos":[14646,14699]},{"pos":[14704,14719],"content":"<bpt id=\"p1\">**</bpt>Select days<ept id=\"p1\">**</ept>","source":"**Select days**"},{"content":"Select the days of recurrence in a weekly task.","pos":[14731,14778]},{"content":"This field is available only for the weekly frequency.","pos":[14779,14833]},{"pos":[14903,14920],"content":"<bpt id=\"p1\">**</bpt>Select months<ept id=\"p1\">**</ept>","source":"**Select months**"},{"content":"Select the months of recurrence in a monthly task.","pos":[14930,14980]},{"content":"This field is available only for the monthly frequency.","pos":[14981,15036]},{"pos":[15102,15109],"content":"<bpt id=\"p1\">**</bpt>Day<ept id=\"p1\">**</ept>","source":"**Day**"},{"content":"Select the date of recurrence in a monthly task.","pos":[15129,15177]},{"content":"This field is available only for the monthly frequency.","pos":[15178,15233]},{"pos":[15312,15385],"content":"Configure rules for purge tab (only appears when you create a purge task)","linkify":"Configure rules for purge tab (only appears when you create a purge task)","nodes":[{"content":"Configure rules for purge tab (only appears when you create a purge task)","pos":[0,73]}]},{"content":"Field","pos":[15389,15394]},{"content":"Description","pos":[15408,15419]},{"pos":[15583,15599],"content":"<bpt id=\"p1\">**</bpt>Purge Object<ept id=\"p1\">**</ept>","source":"**Purge Object**"},{"content":"Select the Purge Object that you want to use in the purge task.","pos":[15602,15665]},{"pos":[15680,15689],"content":"<bpt id=\"p1\">**</bpt>Table<ept id=\"p1\">**</ept>","source":"**Table**"},{"content":"The name of the table that is used in the rule.","pos":[15699,15746]},{"pos":[15777,15786],"content":"<bpt id=\"p1\">**</bpt>Field<ept id=\"p1\">**</ept>","source":"**Field**"},{"content":"The name of the field that is used in the rule.","pos":[15796,15843]},{"pos":[15874,15886],"content":"<bpt id=\"p1\">**</bpt>Operator<ept id=\"p1\">**</ept>","source":"**Operator**"},{"content":"The condition that is used in the rule.","pos":[15893,15932]},{"pos":[15971,15980],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Select or update values for the rules.","pos":[15990,16028]},{"content":"Verify rules with existing values.","pos":[16029,16063]},{"pos":[16079,16157],"content":"Configure rules for archive tab (only appears when you create an archive task)","linkify":"Configure rules for archive tab (only appears when you create an archive task)","nodes":[{"content":"Configure rules for archive tab (only appears when you create an archive task)","pos":[0,78]}]},{"content":"Field","pos":[16161,16166]},{"content":"Description","pos":[16182,16193]},{"pos":[16359,16377],"content":"<bpt id=\"p1\">**</bpt>Archive Object<ept id=\"p1\">**</ept>","source":"**Archive Object**"},{"content":"Select the Archive Object that you want to use in the archive task.","pos":[16380,16447]},{"pos":[16458,16467],"content":"<bpt id=\"p1\">**</bpt>Table<ept id=\"p1\">**</ept>","source":"**Table**"},{"content":"The name of the table that is used in the rule.","pos":[16479,16526]},{"pos":[16557,16566],"content":"<bpt id=\"p1\">**</bpt>Field<ept id=\"p1\">**</ept>","source":"**Field**"},{"content":"The name of the field that is used in the rule.","pos":[16578,16625]},{"pos":[16656,16668],"content":"<bpt id=\"p1\">**</bpt>Operator<ept id=\"p1\">**</ept>","source":"**Operator**"},{"content":"The condition that is used in the rule.","pos":[16677,16716]},{"pos":[16755,16764],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Select or update values for the rules.","pos":[16776,16814]},{"content":"Verify rules with existing values.","pos":[16815,16849]},{"pos":[16865,16948],"content":"Configure archive restore tab (only appears when you create a restore archive task)","linkify":"Configure archive restore tab (only appears when you create a restore archive task)","nodes":[{"content":"Configure archive restore tab (only appears when you create a restore archive task)","pos":[0,83]}]},{"content":"Field","pos":[16952,16957]},{"content":"Description","pos":[16973,16984]},{"pos":[17804,17820],"content":"<bpt id=\"p1\">**</bpt>Restore type<ept id=\"p1\">**</ept>","source":"**Restore type**"},{"content":"Select the filter that is applied to the task that you are restoring.","pos":[17825,17894]},{"content":"When you select <bpt id=\"p1\">**</bpt>Other schedules<ept id=\"p1\">**</ept>, the data grid displays the names of all successfully archived tasks.","pos":[17895,18000],"source":" When you select **Other schedules**, the data grid displays the names of all successfully archived tasks."},{"pos":[18230,18242],"content":"<bpt id=\"p1\">**</bpt>Schedule<ept id=\"p1\">**</ept>","source":"**Schedule**"},{"content":"The name of the archive task.","pos":[18251,18280]},{"content":"Select the task that you want to restore.","pos":[18281,18322]},{"content":"You can select multiple tasks.","pos":[18323,18353]},{"content":"If you select a prior task, all the more recent tasks are selected automatically.","pos":[18354,18435]},{"content":"For example, if you select 2014 for restoration, 2013 and 2012 are automatically selected for restoration.","pos":[18436,18542]},{"content":"The Microsoft Dynamics AX application requires data for the more recent periods for transactional integrity.","pos":[18543,18651]},{"pos":[18656,18672],"content":"<bpt id=\"p1\">**</bpt>Archive date<ept id=\"p1\">**</ept>","source":"**Archive date**"},{"content":"The date when the archive task was run.","pos":[18677,18716]},{"pos":[19082,19100],"content":"<bpt id=\"p1\">**</bpt>Archive Object<ept id=\"p1\">**</ept>","source":"**Archive Object**"},{"content":"The name of the Archive Object.","pos":[19103,19134]},{"pos":[19510,19529],"content":"Production database","linkify":"Production database","nodes":[{"content":"Production database","pos":[0,19]}]},{"content":"This command lets you create a new database analysis snapshot task for the production database.","pos":[19530,19625]},{"content":"The database snapshot task runs queries against the production database to capture database statistics such as the data size, index size, table size, and data and index usage.","pos":[19626,19801]},{"content":"You must have at least one database analysis snapshot to work with IDMF.","pos":[19802,19874]},{"content":"You can schedule recurring database snapshots to create the trend analysis of your production database.","pos":[19875,19978]},{"content":"The trend analysis requires a minimum of two database analysis snapshots and processes up to the latest 10 snapshots, ignoring earlier ones, if you have any.","pos":[19979,20136]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Production database<ept id=\"p1\">**</ept> to create a scheduled task for the database analysis.","pos":[20137,20236],"source":" On the toolbar, click **Production database** to create a scheduled task for the database analysis."},{"content":"Enter the required information in the <bpt id=\"p1\">**</bpt>Scheduled tasks<ept id=\"p1\">**</ept> window, and then click <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept>.","pos":[20237,20327],"source":" Enter the required information in the **Scheduled tasks** window, and then click **Save**."},{"content":"This information is used in the analysis dashboard, analysis details, and performance dashboard for the production database on the <bpt id=\"p1\">**</bpt>Analysis<ept id=\"p1\">**</ept> menu.","pos":[20328,20477],"source":" This information is used in the analysis dashboard, analysis details, and performance dashboard for the production database on the **Analysis** menu."},{"pos":[20482,20498],"content":"Archive database","linkify":"Archive database","nodes":[{"content":"Archive database","pos":[0,16]}]},{"content":"This command lets you create a new database analysis snapshot task for the archive database.","pos":[20499,20591]},{"content":"The database snapshot task runs queries against the archive database to capture database statistics such as the data size, index size, table size, and data and index usage.","pos":[20592,20764]},{"content":"This is an optional step.","pos":[20765,20790]},{"content":"This information is used in the analysis dashboard, analysis details, and performance dashboard for the archive database on the <bpt id=\"p1\">**</bpt>Analysis<ept id=\"p1\">**</ept> menu.","pos":[20791,20937],"source":" This information is used in the analysis dashboard, analysis details, and performance dashboard for the archive database on the **Analysis** menu."},{"content":"You must have at least one database analysis snapshot to work with the analysis dashboard and analysis details for the archive database.","pos":[20938,21074]},{"content":"The trend analysis requires a minimum of two database analysis snapshots and processes up to the 10 most recent snapshots.","pos":[21075,21197]},{"content":"IDMF works with the 10 most recent snapshots and ignores earlier ones, if you have any.","pos":[21198,21285]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Archive database<ept id=\"p1\">**</ept> to create a scheduled task for the database analysis.","pos":[21286,21382],"source":" On the toolbar, click **Archive database** to create a scheduled task for the database analysis."},{"content":"Enter the required information in the <bpt id=\"p1\">**</bpt>Scheduled tasks<ept id=\"p1\">**</ept> window, and then click <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept>.","pos":[21383,21473],"source":" Enter the required information in the **Scheduled tasks** window, and then click **Save**."},{"pos":[21478,21492],"content":"Ledger periods","linkify":"Ledger periods","nodes":[{"content":"Ledger periods","pos":[0,14]}]},{"content":"This command les you create a new task for the ledger periods that are required by the health check queries to capture and aggregate transactional information by company and year.","pos":[21493,21672]},{"content":"You must successfully complete this task before running a health check task.","pos":[21673,21749]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Ledger periods<ept id=\"p1\">**</ept> to create a scheduled task for the ledger periods.","pos":[21750,21841],"source":" On the toolbar, click **Ledger periods** to create a scheduled task for the ledger periods."},{"content":"Enter the required information in the <bpt id=\"p1\">**</bpt>Scheduled tasks<ept id=\"p1\">**</ept> window, and then click <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept>.","pos":[21842,21932],"source":" Enter the required information in the **Scheduled tasks** window, and then click **Save**."},{"content":"This command works with the production replica database.","pos":[21933,21989]},{"pos":[21994,22013],"content":"System health check","linkify":"System health check","nodes":[{"content":"System health check","pos":[0,19]}]},{"content":"This command creates a snapshot of key measures from the <bpt id=\"p1\">**</bpt>Inventory management<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Accounts receivable<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Accounts payable<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>General ledger<ept id=\"p4\">**</ept>, and <bpt id=\"p5\">**</bpt>Administration<ept id=\"p5\">**</ept> modules in the Microsoft Dynamics AX application.","pos":[22014,22236],"source":"This command creates a snapshot of key measures from the **Inventory management**, **Accounts receivable**, **Accounts payable**, **General ledger**, and **Administration** modules in the Microsoft Dynamics AX application."},{"content":"These queries capture an aggregate for each measure by company and by year.","pos":[22237,22312]},{"content":"The number of years this information is captured for depends on the information in your ledger periods table.","pos":[22313,22422]},{"content":"A measure provides information about a specific business process.","pos":[22423,22488]},{"content":"For example, the <bpt id=\"p1\">**</bpt>Inventory management<ept id=\"p1\">**</ept> module provides a measure called <bpt id=\"p2\">**</bpt>Cancelled Inventory Settlement<ept id=\"p2\">**</ept>.","pos":[22489,22599],"source":" For example, the **Inventory management** module provides a measure called **Cancelled Inventory Settlement**."},{"content":"You must have at least one application health check analysis snapshot to work with the application health check measures.","pos":[22600,22721]},{"content":"You can schedule recurring application health check snapshots to create the trend analysis of your application health.","pos":[22722,22840]},{"content":"The trend analysis requires a minimum of two analysis snapshots and processes up to the latest 10 snapshots, ignoring earlier ones, if you have any.","pos":[22841,22989]},{"content":"These application health check queries are extensive and adversely affect the response time for online users.","pos":[22990,23099]},{"content":"Therefore, by default, these queries are run in a database called the production replica database.","pos":[23100,23198]},{"content":"The accuracy of the application health check queries depends on the relevance of the application data in the production replica database.","pos":[23199,23336]},{"content":"Develop a synchronization strategy to keep your production replica database as close to the production database as possible.","pos":[23337,23461]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>System health check<ept id=\"p1\">**</ept> to create a scheduled task for the application health check snapshot.","pos":[23462,23577],"source":" On the toolbar, click **System health check** to create a scheduled task for the application health check snapshot."},{"content":"Enter the required information in the <bpt id=\"p1\">**</bpt>Scheduled tasks<ept id=\"p1\">**</ept> window, and then click <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept>.","pos":[23578,23668],"source":" Enter the required information in the **Scheduled tasks** window, and then click **Save**."},{"content":"This information is used to provide the application health check measures in the <bpt id=\"p1\">**</bpt>Analysis<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Show system health<ept id=\"p2\">**</ept> command.","pos":[23669,23799],"source":" This information is used to provide the application health check measures in the **Analysis** &gt; **Show system health** command."},{"pos":[23803,23814],"content":"<bpt id=\"p1\">**</bpt>Caution<ept id=\"p1\">**</ept>","source":"**Caution**"},{"content":"It is possible for you to configure the application to run the application health check queries against the production database.","pos":[24467,24595]},{"content":"We recommend that you not run the application health check queries against the production database, because these queries adversely affect the response time of the Microsoft Dynamics AX application.","pos":[24596,24794]},{"pos":[24801,24809],"content":"Metadata","linkify":"Metadata","nodes":[{"content":"Metadata","pos":[0,8]}]},{"content":"This command synchronizes the metadata from the production database with the archive database.","pos":[24810,24904]},{"content":"The metadata synchronization task copies database objects, but not data, from the production database to the archive database.","pos":[24905,25031]},{"content":"You must complete this task successfully before running the master data synchronization process.","pos":[25032,25128]},{"content":"Run the metadata synchronization task during your system maintenance period or at a time when the least amount of activity is occurring on the Microsoft Dynamics AX application.","pos":[25129,25306]},{"content":"The metadata synchronization task can fail while copying objects such as views, functions, and stored procedures.","pos":[25307,25420]},{"content":"This failure may be caused by invalid code in these objects that prevents creation, or by cyclic dependencies.","pos":[25421,25531]},{"content":"A successful task is completed with a <bpt id=\"p1\">**</bpt>Pass<ept id=\"p1\">**</ept> status.","pos":[25532,25586],"source":" A successful task is completed with a **Pass** status."},{"content":"If the task fails to copy database objects such as tables, indexes, and primary keys, the job shows a <bpt id=\"p1\">**</bpt>Fail<ept id=\"p1\">**</ept> status.","pos":[25587,25705],"source":" If the task fails to copy database objects such as tables, indexes, and primary keys, the job shows a **Fail** status."},{"content":"Click the <bpt id=\"p1\">**</bpt>Status<ept id=\"p1\">**</ept> menu, and check the <bpt id=\"p2\">**</bpt>Subtasks<ept id=\"p2\">**</ept> list in the <bpt id=\"p3\">**</bpt>Trace<ept id=\"p3\">**</ept> pane to determine the exact step that caused the error.","pos":[25706,25837],"source":" Click the **Status** menu, and check the **Subtasks** list in the **Trace** pane to determine the exact step that caused the error."},{"content":"IDMF creates trace files for these subtasks in the installation location.","pos":[25838,25911]},{"content":"Each trace file maps to a specific subtask, such as <bpt id=\"p1\">**</bpt>CreateColumn.txt<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>CreateIndex.txt<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>DropTables.txt<ept id=\"p3\">**</ept>.","pos":[25912,26030],"source":" Each trace file maps to a specific subtask, such as **CreateColumn.txt**, **CreateIndex.txt**, and **DropTables.txt**."},{"content":"Review the trace file corresponding to the failed subtask to determine the cause of the error.","pos":[26031,26125]},{"content":"You must troubleshoot and manually resolve the issues that cause the jobs to fail.","pos":[26126,26208]},{"content":"You must complete the metadata synchronization task successfully to use the archive feature.","pos":[26209,26301]},{"content":"Upon successful completion of the first metadata synchronization task, you must maintain the metadata synchronization between the production database and the archive database.","pos":[26302,26477]},{"content":"After the first metadata synchronization task, if there are changes in the production database schema, you must run the metadata synchronization task to keep both the databases synchronized.","pos":[26478,26668]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Metadata<ept id=\"p1\">**</ept> to create a scheduled task for the metadata synchronization.","pos":[26669,26764],"source":" On the toolbar, click **Metadata** to create a scheduled task for the metadata synchronization."},{"content":"Enter the required information in the <bpt id=\"p1\">**</bpt>Scheduled tasks<ept id=\"p1\">**</ept> window, and then click <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept>.","pos":[26765,26855],"source":" Enter the required information in the **Scheduled tasks** window, and then click **Save**."},{"pos":[26860,26871],"content":"Master data","linkify":"Master data","nodes":[{"content":"Master data","pos":[0,11]}]},{"content":"This command synchronizes the master data tables from the production database with the archive database.","pos":[26872,26976]},{"content":"The metadata synchronization task copies all the tables that you configure as master tables on the <bpt id=\"p1\">**</bpt>Administer<ept id=\"p1\">**</ept> menu.","pos":[26977,27096],"source":" The metadata synchronization task copies all the tables that you configure as master tables on the **Administer** menu."},{"content":"You must successfully complete the metadata synchronization task at least one time before you can run the master data synchronization task.","pos":[27097,27236]},{"content":"Whenever the metadata changes in the production database, you must successfully complete the metadata synchronization task before you run the master data synchronization task.","pos":[27237,27412]},{"content":"The master data synchronization task follows these steps to copy master tables:","pos":[27413,27492]},{"content":"Delete all the existing records from each target table.","pos":[27497,27552]},{"content":"Copy the whole source table from the production database to the target database.","pos":[27557,27637]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Master data<ept id=\"p1\">**</ept> to create a scheduled task for the master data synchronization.","pos":[27639,27740],"source":"On the toolbar, click **Master data** to create a scheduled task for the master data synchronization."},{"content":"Enter the required information in the <bpt id=\"p1\">**</bpt>Scheduled tasks<ept id=\"p1\">**</ept> window, and then click <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept>.","pos":[27741,27831],"source":" Enter the required information in the **Scheduled tasks** window, and then click **Save**."},{"pos":[27836,27841],"content":"Purge","linkify":"Purge","nodes":[{"content":"Purge","pos":[0,5]}]},{"content":"This command lets you create a new purge task.","pos":[27842,27888]},{"content":"You must have a Purge Object before you create a purge task.","pos":[27889,27949]},{"content":"At run time, a purge task uses the rules in the Purge Object to filter records.","pos":[27950,28029]},{"content":"The scheduled Purge Object task deletes matching records from all the tables in the relationship tree of the Purge Object.","pos":[28030,28152]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Schedule<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Purge<ept id=\"p2\">**</ept> to open the <bpt id=\"p3\">**</bpt>Scheduled tasks<ept id=\"p3\">**</ept> window.","pos":[28153,28242],"source":" On the toolbar, click **Schedule** &gt; **Purge** to open the **Scheduled tasks** window."},{"content":"When you create a purge task, you work with an additional tab in the <bpt id=\"p1\">**</bpt>Scheduled tasks<ept id=\"p1\">**</ept> window.","pos":[28243,28339],"source":" When you create a purge task, you work with an additional tab in the **Scheduled tasks** window."},{"content":"On the <bpt id=\"p1\">**</bpt>Configure rules for purge<ept id=\"p1\">**</ept> tab, select the Purge Object, and validate or modify values for the rules, in addition to working with the <bpt id=\"p2\">**</bpt>General<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>Schedule<ept id=\"p3\">**</ept> tabs.","pos":[28340,28518],"source":" On the **Configure rules for purge** tab, select the Purge Object, and validate or modify values for the rules, in addition to working with the **General** and **Schedule** tabs."},{"pos":[28523,28530],"content":"Archive","linkify":"Archive","nodes":[{"content":"Archive","pos":[0,7]}]},{"content":"This command lets you create a new archive task.","pos":[28531,28579]},{"content":"You must have an Archive Object before you create an archive task.","pos":[28580,28646]},{"content":"At run time, an archive task uses the rules in the Archive Object to filter records.","pos":[28647,28731]},{"content":"The scheduled Archive Object task archives matching records from all the tables in the relationship tree of the Archive Object.","pos":[28732,28859]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Schedule<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Archive<ept id=\"p2\">**</ept> to open the <bpt id=\"p3\">**</bpt>Scheduled tasks<ept id=\"p3\">**</ept> window.","pos":[28860,28951],"source":" On the toolbar, click **Schedule** &gt; **Archive** to open the **Scheduled tasks** window."},{"content":"When you create an archive task, you work with an additional tab in the <bpt id=\"p1\">**</bpt>Scheduled tasks<ept id=\"p1\">**</ept> window.","pos":[28952,29051],"source":" When you create an archive task, you work with an additional tab in the **Scheduled tasks** window."},{"content":"On the <bpt id=\"p1\">**</bpt>Configure rules for archive<ept id=\"p1\">**</ept> tab, select the Archive Object, and validate or modify values for the rules in the Archive Object, in addition to working with the <bpt id=\"p2\">**</bpt>General<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>Schedule<ept id=\"p3\">**</ept> tabs.","pos":[29052,29256],"source":" On the **Configure rules for archive** tab, select the Archive Object, and validate or modify values for the rules in the Archive Object, in addition to working with the **General** and **Schedule** tabs."},{"pos":[29261,29304],"content":"Restart the failed or canceled archive task","linkify":"Restart the failed or canceled archive task","nodes":[{"content":"Restart the failed or canceled archive task","pos":[0,43]}]},{"content":"IDMF considers an unexpected error condition a failure and cancels the task if the scheduler service is not available.","pos":[29306,29424]},{"content":"Both cases are logged in the error log files.","pos":[29425,29470]},{"content":"An archive task moves selected records from the production database to the archive database.","pos":[29471,29563]},{"content":"IDMF archives each table as a single transaction.","pos":[29564,29613]},{"content":"IDMF also tracks the completion of the archive process for each table.","pos":[29614,29684]},{"content":"For example, you are processing a table called <bpt id=\"p1\">**</bpt>CustTable<ept id=\"p1\">**</ept>.","pos":[29685,29746],"source":" For example, you are processing a table called **CustTable**."},{"content":"If an archive task fails while archiving <bpt id=\"p1\">**</bpt>CustTable<ept id=\"p1\">**</ept>, it rolls back the transaction that was archiving <bpt id=\"p2\">**</bpt>CustTable<ept id=\"p2\">**</ept>.","pos":[29747,29866],"source":" If an archive task fails while archiving **CustTable**, it rolls back the transaction that was archiving **CustTable**."},{"content":"IDMF marks the tables being processed and is aware that the failure occurred during the processing of CustTable.","pos":[29867,29979]},{"content":"When you restart the failed archive task, IDMF starts archiving <bpt id=\"p1\">**</bpt>CustTable<ept id=\"p1\">**</ept> from the beginning and continues with the remaining tables in the Archive Object.","pos":[29980,30139],"source":" When you restart the failed archive task, IDMF starts archiving **CustTable** from the beginning and continues with the remaining tables in the Archive Object."},{"content":"If an archive task fails or is canceled in the first phase, before it starts to copy data, you cannot restart the task.","pos":[30140,30259]},{"content":"In that case, you must create and run a new task to archive data.","pos":[30260,30325]},{"pos":[30331,30373],"content":"Revert the failed or canceled archive task","linkify":"Revert the failed or canceled archive task","nodes":[{"content":"Revert the failed or canceled archive task","pos":[0,42]}]},{"content":"You can roll back a failed or canceled archive task.","pos":[30375,30427]},{"content":"Rolling back the task restores the data that is partially archived.","pos":[30428,30495]},{"content":"As detailed in the previous section, in case of a failure, IDMF rolls back the current table that is being processed.","pos":[30496,30613]},{"content":"However, by default, the previously archived tables are not rolled back.","pos":[30614,30686]},{"content":"For example, an archive task has successfully completed archiving the table <bpt id=\"p1\">**</bpt>WMSOrder<ept id=\"p1\">**</ept>.","pos":[30687,30776],"source":" For example, an archive task has successfully completed archiving the table **WMSOrder**."},{"content":"The task fails during archiving of the <bpt id=\"p1\">**</bpt>WMSOrderTans<ept id=\"p1\">**</ept> table and rolls back the archiving of the <bpt id=\"p2\">**</bpt>WMSOrderTans<ept id=\"p2\">**</ept> table.","pos":[30777,30898],"source":" The task fails during archiving of the **WMSOrderTans** table and rolls back the archiving of the **WMSOrderTans** table."},{"content":"The database is now in a state where records from <bpt id=\"p1\">**</bpt>WMSOrder<ept id=\"p1\">**</ept> have been archived, but the corresponding records from <bpt id=\"p2\">**</bpt>WMSOrderTans<ept id=\"p2\">**</ept> and other related tables in the nested relationship tree have not been archived.","pos":[30899,31114],"source":" The database is now in a state where records from **WMSOrder** have been archived, but the corresponding records from **WMSOrderTans** and other related tables in the nested relationship tree have not been archived."},{"content":"In order to maintain the integrity of the database, you must revert or restart the failed archive task.","pos":[31115,31218]},{"content":"When you revert the failed task, it tries to restore the data it archived from the <bpt id=\"p1\">**</bpt>WMSOrder<ept id=\"p1\">**</ept> table.","pos":[31219,31321],"source":" When you revert the failed task, it tries to restore the data it archived from the **WMSOrder** table."},{"content":"A successful revert brings the database to the state it was in before the archive task started.","pos":[31322,31417]},{"content":"If your archive task failed or was canceled before it started to copy data, there is nothing to revert.","pos":[31418,31521]},{"content":"If you attempt to revert such failed tasks, IDMF displays a message that there is nothing to revert for such tasks.","pos":[31522,31637]},{"content":"If a revert task fails or is canceled, you can restart the failed revert task.","pos":[31638,31716]},{"content":"Monitor the revert task to verify successful completion.","pos":[31717,31773]},{"pos":[31778,31793],"content":"Restore archive","linkify":"Restore archive","nodes":[{"content":"Restore archive","pos":[0,15]}]},{"content":"This command lets you restore archived records from a successful archive task.","pos":[31794,31872]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Restore archive<ept id=\"p1\">**</ept> to create a scheduled task for restoring the archived data.","pos":[31873,31974],"source":" On the toolbar, click **Restore archive** to create a scheduled task for restoring the archived data."},{"content":"Enter the required information in the <bpt id=\"p1\">**</bpt>Scheduled tasks<ept id=\"p1\">**</ept> window, and then click <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept>.","pos":[31975,32065],"source":" Enter the required information in the **Scheduled tasks** window, and then click **Save**."},{"content":"A successful archive task is completed with the <bpt id=\"p1\">**</bpt>Pass<ept id=\"p1\">**</ept> status.","pos":[32066,32130],"source":" A successful archive task is completed with the **Pass** status."},{"content":"Click the <bpt id=\"p1\">**</bpt>Status<ept id=\"p1\">**</ept> menu to work with the <bpt id=\"p2\">**</bpt>Status<ept id=\"p2\">**</ept> workspace.","pos":[32131,32195],"source":" Click the **Status** menu to work with the **Status** workspace."},{"content":"In the <bpt id=\"p1\">**</bpt>Job status<ept id=\"p1\">**</ept> pane, select an archive task with the <bpt id=\"p2\">**</bpt>Pass<ept id=\"p2\">**</ept> status.","pos":[32196,32272],"source":" In the **Job status** pane, select an archive task with the **Pass** status."},{"content":"The <bpt id=\"p1\">**</bpt>Trace<ept id=\"p1\">**</ept> pane in the <bpt id=\"p2\">**</bpt>Status<ept id=\"p2\">**</ept> workspace lists the number of records archived in each table of the Archive Object.","pos":[32273,32393],"source":" The **Trace** pane in the **Status** workspace lists the number of records archived in each table of the Archive Object."},{"pos":[32398,32463],"content":"Walkthrough: Create a restore archive task for the Archive Object","linkify":"Walkthrough: Create a restore archive task for the Archive Object","nodes":[{"content":"Walkthrough: Create a restore archive task for the Archive Object","pos":[0,65]}]},{"content":"This section provides a walkthrough to create a restore archive task.","pos":[32465,32534]},{"content":"Follow these steps to restore the archived records to the production database:","pos":[32535,32613]},{"content":"Click <bpt id=\"p1\">**</bpt>Schedule<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Restore archive<ept id=\"p2\">**</ept> to create a restore archive task.","pos":[32618,32695],"source":"Click **Schedule** &gt; **Restore archive** to create a restore archive task."},{"content":"For this walkthrough, you work in the <bpt id=\"p1\">**</bpt>Task details<ept id=\"p1\">**</ept> pane.","pos":[32696,32756],"source":" For this walkthrough, you work in the **Task details** pane."},{"pos":[32761,32821],"content":"On the <bpt id=\"p1\">**</bpt>General<ept id=\"p1\">**</ept> tab, enter the task name and description.","source":"On the **General** tab, enter the task name and description."},{"content":"On the <bpt id=\"p1\">**</bpt>Configure archive restore<ept id=\"p1\">**</ept> tab, select <bpt id=\"p2\">**</bpt>Other schedules<ept id=\"p2\">**</ept> from the list to filter the data grid based on your selection.","pos":[32826,32957],"source":"On the **Configure archive restore** tab, select **Other schedules** from the list to filter the data grid based on your selection."},{"content":"Selecting <bpt id=\"p1\">**</bpt>Other schedules<ept id=\"p1\">**</ept> filters the data grid to show successfully completed tasks for all other Archive Objects, such as <bpt id=\"p2\">**</bpt>SalesTable<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>BankDeposit<ept id=\"p3\">**</ept>.","pos":[32958,33121],"source":" Selecting **Other schedules** filters the data grid to show successfully completed tasks for all other Archive Objects, such as **SalesTable** and **BankDeposit**."},{"content":"Review the archive tasks shown in the <bpt id=\"p1\">**</bpt>Schedule<ept id=\"p1\">**</ept> column.","pos":[33126,33184],"source":"Review the archive tasks shown in the **Schedule** column."},{"content":"You can select multiple tasks.","pos":[33185,33215]},{"content":"When restoring, you can restore the most recent archive without having to restore an older archive for the same object.","pos":[33216,33335]},{"pos":[33340,33412],"content":"On the <bpt id=\"p1\">**</bpt>Schedule<ept id=\"p1\">**</ept> tab, enter values for the start date and start time.","source":"On the **Schedule** tab, enter values for the start date and start time."},{"pos":[33417,33432],"content":"Click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","source":"Click **Save**."},{"content":"Carefully read the warning that may appear, indicating that you have performed a valuation model change or a standard cost revaluation.","pos":[33437,33572]},{"content":"Restoring the Archive Object after a validation model change or standard cost evaluation may lead to data inconsistencies.","pos":[33573,33695]},{"content":"In the production environment, do not run the restore archive task if you have performed either of these actions.","pos":[33696,33809]},{"content":"For the purpose of this walkthrough, continue the walkthrough in the test environment.","pos":[33810,33896]},{"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to close the message.","pos":[33897,33931],"source":" Click **OK** to close the message."},{"pos":[33936,33986],"content":"On the <bpt id=\"p1\">**</bpt>Schedule<ept id=\"p1\">**</ept> tab, click <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept> to continue.","source":"On the **Schedule** tab, click **OK** to continue."},{"content":"Using the <bpt id=\"p1\">**</bpt>Status<ept id=\"p1\">**</ept> menu, monitor the progress of the restore task, and verify that it has completed successfully with a <bpt id=\"p2\">**</bpt>Pass<ept id=\"p2\">**</ept> status.","pos":[33991,34129],"source":"Using the **Status** menu, monitor the progress of the restore task, and verify that it has completed successfully with a **Pass** status."},{"content":"Compare the information in the <bpt id=\"p1\">**</bpt>Trace<ept id=\"p1\">**</ept> pane from the restore task with the information from the archive task.","pos":[34130,34241],"source":" Compare the information in the **Trace** pane from the restore task with the information from the archive task."},{"content":"Verify that the number of records restored matches the number of records archived for all tables in the archive and restore tasks.","pos":[34242,34372]},{"content":"Test the restored tables in the test environment to verify data and application integrity.","pos":[34377,34467]},{"pos":[34471,34482],"content":"<bpt id=\"p1\">**</bpt>Caution<ept id=\"p1\">**</ept>","source":"**Caution**"},{"content":"Improper use of an Archive Object or a restoration of the archived records can cause unexpected results, database corruption, and application downtime requiring full database and application recovery.","pos":[35171,35371]},{"content":"You must exercise extreme caution and thoroughly test your archival strategy in a test environment before working in the production environment.","pos":[35372,35516]},{"pos":[35524,35575],"content":"Restart the failed or canceled restore archive task","linkify":"Restart the failed or canceled restore archive task","nodes":[{"content":"Restart the failed or canceled restore archive task","pos":[0,51]}]},{"content":"IDMF considers an unexpected error condition a failure and cancels a task when the scheduler service is unavailable.","pos":[35577,35693]},{"content":"Both cases are logged in the error log files.","pos":[35694,35739]},{"content":"A restore archive task restores records from the archive database to the production database, as detailed in the previous section.","pos":[35740,35870]},{"content":"IDMF restores each table as a single transaction.","pos":[35871,35920]},{"content":"IDMF also tracks the completion of the restore process for each table.","pos":[35921,35991]},{"content":"For example, you are restoring a table called <bpt id=\"p1\">**</bpt>CustTable<ept id=\"p1\">**</ept>.","pos":[35992,36052],"source":" For example, you are restoring a table called **CustTable**."},{"content":"If a restore archive task fails while restoring <bpt id=\"p1\">**</bpt>CustTable<ept id=\"p1\">**</ept>, it rolls back the transaction that was restoring <bpt id=\"p2\">**</bpt>CustTable<ept id=\"p2\">**</ept>.","pos":[36053,36179],"source":" If a restore archive task fails while restoring **CustTable**, it rolls back the transaction that was restoring **CustTable**."},{"content":"IDMF marks the tables being processed and is aware that the failure occurred during the restoration of <bpt id=\"p1\">**</bpt>CustTable<ept id=\"p1\">**</ept>.","pos":[36180,36297],"source":" IDMF marks the tables being processed and is aware that the failure occurred during the restoration of **CustTable**."},{"content":"When you restart the failed restore archive task, IDMF starts restoring <bpt id=\"p1\">**</bpt>CustTable<ept id=\"p1\">**</ept> from the beginning and continues with the remaining tables in the Archive Object.","pos":[36298,36465],"source":" When you restart the failed restore archive task, IDMF starts restoring **CustTable** from the beginning and continues with the remaining tables in the Archive Object."},{"content":"If a restore archive task fails or is canceled in the first phase, before it starts to restore data, you cannot restart the task.","pos":[36466,36595]},{"content":"In that case, you must create and run a new task to archive data.","pos":[36596,36661]},{"pos":[36666,36681],"content":"Export to Excel","linkify":"Export to Excel","nodes":[{"content":"Export to Excel","pos":[0,15]}]},{"content":"This command exports the selected task to Microsoft Excel.","pos":[36682,36740]}]}