{"content":"---\n# required metadata\n\ntitle: Retail Server architecture\ndescription: This article describes the architecture of Retail Server. Retail Server provides stateless services and business logic for Retail Modern Point of Sale (POS) and E-Commerce clients.\nauthor: robinr\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-365-retail\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer, IT Pro\n# ms.devlang: \nms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations, Retail, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 31521\nms.assetid: 3a169648-592b-4616-9834-598c0244a852\nms.search.region: Global\n# ms.search.industry: \nms.author: meeram\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update\n\n---\n\n# Retail Server architecture\n\n[!include[banner](../includes/banner.md)]\n\n\nThis article describes the architecture of Retail Server. Retail Server provides stateless services and business logic for Retail Modern Point of Sale (POS) and E-Commerce clients.\n\nRetail Server architecture\n--------------------------\n\nThe commerce runtime is wrapped in a Retail Server layer. Retail Server uses a web API and OData to support thin clients both in the store and online on tablets and phones. The commerce runtime communicates with Retail Headquarters through Commerce Data Exchange services. The following diagram shows the architecture of Retail Server. \n\n[![RetailServer](./media/retailserver.png)](./media/retailserver.png) \n\nRetail Server uses the following concepts.\n\n<table>\n<thead>\n<tr class=\"header\">\n<th>Concept</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>Entity type</td>\n<td>An entity type is an entity that has a life cycle that you want to monitor. Each entity type has a key. An example of an entity type is <strong>Customer</strong>.</td>\n</tr>\n<tr class=\"even\">\n<td>Complex type</td>\n<td>A complex type is an OData concept that is designed to prevent duplication by grouping specific related properties. These related properties can be reused in multiple entities. For example, <strong>Customer</strong> is an entity type that has a customer address. This customer address is a wrapper that contains an address line, city, state, and ZIP/postal code. Therefore, <strong>Customer address</strong> is a complex type that can be reused by other entity types. For example, the <strong>Order</strong> entity type requires the same address information that is associated with the <strong>Customer</strong> entity type and therefore reuses the <strong>Customer address</strong> complex type.</td>\n</tr>\n<tr class=\"odd\">\n<td>Controller</td>\n<td>A controller is a mapping for an entity type that controls create, read, update, and delete (CRUD) behaviors and actions for the entity type. A controller is provided for each commerce entity. You can customize the following controllers:\n<ul>\n<li>Carts</li>\n<li>Catalogs</li>\n<li>Categories</li>\n<li>Commerce</li>\n<li>Commerce Lists</li>\n<li>Composite Key Entity</li>\n<li>Controller Assembly Resolver</li>\n<li>Customers</li>\n<li>Employees</li>\n<li>Non-Bindable Action</li>\n<li>Org Units</li>\n<li>Picking Lists</li>\n<li>Products</li>\n<li>Purchase Orders</li>\n<li>Sales Orders</li>\n<li>Shifts</li>\n<li>Stock Counts Journals</li>\n<li>Transfer Orders</li>\n</ul></td>\n</tr>\n<tr class=\"even\">\n<td>Metadata</td>\n<td>Metadata defines the contract between the client and the server.</td>\n</tr>\n</tbody>\n</table>\n\nYou can create your own entity type or complex type, extend an existing controller, add a new controller, and customize the metadata. If you customize the commerce runtime, you must also customize various components in Retail Server to expose those changes to your Retail Modern POS clients.\n\n\n\n","nodes":[{"pos":[4,798],"embed":true,"restype":"x-metadata","content":"# required metadata\n\ntitle: Retail Server architecture\ndescription: This article describes the architecture of Retail Server. Retail Server provides stateless services and business logic for Retail Modern Point of Sale (POS) and E-Commerce clients.\nauthor: robinr\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-365-retail\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer, IT Pro\n# ms.devlang: \nms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations, Retail, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 31521\nms.assetid: 3a169648-592b-4616-9834-598c0244a852\nms.search.region: Global\n# ms.search.industry: \nms.author: meeram\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update\n","nodes":[{"content":"Retail Server architecture","nodes":[{"pos":[0,26],"content":"Retail Server architecture","nodes":[{"content":"Retail Server architecture","pos":[0,26]}]}],"path":["title"],"extradata":"MT"},{"content":"This article describes the architecture of Retail Server. Retail Server provides stateless services and business logic for Retail Modern Point of Sale (POS) and E-Commerce clients.","nodes":[{"pos":[0,180],"content":"This article describes the architecture of Retail Server. Retail Server provides stateless services and business logic for Retail Modern Point of Sale (POS) and E-Commerce clients.","nodes":[{"content":"This article describes the architecture of Retail Server. Retail Server provides stateless services and business logic for Retail Modern Point of Sale (POS) and E-Commerce clients.","pos":[0,180],"nodes":[{"content":"This article describes the architecture of Retail Server.","pos":[0,57]},{"content":"Retail Server provides stateless services and business logic for Retail Modern Point of Sale (POS) and E-Commerce clients.","pos":[58,180]}]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata\n","yml":true},{"pos":[806,832],"content":"Retail Server architecture","linkify":"Retail Server architecture","nodes":[{"content":"Retail Server architecture","pos":[0,26]}]},{"content":"This article describes the architecture of Retail Server.","pos":[878,935]},{"content":"Retail Server provides stateless services and business logic for Retail Modern Point of Sale (POS) and E-Commerce clients.","pos":[936,1058]},{"pos":[1060,1086],"content":"Retail Server architecture","linkify":"Retail Server architecture","nodes":[{"content":"Retail Server architecture","pos":[0,26]}]},{"content":"The commerce runtime is wrapped in a Retail Server layer.","pos":[1115,1172]},{"content":"Retail Server uses a web API and OData to support thin clients both in the store and online on tablets and phones.","pos":[1173,1287]},{"content":"The commerce runtime communicates with Retail Headquarters through Commerce Data Exchange services.","pos":[1288,1387]},{"content":"The following diagram shows the architecture of Retail Server.","pos":[1388,1450]},{"pos":[1453,1522],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>RetailServer<ept id=\"p1\">](./media/retailserver.png)](./media/retailserver.png)</ept>","source":"[![RetailServer](./media/retailserver.png)](./media/retailserver.png)"},{"content":"Retail Server uses the following concepts.","pos":[1525,1567]},{"content":"Concept","pos":[1609,1616]},{"content":"Description","pos":[1626,1637]},{"content":"Entity type","pos":[1687,1698]},{"content":"An entity type is an entity that has a life cycle that you want to monitor.","pos":[1708,1783]},{"content":"Each entity type has a key.","pos":[1784,1811]},{"content":"An example of an entity type is <bpt id=\"p1\">&lt;strong&gt;</bpt>Customer<ept id=\"p1\">&lt;/strong&gt;</ept>.","pos":[1812,1870],"source":" An example of an entity type is <strong>Customer</strong>."},{"content":"Complex type","pos":[1904,1916]},{"content":"A complex type is an OData concept that is designed to prevent duplication by grouping specific related properties.","pos":[1926,2041]},{"content":"These related properties can be reused in multiple entities.","pos":[2042,2102]},{"content":"For example, <bpt id=\"p1\">&lt;strong&gt;</bpt>Customer<ept id=\"p1\">&lt;/strong&gt;</ept> is an entity type that has a customer address.","pos":[2103,2188],"source":" For example, <strong>Customer</strong> is an entity type that has a customer address."},{"content":"This customer address is a wrapper that contains an address line, city, state, and ZIP/postal code.","pos":[2189,2288]},{"content":"Therefore, <bpt id=\"p1\">&lt;strong&gt;</bpt>Customer address<ept id=\"p1\">&lt;/strong&gt;</ept> is a complex type that can be reused by other entity types.","pos":[2289,2393],"source":" Therefore, <strong>Customer address</strong> is a complex type that can be reused by other entity types."},{"content":"For example, the <bpt id=\"p1\">&lt;strong&gt;</bpt>Order<ept id=\"p1\">&lt;/strong&gt;</ept> entity type requires the same address information that is associated with the <bpt id=\"p2\">&lt;strong&gt;</bpt>Customer<ept id=\"p2\">&lt;/strong&gt;</ept> entity type and therefore reuses the <bpt id=\"p3\">&lt;strong&gt;</bpt>Customer address<ept id=\"p3\">&lt;/strong&gt;</ept> complex type.","pos":[2394,2622],"source":" For example, the <strong>Order</strong> entity type requires the same address information that is associated with the <strong>Customer</strong> entity type and therefore reuses the <strong>Customer address</strong> complex type."},{"content":"Controller","pos":[2655,2665]},{"content":"A controller is a mapping for an entity type that controls create, read, update, and delete (CRUD) behaviors and actions for the entity type.","pos":[2675,2816]},{"content":"A controller is provided for each commerce entity.","pos":[2817,2867]},{"content":"You can customize the following controllers:","pos":[2868,2912],"source":" You can customize the following controllers:\n"},{"content":"Carts","pos":[2922,2927]},{"content":"Catalogs","pos":[2937,2945]},{"content":"Categories","pos":[2955,2965]},{"content":"Commerce","pos":[2975,2983]},{"content":"Commerce Lists","pos":[2993,3007]},{"content":"Composite Key Entity","pos":[3017,3037]},{"content":"Controller Assembly Resolver","pos":[3047,3075]},{"content":"Customers","pos":[3085,3094]},{"content":"Employees","pos":[3104,3113]},{"content":"Non-Bindable Action","pos":[3123,3142]},{"content":"Org Units","pos":[3152,3161]},{"content":"Picking Lists","pos":[3171,3184]},{"content":"Products","pos":[3194,3202]},{"content":"Purchase Orders","pos":[3212,3227]},{"content":"Sales Orders","pos":[3237,3249]},{"content":"Shifts","pos":[3259,3265]},{"content":"Stock Counts Journals","pos":[3275,3296]},{"content":"Transfer Orders","pos":[3306,3321]},{"content":"Metadata","pos":[3366,3374]},{"content":"Metadata defines the contract between the client and the server.","pos":[3384,3448]},{"content":"You can create your own entity type or complex type, extend an existing controller, add a new controller, and customize the metadata.","pos":[3479,3612]},{"content":"If you customize the commerce runtime, you must also customize various components in Retail Server to expose those changes to your Retail Modern POS clients.","pos":[3613,3770]}]}