{"content":"---\n# required metadata\n\ntitle: Retail Store Scale Unit configuration and installation\ndescription: This topic explains how you can use self-service to configure Retail Store Scale Unit in Microsoft Dynamics 365 for Retail headquarters, download it, and install it on one or more computers in a brick-and-mortar store. \n\nauthor: jashanno\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-365-retail\nms.technology: \n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: IT Pro\n# ms.devlang: \nms.reviewer: josaw\nms.search.scope: Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 219744\nms.assetid: 5e28948f-d40a-40e8-843b-8c2747916546\nms.search.region: Global\nms.search.industry: Retail\nms.author: jashanno\nms.search.validFrom: 2016-11-30\nms.dyn365.ops.version: Version 1611\n\n---\n\n# Configure and install Retail Store Scale Unit\n\n[!include[banner](../includes/banner.md)]\n\nThis topic explains how you can use self-service to configure Retail Store Scale Unit in Retail headquarters, download it, and install it on one or more computers in a brick-and-mortar store. Retail Store Scale Unit combines the Retail channel database, Retail Async Client, Retail Server, and Retail Cloud POS components. A Microsoft Dynamics 365 for Retail environment already provides these components. However, you can now configure them so that they work locally in a store, in either a single-computer setup (the default option) or a multiple-computer setup. This topic also explains how to uninstall and troubleshoot Retail Store Scale Unit.\n\n## Before you begin\n> [!IMPORTANT]\n> To help maintain a high level of security across the company, we strongly recommend that you create a new application ID (client ID) and secret for each retail store that is created. This step requires a new Web App.\n\n1. Generate a Microsoft Azure Active Directory (Azure AD) app registration to create an application ID (client ID) and secret. For instructions, see [Create an Azure Active Directory Application](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal#create-an-azure-active-directory-application). This article reviews Azure user permissions and requirements, and explains how to generate an app registration.\n2. After an application ID (client ID) and secret are created for Retail Store Scale Unit, the client ID must be accepted in Retail. Go to **System administration** &gt; **Setup** &gt; **Azure Active Directory applications**. Enter the application ID (client ID) in the **Client ID** column, enter descriptive text in the **Name** column, and enter **RetailServiceAccount** in the **User ID** column.\n\n## Configure a new Retail Store Scale Unit\nTo create a functioning Retail Store Scale Unit, complete the procedures in all sections of this topic through the \"Running the Retail Store Scale Unit installer\" section.\n\n1. Use your Azure AD credentials to sign in to the Retail headquarters or Retail trial.\n2. On the **Welcome** page, use the menu in the upper left to go to **Retail** &gt; **Headquarters setup** &gt; **Retail scheduler** &gt; **Channel database**.\n3. On the **Channel database** page, on the Action Pane, select **New**.\n4. In the **Channel database ID** field, enter a unique value.\n5. In the **Channel data group** field, select the **Default** option.\n\n    > [!NOTE]\n    > You can select any other option that you've already created.\n\n6. In the **Type** field, leave the default value (**Channel database**) selected.\n7. You can leave the **Data sync interval** field blank.\n\n    > [!NOTE]\n    > Alternatively, you can select a value in this field. For example, in the demo data, the value **D60-U15** specifies a 15-minute synchronization interval.\n\n8. On the **Retail channel** FastTab, select **Add**, and then, in the **Channel** field, select the appropriate Retail store channel. Repeat this step to add all the channels that use this database.\n\n    > [!NOTE]\n    > You can also add channels that don't use this database. In this way, you keep the data for those channels in the Retail Store Scale Unit channel database. The Retail store channels that actively use this database can then access that data locally.\n\n9. On the **Store Scale Unit package** FastTab, in the **Name** field, select the appropriate Retail Store Scale Unit package.\n\n    > [!NOTE]\n    > Each environment generates a base Retail Store Scale Unit package. Therefore, this field always contains at least one option.\n\n10. On the Action Pane, select **Save**.\n11. Go to **Retail** &gt; **Channel setup** &gt; **Channel profiles**.\n12. On the Action Pane, select **New**.\n13. In the **Name** field, enter a unique name for the channel profile.\n14. On the Action Pane, select **Save**.\n15. On the **Profile properties** FastTab for the new channel profile, select **Add**.\n16. In the **Property key** field, select **Retail server URL**.\n17. In the **Property value** field, enter the URL of the Retail Server that will be installed for Retail Store Scale Unit.\n\n    > [!NOTE]\n    > The standard format for the URL of an on-premises store installation of Retail Store Scale Unit is **https://&lt;Computer Name&gt;:&lt;Port&gt;/RetailServer/Commerce**. In this format, **&lt;Computer Name&gt;** is either the fully qualified domain name (FQDN) of the computer where Retail Store Scale Unit is installed or, for systems that aren't joined to a domain, the full computer name. **&lt;Port&gt;** is the port number that will be used in the installation. The port number must be a value between 1 and 65535. If you're using the default HTTPS port (443), you don't have to specify the port number.\n\n18. On the **Profile properties** FastTab for the new channel profile, select **Add**.\n19. In the **Property key** field, select **Cloud POS URL**.\n20. In the **Property value** field, enter the URL of the Retail Server that will be installed for Retail Store Scale Unit.\n\n    > [!NOTE]\n    > The standard format for the URL of an on-premises store installation of Retail Store Scale Unit is **https://&lt;Computer Name&gt;:&lt;Port&gt;/POS**. In this format, **&lt;Computer Name&gt;** is either the FQDN of the computer where Retail Store Scale Unit is installed or, for systems that aren't joined to a domain, the full computer name. **&lt;Port&gt;** is the port number that will be used in the installation. The port number must be a value between 1 and 65535. If you're using the default HTTPS port (443), you don't have to specify the port number.\n\n21. On the Action Pane, select **Save**.\n22. Go to **Retail** &gt; **Channels** &gt; **Retail stores** &gt; **All retail stores**.\n23. Select the Retail channel ID for the retail store that will use the new channel database.\n24. On the details page for the selected store, on the Action Pane, select **Edit**.\n25. On the **General** FastTab for the store, in the **Live channel database** field, select the channel database that you created in step 3.\n26. On the Action Pane, select **Save**.\n27. On the **General** FastTab for the store, in the **Channel profile** field, select the channel profile that you created in step 12.\n28. Go to **Retail** &gt; **Headquarters setup** &gt; **Retail scheduler** &gt; **Channel data group**.\n29. Select the **Default** data group, and then, on the Action Pane, select **Full data sync**. In the **Select a distribution schedule** field, select job **9999**, and then select **OK**. In the dialog box that appears, select **OK** to confirm the full synchronization. All the data in the channel database is prepared for download.\n\n### Download the Retail Store Scale Unit installer\n\n1. Use your Azure AD credentials to sign in to the Retail headquarters or Retail trial.\n2. On the **Welcome** page, use the menu in the upper left to go to **Retail** &gt; **Headquarters setup** &gt; **Retail scheduler** &gt; **Channel database**.\n3. In the list of channel databases on the left, select the channel database that you created earlier.\n4. On the Action Pane, select **Download**.\n5. On the drop-down menu, select **Configuration file**.\n\n    > [!NOTE]\n    > To help guarantee that the Retail Store Scale Unit installer correctly uses the configuration file (XML file), you must save the configuration file to the same location as the installer.\n\n6. On the Notification bar that appears at the bottom of the Internet Explorer window, select **Save**. (The Notification bar might appear in a different place in other browsers.)\n\n    > [!NOTE]\n    > Browsers might block the download pop-up that is generated. Select either **Allow once** or **Options for this site** &gt; **Always allow**. Then select **Download** again.\n\n7. On the Action Pane, select **Download**.\n8. On the drop-down menu, select **Retail Store Scale Unit package**.\n9. On the Notification bar that appears at the bottom of the Internet Explorer window, select **Save**. (The Notification bar might appear in a different place in other browsers.)\n\n    > [!NOTE]\n    > The correct installation package is automatically selected for download, based on the Retail Store Scale Unit package on the selected channel database.\n\n10. After the setup installer has been saved, on the Notification bar, select **Run**. (This step might differ, depending on the type of browser.)\n\n### Run the Retail Store Scale Unit installer\n\n> [!NOTE]\n> If you will install and use Retail Cloud POS, you must initialize the configuration the first time that you run the installer, as described in the following procedure. \n\nBefore you run the Retail Store Scale Unit installer, make sure that the following requirements are met:\n\n- The installer requires that the Microsoft .NET Framework version 4.5.1 be installed on the system.\n- The installer installs the Retail Store Scale Unit components only on the following operating systems. Before you install any component, you must update the operating system with all service packs and updates that are available for it.\n\n    - Windows 7 Professional, Enterprise, or Ultimate edition (both x86 and x64 architectures). Home edition and Embedded edition aren’t supported.\n    - Windows 8.1 Update 1 Pro or Enterprise edition (both x86 and x64 architectures). Standard edition isn’t supported.\n    - Windows 10 Pro or Enterprise edition (both x86 and x64 architectures). Home edition isn’t supported.\n    - Microsoft Windows Server 2012 or Microsoft Windows Server 2012 R2.\n\nThe Retail Store Scale Unit installer first extracts the associated files. It then begins the installation.\n\n1. On the first page of the installer, select the components to install. You can install the following components:\n\n    - Retail channel database with Async Client\n    - Retail Server\n    - Retail Cloud POS \n\n    > [!NOTE]\n    > - To install Retail Cloud POS, you must also select and install Retail Server. If you will use only Retail Modern POS in the store, clear the **Retail Cloud POS** check box, and continue with installation as it's described here.\n    > - By default, the installer installs all components on one computer. To install the components across multiple computers, you must complete additional manual steps. For more information, see the \"Multiple-computer installation\" section.\n    \n    After you've selected all the components to install, select **Next** to continue.\n\n2. The installer validates that all prerequisites are met. If a valid version of Microsoft SQL Server isn’t found, the installer downloads and installs Microsoft SQL Server 2014 Express with Service Pack 2. \n\n    > [!NOTE]\n    > - To meet the prerequisites, SQL Server must have Full-text search, and it must support, at a minimum, Transport Layer Security (TLS) 1.2. For Microsoft SQL Server 2012, Service Pack 3 must be installed, at a minimum. For Microsoft SQL Server 2014, Service Pack 2 must be installed. \n    > - If a system restart is required, the installer shows this requirement. Although the restart is recommended, the installer can continue without it.\n\n3. Verify the Application Object Server (AOS) URL, and then select **Next**. (The AOS URL is the URL that is used to access Retail headquarters.) \n\n    > [!NOTE]\n    > The Retail Server URL is automatically entered from the configuration file.\n\n4. Select a valid Secure Sockets Layer (SSL) certificate to use for HTTPS communication. \n\n    > [!NOTE]\n    > The certificate must use private key storage, and server authentication must be listed in the enhanced key usage property. Additionally, the certificate must be trusted locally, and it can’t be expired. It must be stored in the personal certificate store location on the local computer.\n\n5. If a specific user is required, enter the user name and password that the application pool will run under. By default, the installer automatically generates a service account to use. This approach is more secure and is recommended.\n6. On the next page, enter the user account and password for the Retail Server application pool and Async Client. By default, this account is automatically generated. However, you can manually enter the user account and password.\n7. Enter the HTTPS port to use, and verify that the host name of the computer is correct. Select **Next** to continue. \n\n    > [!NOTE]\n    > - The HTTPS port is listed in the Store system profile. To access the Store system profile, on the **Retail store details** page, on the **Store systems** FastTab, select the profile ID of the selected Store system. \n    > - The installer automatically enters the host name. If, for any reason, the host name must be changed for the installation, change it here. The host name must be the FQDN of the system, and it must be entered in the **Host name** field for the selected Store system entry.\n\n8. Enter the application ID (client ID) and secret that are associated with this Retail Store Scale Unit installation. Additionally, verify the channel database ID, which is automatically entered from the configuration file. Then select **Install**. If you will use Retail Cloud POS, make sure that the **Configure Retail Cloud POS** check box at the bottom of this page is selected. This configuration requests Azure AD sign-in and automatically generates all required information in Azure so that Retail Cloud POS can be used on-premises. \n\n    > [!NOTE]\n    > For information about the creation of web applications in Azure, see [Create an Azure Active Directory Application](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal#create-an-azure-active-directory-application). \n    > When you create the Web App, the initial URI and URL don't have to be any specific value. Only the application ID (client ID) and secret that are created are important.\n\n9. After the application ID (client ID) and secret are created for Retail Store Scale Unit, the application ID (client ID) must be accepted in Retail. In Retail, go to **System administration** &gt; **Setup** &gt; **Azure Active Directory applications**. Enter the application ID (client ID) in the **Client ID** column, enter descriptive text in the **Name** column, and enter **RetailServiceAccount** in the **User ID** column.\n10. After the installation is completed, the final health page appears. This page shows whether the installation was successful. It also shows the health of each component, based on basic connection tests, and the location of this topic. If the installation wasn't successful, the page shows the location of the log files.\n11. If Retail Cloud POS is configured for use, a client ID is shown at the end of the installation. You must add this client ID to the **Retail shared parameters** page in Retail.\n\n    1. In Retail, go to **Retail** &gt; **Headquarters setup** &gt; **Parameters** &gt; **Retail shared parameters**.\n    2. Select **Identity providers**.\n    3. On the **Identity providers** FastTab, select the provider that begins with **HTTPS://sts.windows.net/**. The values on the **Relying parties** FastTab are set, based on your selection.\n    4. On the **Relying parties** FastTab, select **+Add**. Enter the client ID that is listed in the Retail Store Scale Unit installer. Set the **Type** field to **Public** and the **UserType** field to **Worker**. Then, on the Action Pane, select **Save**.\n    5. Select the new relying party, and then, on the **Server resource IDs** FastTab, select **+Add**. In the **Server Resource ID** column, enter **https://retailstorescaleunit.retailserver.com**.\n    6. On the Action Pane, select **Save**.\n\n12. In Retail, go to **Retail** &gt; **Headquarters setup** &gt; **Parameters** &gt; **Retail shared parameters**.\n13. Select **Identity providers**.\n14. On the **Identity providers** FastTab, select **+Add**.\n15. In the new **Issuer** row, enter the Retail Server URL of the newly installed Retail Store Scale Unit.  At the end of the URL, add **/auth**.  The URL will resemble **https://MyComputerName/RetailServer/auth**.\n\n    > [!NOTE]\n    > There will be a new identity provider line for each Retail Store Scale Unit that is installed. Each Retail Store Scale Unit will have a URL that resembles this URL.\n\n16. In the **Name** column, enter a description for the store that the URL belongs to.\n17. In the **Type** column, select **Open ID Connect**.\n\n    > [!NOTE]\n    > This new row must be duplicated for every Retail Store Scale Unit installation (that is, for every unique URL).\n\n18. On the Action Pane, select **Save**.\n19. On the **Identity providers** FastTab, select the newly created line. The values on the **Relying parties** FastTab are set, based on your selection.\n20. On the **Relying parties** FastTab, select **+Add**, and add the following two entries:\n\n    - In the **ClientId** column, enter **Cloud POS**. Set the **Type** field to **Public** and the **UserType** field to **Worker**. \n    - In the **ClientId** column, enter **Modern POS**. Set the **Type** field to **Public** and the **UserType** field to **Worker**.\n\n21. On the Action Pane, select **Save**.\n22. When you've finished, return to the installer, and select **Finish**.\n\n\n\n    > [!NOTE]\n    > The final page of the installer includes valuable information that you can use to test and validate that all components work correctly. Keep this page open for as long as you require to complete validation.\n\n> [!NOTE]\n\n> - If the installer doesn't show a check mark for Retail Server, Async Client, or any other component, wait 10 minutes, so that any cached values can be updated in the cloud. Then check again. If the installer still isn't fully successful, run a full synchronization on the new channel database that this installation uses.\n> - If you followed all the steps correctly, your configuration should have these characteristics:\n>     - In Azure, two web applications have been automatically generated through the installer:\n>         - Retail Store Scale Unit Cloud POS\n>         - Retail Store Scale Unit Retail Server for Cloud POS\n>     - In Azure, a web application (that is, an App registration in the new Azure portal) has been manually created for each Retail Store Scale Unit installation (for example, RetailStoreScaleUnitHouston). A key (secret) has been created that can be used in the installer, as described earlier.\n>     - The manually created web application's application ID (client ID) has been added to the **Azure Active Directory applications** page in Retail, as explained in step 9 of the preceding procedure.\n>     - The Retail Cloud POS application ID (client ID) that was shown at the end of the Retail Store Scale Unit installer has been added on the **Identity providers** tab, as explained in step 11 of the preceding procedure.\n\n### Multiple-computer installation\n\n> [!NOTE]\n> Only advanced users should install Retail Store Scale Unit across multiple computers. The following set of procedures explains how to install the Retail channel database and Async Client on one computer, and Retail Server and Retail Cloud POS on a second computer. The instructions assume that both systems are on the same domain, and that users for the services that will be installed have already been created on both systems. It's important that you perform all configuration in Retail headquarters.\n\n#### Installation on the first computer\n\nOn the first computer, run the Retail Store Scale Unit self-service installer as described earlier in this topic, but make the following changes.\n\n1. Select only Retail Channel Database and Async Client as the components to install. Then select **Next** to continue with the installation. \n\n    > [!NOTE]\n    > You can use a generated service account for Async Client, because Async Client won't be accessed outside the computer that it's installed on.\n\n2. Enter the client ID and secret. Keep these details available, so that you can use them again on the second computer.\n3. After a client ID and secret are created for Retail Store Scale Unit, the client ID must be accepted in Retail. Go to **System administration** &gt; **Setup** &gt; **Azure Active Directory applications**. Enter the client ID in the **Client ID** column, enter descriptive text in the **Name** column, and enter **RetailServiceAccount** in the **User ID** column.\n4. When setup is successful, start SQL Server Configuration Manager.\n5. Go to **SQL Server Network Configuration** &gt; **Protocols** for the SQL Server instance.\n6. Right-click, and then select **Properties**.\n7. In the **Flags** section, change the value of **Set Force Encryption** to **Yes**.\n8. In the **Certificate** section, select the SSL certificate on the drop-down menu. This SQL Server SSL certificate is the same certificate that is used in the installer.\n9. Select **OK**.\n10. Go back to **Protocols** in SQL Server Configuration Manager, and enable the following protocols:\n\n    - Named Pipes\n    - TCP/IP\n\n11. Right-click the **TCP/IP** protocol, and then select **Properties**.\n12. In the **IP Address** section, scroll down the list to **IPALL**.\n13. Enter **TCPPort = 1433**.\n14. Select **OK**.\n15. Start Windows Firewall with Advanced Security.\n16. In Windows Firewall, create an inbound rule to open TCP port 1433.\n\n\n> [!NOTE]\n> For detailed information about SQL Server and Windows Firewall, see [Configure a Windows Firewall for Database Engine Access](https://msdn.microsoft.com/en-us/library/ms175043.aspx).\n\n#### Installation on the second computer\n\nOn the second computer, run the Retail Store Scale Unit Self-service installer as described earlier in this topic, but make the following changes.\n\n1. Select only Retail Server and Retail Cloud POS as the components to install. If only Retail Server must to be installed, don't select Retail Cloud POS. Then select **Next** to continue with the installation.\n2. Enter the domain user credentials (user name and password) that have permission to access SQL Server on the first computer. Then select **Next**.\n\n    > [!NOTE]\n    > A generated service account can't be used, because Retail Server requires access to the SQL database on the first computer. You must use a domain account.\n\n3. Enter the same client ID and secret that are used on the first computer.\n\n    > [!IMPORTANT]\n    > It's critical that you add this client ID to Retail as described earlier.\n\n4. Select **Configure Cloud POS**, and then enter Azure AD credentials that have the correct permissions to create Azure Web Apps. \n\n    > [!NOTE]\n    > For more information about Azure Web Apps, how to create them, and how to generate new secrets, see [Use portal to create Active Directory application and service principal that can access resources](https://azure.microsoft.com/en-us/documentation/articles/resource-group-create-service-principal-portal/). Note that the sign-in URL and the App ID URI aren't important.\n\n5. When setup is successful, don't exit the installer. \n\n    > [!NOTE]\n    > At first, the healthcheck ping won't be successful, because the database isn't yet set up correctly. After you've completed the remaining steps of this procedure, you can test the healthcheck again.\n\n6. Go to **IIS**, select the **Retail Store Scale Unit** website, and select the **Retail Server** web application.\n7. Explore the working directory.\n8. Open the Web.config file, and then, in the **connectionStrings** section, add **Server name**. **Server name** is the name of the first computer where you installed components. Save the file.\n9. If the certificate that is used isn't a valid, trusted certificate from a trusted authority, open CERTMGR.MSC, and follow these steps:\n\n    1. Import the SQL Server SSL certificate that you created earlier, and add it to Trusted Root.\n    2. Open a **Command Prompt** window as an administrator, type **IISRESET**, and then press Enter.\n\n10. If Retail Cloud POS is configured for use, a client ID is shown. You must add this client ID to the **Retail shared parameters** page in Retail.\n\n    1. In Retail, go to **Retail** &gt; **Headquarters setup** &gt; **Parameters** &gt; **Retail shared parameters**.\n    2. Select **Identity providers**.\n    3. On the **Identity providers** FastTab, select the provider that begins with **HTTPS://sts.windows.net/**. The values on the **Relying parties** FastTab are set, based on your selection.\n    4. On the **Relying parties** FastTab, select **+Add**. Enter the client ID that is listed in the Retail Store Scale Unit installer. Set the **Type** field to **Public** and the **UserType** field to **Worker**. Then, on the Action Pane, select **Save**.\n    5. Select the new relying party, and then, on the **Server resource IDs** FastTab, select **+Add**. In the **Server Resource ID** column, enter **https://retailstorescaleunit.retailserver.com**.\n    6. On the Action Pane, select **Save**.\n\n11. In Retail, go to **Retail** &gt; **Headquarters setup** &gt; **Retail scheduler** &gt; **Channel database**, and follow these steps:\n\n    1. Select the channel database that you created at the beginning of this topic.\n    2. On the Action Pane, select **Full Sync** &gt; **Job 9999**. Full synchronization might require several minutes.\n    3. In the Retail Store Scale Unit installer, retest to verify that all functionality is working correctly.\n\n12. Start Retail Cloud POS from the computer that you're using for point of sale (POS) operations. (This computer is a third computer that is separate from the Retail Store Scale Unit systems.)\n13. Activate the Retail Cloud POS device that you're using for this computer.\n14. Do a simple sale to verify full end-to-end functionality.\n\n### Help secure Retail Store Scale Unit\n\nAccording to current security standards, the following options should be set in a production environment:\n\n- You should completely disable SSL (v2 and v3) on the computer.\n- You should enable and use only TLS version 1.2 (or the current highest version).\n\n    > [!NOTE]\n    > By default, SSL and all version of TLS except TLS 1.2 are disabled. To edit or enable these settings, follow these steps:\n    > 1. Press the Windows logo key+R to open a **Run** window.\n    > 2. In the **Open** field, enter **Regedit**, and then select **OK**.\n    > 3. In the **User Account Control** window, select **Yes** (if this step is required), and then, in the new **Registry Editor** window, go to **HKEY\\_LOCAL\\_MACHINE\\\\System\\\\CurrentControlSet\\\\SecurityProviders\\\\SCHANNEL\\\\Protocols**.\n    > 4. The following keys have been automatically entered to enabled only TLS 1.2:\n    >     - TLS 1.2\\\\Server:Enabled=1\n    >     - TLS 1.2\\\\Server:DisabledByDefault=0\n    >     - TLS 1.2\\\\Client:Enabled=1\n    >     - TLS 1.2\\\\Client:DisabledByDefault=0\n    >     - TLS 1.1\\\\Server:Enabled=0\n    >     - TLS 1.1\\\\Client:Enabled=0\n    >     - TLS 1.0\\\\Server:Enabled=0\n    >     - TLS 1.0\\\\Client:Enabled=0\n    >     - SSL 3.0\\\\Server:Enabled=0\n    >     - SSL 3.0\\\\Client:Enabled=0\n    >     - SSL 2.0\\\\Server:Enabled=0\n    >     - SSL 2.0\\\\Client:Enabled=0\n\n- No additional network ports should be open, unless they are required for known, specified reasons.\n- You must disable cross-origin resource sharing, and you must specify the allowed origins that are accepted.\n- You should use only trusted certificate authorities to obtain certificates that will be used on Store system computers.\n\n\n> [!IMPORTANT]\n> It's critical that you review security guidelines for Internet Information Services (IIS) and Payment Card Industry (PCI) requirements.\n\n### Troubleshoot Retail Store Scale Unit\n\nThis section will be more thorough in the future. For now, here is a checklist of things to verify.\n\n1. In Retail, on the **Retail shared parameters** page, verify that the correct client ID has been added to the **Relying parties** FastTab. Additionally, verify that the correct **https://retailstorescaleunit.retailserver.com** entry has been added to the **Server resource IDs** FastTab.\n2. In Retail, verify that every client ID that was generated for each retail store exists on the **Azure Active Directory applications** page.\n3. In Retail, on the **Channel profile** page, verify that the URLs are correct. (In other words, verify that the computer name in each URL is correct, the URL is correctly formatted, and so on.)\n4. In Retail, on the **Channel database** page, verify that full synchronization correctly occurred for the new channel database.\n5. Verify that the retail store is correctly configured to use the new channel database.\n\n### Uninstall Retail Store system\n\nUse Control Panel in Microsoft Windows to uninstall Retail Store system.\n\n1. Press the Windows logo key, and then enter **Control Panel** in the search box. In the search results, select **Control Panel**.\n2. In Control Panel, select **Programs** &gt; **Uninstall a program**.\n3. In the **Programs and Features** window, select **Microsoft Dynamics 365 for Retail Store system**, and then, above the list of programs, select **Uninstall**.\n4. Wait for the uninstaller to finish removing the program.\n","nodes":[{"pos":[4,823],"embed":true,"restype":"x-metadata","content":"# required metadata\n\ntitle: Retail Store Scale Unit configuration and installation\ndescription: This topic explains how you can use self-service to configure Retail Store Scale Unit in Microsoft Dynamics 365 for Retail headquarters, download it, and install it on one or more computers in a brick-and-mortar store. \n\nauthor: jashanno\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-365-retail\nms.technology: \n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: IT Pro\n# ms.devlang: \nms.reviewer: josaw\nms.search.scope: Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 219744\nms.assetid: 5e28948f-d40a-40e8-843b-8c2747916546\nms.search.region: Global\nms.search.industry: Retail\nms.author: jashanno\nms.search.validFrom: 2016-11-30\nms.dyn365.ops.version: Version 1611\n","nodes":[{"content":"Retail Store Scale Unit configuration and installation","nodes":[{"pos":[0,54],"content":"Retail Store Scale Unit configuration and installation","nodes":[{"content":"Retail Store Scale Unit configuration and installation","pos":[0,54]}]}],"path":["title"],"extradata":"MT"},{"content":"This topic explains how you can use self-service to configure Retail Store Scale Unit in Microsoft Dynamics 365 for Retail headquarters, download it, and install it on one or more computers in a brick-and-mortar store.","nodes":[{"pos":[0,218],"content":"This topic explains how you can use self-service to configure Retail Store Scale Unit in Microsoft Dynamics 365 for Retail headquarters, download it, and install it on one or more computers in a brick-and-mortar store.","nodes":[{"content":"This topic explains how you can use self-service to configure Retail Store Scale Unit in Microsoft Dynamics 365 for Retail headquarters, download it, and install it on one or more computers in a brick-and-mortar store.","pos":[0,218]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata\n","yml":true},{"pos":[831,876],"content":"Configure and install Retail Store Scale Unit","linkify":"Configure and install Retail Store Scale Unit","nodes":[{"content":"Configure and install Retail Store Scale Unit","pos":[0,45]}]},{"content":"This topic explains how you can use self-service to configure Retail Store Scale Unit in Retail headquarters, download it, and install it on one or more computers in a brick-and-mortar store.","pos":[921,1112]},{"content":"Retail Store Scale Unit combines the Retail channel database, Retail Async Client, Retail Server, and Retail Cloud POS components.","pos":[1113,1243]},{"content":"A Microsoft Dynamics 365 for Retail environment already provides these components.","pos":[1244,1326]},{"content":"However, you can now configure them so that they work locally in a store, in either a single-computer setup (the default option) or a multiple-computer setup.","pos":[1327,1485]},{"content":"This topic also explains how to uninstall and troubleshoot Retail Store Scale Unit.","pos":[1486,1569]},{"pos":[1574,1590],"content":"Before you begin","linkify":"Before you begin","nodes":[{"content":"Before you begin","pos":[0,16]}]},{"pos":[1593,1824],"content":"[!IMPORTANT]\nTo help maintain a high level of security across the company, we strongly recommend that you create a new application ID (client ID) and secret for each retail store that is created. This step requires a new Web App.","leadings":["","> "],"nodes":[{"content":"To help maintain a high level of security across the company, we strongly recommend that you create a new application ID (client ID) and secret for each retail store that is created. This step requires a new Web App.","pos":[13,229],"nodes":[{"content":"To help maintain a high level of security across the company, we strongly recommend that you create a new application ID (client ID) and secret for each retail store that is created.","pos":[0,182]},{"content":"This step requires a new Web App.","pos":[183,216]}]}]},{"content":"Generate a Microsoft Azure Active Directory (Azure AD) app registration to create an application ID (client ID) and secret.","pos":[1829,1952]},{"content":"For instructions, see <bpt id=\"p1\">[</bpt>Create an Azure Active Directory Application<ept id=\"p1\">](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal#create-an-azure-active-directory-application)</ept>.","pos":[1953,2177],"source":" For instructions, see [Create an Azure Active Directory Application](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal#create-an-azure-active-directory-application)."},{"content":"This article reviews Azure user permissions and requirements, and explains how to generate an app registration.","pos":[2178,2289]},{"content":"After an application ID (client ID) and secret are created for Retail Store Scale Unit, the client ID must be accepted in Retail.","pos":[2293,2422]},{"content":"Go to <bpt id=\"p1\">**</bpt>System administration<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Azure Active Directory applications<ept id=\"p3\">**</ept>.","pos":[2423,2515],"source":" Go to **System administration** &gt; **Setup** &gt; **Azure Active Directory applications**."},{"content":"Enter the application ID (client ID) in the <bpt id=\"p1\">**</bpt>Client ID<ept id=\"p1\">**</ept> column, enter descriptive text in the <bpt id=\"p2\">**</bpt>Name<ept id=\"p2\">**</ept> column, and enter <bpt id=\"p3\">**</bpt>RetailServiceAccount<ept id=\"p3\">**</ept> in the <bpt id=\"p4\">**</bpt>User ID<ept id=\"p4\">**</ept> column.","pos":[2516,2690],"source":" Enter the application ID (client ID) in the **Client ID** column, enter descriptive text in the **Name** column, and enter **RetailServiceAccount** in the **User ID** column."},{"pos":[2695,2734],"content":"Configure a new Retail Store Scale Unit","linkify":"Configure a new Retail Store Scale Unit","nodes":[{"content":"Configure a new Retail Store Scale Unit","pos":[0,39]}]},{"content":"To create a functioning Retail Store Scale Unit, complete the procedures in all sections of this topic through the \"Running the Retail Store Scale Unit installer\" section.","pos":[2735,2906]},{"content":"Use your Azure AD credentials to sign in to the Retail headquarters or Retail trial.","pos":[2911,2995]},{"pos":[2999,3155],"content":"On the <bpt id=\"p1\">**</bpt>Welcome<ept id=\"p1\">**</ept> page, use the menu in the upper left to go to <bpt id=\"p2\">**</bpt>Retail<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Headquarters setup<ept id=\"p3\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Retail scheduler<ept id=\"p4\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p5\">**</bpt>Channel database<ept id=\"p5\">**</ept>.","source":"On the **Welcome** page, use the menu in the upper left to go to **Retail** &gt; **Headquarters setup** &gt; **Retail scheduler** &gt; **Channel database**."},{"pos":[3159,3228],"content":"On the <bpt id=\"p1\">**</bpt>Channel database<ept id=\"p1\">**</ept> page, on the Action Pane, select <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept>.","source":"On the **Channel database** page, on the Action Pane, select **New**."},{"pos":[3232,3291],"content":"In the <bpt id=\"p1\">**</bpt>Channel database ID<ept id=\"p1\">**</ept> field, enter a unique value.","source":"In the **Channel database ID** field, enter a unique value."},{"pos":[3295,3362],"content":"In the <bpt id=\"p1\">**</bpt>Channel data group<ept id=\"p1\">**</ept> field, select the <bpt id=\"p2\">**</bpt>Default<ept id=\"p2\">**</ept> option.","source":"In the **Channel data group** field, select the **Default** option."},{"pos":[3370,3444],"content":"[!NOTE]\nYou can select any other option that you've already created.","leadings":["","    > "],"nodes":[{"content":"You can select any other option that you've already created.","pos":[8,68]}]},{"pos":[3449,3528],"content":"In the <bpt id=\"p1\">**</bpt>Type<ept id=\"p1\">**</ept> field, leave the default value (<bpt id=\"p2\">**</bpt>Channel database<ept id=\"p2\">**</ept>) selected.","source":"In the **Type** field, leave the default value (**Channel database**) selected."},{"pos":[3532,3585],"content":"You can leave the <bpt id=\"p1\">**</bpt>Data sync interval<ept id=\"p1\">**</ept> field blank.","source":"You can leave the **Data sync interval** field blank."},{"pos":[3593,3760],"content":"[!NOTE]\nAlternatively, you can select a value in this field. For example, in the demo data, the value **D60-U15** specifies a 15-minute synchronization interval.","leadings":["","    > "],"nodes":[{"content":"Alternatively, you can select a value in this field. For example, in the demo data, the value **D60-U15** specifies a 15-minute synchronization interval.","pos":[8,161],"nodes":[{"content":"Alternatively, you can select a value in this field.","pos":[0,52]},{"content":"For example, in the demo data, the value <bpt id=\"p1\">**</bpt>D60-U15<ept id=\"p1\">**</ept> specifies a 15-minute synchronization interval.","pos":[53,153],"source":" For example, in the demo data, the value **D60-U15** specifies a 15-minute synchronization interval."}]}]},{"content":"On the <bpt id=\"p1\">**</bpt>Retail channel<ept id=\"p1\">**</ept> FastTab, select <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>, and then, in the <bpt id=\"p3\">**</bpt>Channel<ept id=\"p3\">**</ept> field, select the appropriate Retail store channel.","pos":[3765,3896],"source":"On the **Retail channel** FastTab, select **Add**, and then, in the **Channel** field, select the appropriate Retail store channel."},{"content":"Repeat this step to add all the channels that use this database.","pos":[3897,3961]},{"pos":[3969,4230],"content":"[!NOTE]\nYou can also add channels that don't use this database. In this way, you keep the data for those channels in the Retail Store Scale Unit channel database. The Retail store channels that actively use this database can then access that data locally.","leadings":["","    > "],"nodes":[{"content":"You can also add channels that don't use this database. In this way, you keep the data for those channels in the Retail Store Scale Unit channel database. The Retail store channels that actively use this database can then access that data locally.","pos":[8,255],"nodes":[{"content":"You can also add channels that don't use this database.","pos":[0,55]},{"content":"In this way, you keep the data for those channels in the Retail Store Scale Unit channel database.","pos":[56,154]},{"content":"The Retail store channels that actively use this database can then access that data locally.","pos":[155,247]}]}]},{"pos":[4235,4358],"content":"On the <bpt id=\"p1\">**</bpt>Store Scale Unit package<ept id=\"p1\">**</ept> FastTab, in the <bpt id=\"p2\">**</bpt>Name<ept id=\"p2\">**</ept> field, select the appropriate Retail Store Scale Unit package.","source":"On the **Store Scale Unit package** FastTab, in the **Name** field, select the appropriate Retail Store Scale Unit package."},{"pos":[4366,4505],"content":"[!NOTE]\nEach environment generates a base Retail Store Scale Unit package. Therefore, this field always contains at least one option.","leadings":["","    > "],"nodes":[{"content":"Each environment generates a base Retail Store Scale Unit package. Therefore, this field always contains at least one option.","pos":[8,133],"nodes":[{"content":"Each environment generates a base Retail Store Scale Unit package.","pos":[0,66]},{"content":"Therefore, this field always contains at least one option.","pos":[67,125]}]}]},{"pos":[4511,4547],"content":"On the Action Pane, select <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","source":"On the Action Pane, select **Save**."},{"pos":[4552,4618],"content":"Go to <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Channel setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Channel profiles<ept id=\"p3\">**</ept>.","source":"Go to **Retail** &gt; **Channel setup** &gt; **Channel profiles**."},{"pos":[4623,4658],"content":"On the Action Pane, select <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept>.","source":"On the Action Pane, select **New**."},{"pos":[4663,4730],"content":"In the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> field, enter a unique name for the channel profile.","source":"In the **Name** field, enter a unique name for the channel profile."},{"pos":[4735,4771],"content":"On the Action Pane, select <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","source":"On the Action Pane, select **Save**."},{"pos":[4776,4858],"content":"On the <bpt id=\"p1\">**</bpt>Profile properties<ept id=\"p1\">**</ept> FastTab for the new channel profile, select <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>.","source":"On the **Profile properties** FastTab for the new channel profile, select **Add**."},{"pos":[4863,4923],"content":"In the <bpt id=\"p1\">**</bpt>Property key<ept id=\"p1\">**</ept> field, select <bpt id=\"p2\">**</bpt>Retail server URL<ept id=\"p2\">**</ept>.","source":"In the **Property key** field, select **Retail server URL**."},{"pos":[4928,5047],"content":"In the <bpt id=\"p1\">**</bpt>Property value<ept id=\"p1\">**</ept> field, enter the URL of the Retail Server that will be installed for Retail Store Scale Unit.","source":"In the **Property value** field, enter the URL of the Retail Server that will be installed for Retail Store Scale Unit."},{"pos":[5055,5676],"content":"[!NOTE]\nThe standard format for the URL of an on-premises store installation of Retail Store Scale Unit is **https://&lt;Computer Name&gt;:&lt;Port&gt;/RetailServer/Commerce**. In this format, **&lt;Computer Name&gt;** is either the fully qualified domain name (FQDN) of the computer where Retail Store Scale Unit is installed or, for systems that aren't joined to a domain, the full computer name. **&lt;Port&gt;** is the port number that will be used in the installation. The port number must be a value between 1 and 65535. If you're using the default HTTPS port (443), you don't have to specify the port number.","leadings":["","    > "],"nodes":[{"content":"The standard format for the URL of an on-premises store installation of Retail Store Scale Unit is **https://&lt;Computer Name&gt;:&lt;Port&gt;/RetailServer/Commerce**. In this format, **&lt;Computer Name&gt;** is either the fully qualified domain name (FQDN) of the computer where Retail Store Scale Unit is installed or, for systems that aren't joined to a domain, the full computer name. **&lt;Port&gt;** is the port number that will be used in the installation. The port number must be a value between 1 and 65535. If you're using the default HTTPS port (443), you don't have to specify the port number.","pos":[8,615],"nodes":[{"content":"The standard format for the URL of an on-premises store installation of Retail Store Scale Unit is <bpt id=\"p1\">**</bpt>https://<ph id=\"ph1\">&amp;lt;</ph>Computer Name<ph id=\"ph2\">&amp;gt;</ph>:<ph id=\"ph3\">&amp;lt;</ph>Port<ph id=\"ph4\">&amp;gt;</ph>/RetailServer/Commerce<ept id=\"p1\">**</ept>.","pos":[0,168],"source":"The standard format for the URL of an on-premises store installation of Retail Store Scale Unit is **https://&lt;Computer Name&gt;:&lt;Port&gt;/RetailServer/Commerce**."},{"content":"In this format, <bpt id=\"p1\">**</bpt><ph id=\"ph1\">&amp;lt;</ph>Computer Name<ph id=\"ph2\">&amp;gt;</ph><ept id=\"p1\">**</ept> is either the fully qualified domain name (FQDN) of the computer where Retail Store Scale Unit is installed or, for systems that aren't joined to a domain, the full computer name.","pos":[169,390],"source":" In this format, **&lt;Computer Name&gt;** is either the fully qualified domain name (FQDN) of the computer where Retail Store Scale Unit is installed or, for systems that aren't joined to a domain, the full computer name."},{"content":"<bpt id=\"p1\">**</bpt><ph id=\"ph1\">&amp;lt;</ph>Port<ph id=\"ph2\">&amp;gt;</ph><ept id=\"p1\">**</ept> is the port number that will be used in the installation.","pos":[391,465],"source":"**&lt;Port&gt;** is the port number that will be used in the installation."},{"content":"The port number must be a value between 1 and 65535.","pos":[466,518]},{"content":"If you're using the default HTTPS port (443), you don't have to specify the port number.","pos":[519,607]}]}]},{"pos":[5682,5764],"content":"On the <bpt id=\"p1\">**</bpt>Profile properties<ept id=\"p1\">**</ept> FastTab for the new channel profile, select <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>.","source":"On the **Profile properties** FastTab for the new channel profile, select **Add**."},{"pos":[5769,5825],"content":"In the <bpt id=\"p1\">**</bpt>Property key<ept id=\"p1\">**</ept> field, select <bpt id=\"p2\">**</bpt>Cloud POS URL<ept id=\"p2\">**</ept>.","source":"In the **Property key** field, select **Cloud POS URL**."},{"pos":[5830,5949],"content":"In the <bpt id=\"p1\">**</bpt>Property value<ept id=\"p1\">**</ept> field, enter the URL of the Retail Server that will be installed for Retail Store Scale Unit.","source":"In the **Property value** field, enter the URL of the Retail Server that will be installed for Retail Store Scale Unit."},{"pos":[5957,6530],"content":"[!NOTE]\nThe standard format for the URL of an on-premises store installation of Retail Store Scale Unit is **https://&lt;Computer Name&gt;:&lt;Port&gt;/POS**. In this format, **&lt;Computer Name&gt;** is either the FQDN of the computer where Retail Store Scale Unit is installed or, for systems that aren't joined to a domain, the full computer name. **&lt;Port&gt;** is the port number that will be used in the installation. The port number must be a value between 1 and 65535. If you're using the default HTTPS port (443), you don't have to specify the port number.","leadings":["","    > "],"nodes":[{"content":"The standard format for the URL of an on-premises store installation of Retail Store Scale Unit is **https://&lt;Computer Name&gt;:&lt;Port&gt;/POS**. In this format, **&lt;Computer Name&gt;** is either the FQDN of the computer where Retail Store Scale Unit is installed or, for systems that aren't joined to a domain, the full computer name. **&lt;Port&gt;** is the port number that will be used in the installation. The port number must be a value between 1 and 65535. If you're using the default HTTPS port (443), you don't have to specify the port number.","pos":[8,567],"nodes":[{"content":"The standard format for the URL of an on-premises store installation of Retail Store Scale Unit is <bpt id=\"p1\">**</bpt>https://<ph id=\"ph1\">&amp;lt;</ph>Computer Name<ph id=\"ph2\">&amp;gt;</ph>:<ph id=\"ph3\">&amp;lt;</ph>Port<ph id=\"ph4\">&amp;gt;</ph>/POS<ept id=\"p1\">**</ept>.","pos":[0,150],"source":"The standard format for the URL of an on-premises store installation of Retail Store Scale Unit is **https://&lt;Computer Name&gt;:&lt;Port&gt;/POS**."},{"content":"In this format, <bpt id=\"p1\">**</bpt><ph id=\"ph1\">&amp;lt;</ph>Computer Name<ph id=\"ph2\">&amp;gt;</ph><ept id=\"p1\">**</ept> is either the FQDN of the computer where Retail Store Scale Unit is installed or, for systems that aren't joined to a domain, the full computer name.","pos":[151,342],"source":" In this format, **&lt;Computer Name&gt;** is either the FQDN of the computer where Retail Store Scale Unit is installed or, for systems that aren't joined to a domain, the full computer name."},{"content":"<bpt id=\"p1\">**</bpt><ph id=\"ph1\">&amp;lt;</ph>Port<ph id=\"ph2\">&amp;gt;</ph><ept id=\"p1\">**</ept> is the port number that will be used in the installation.","pos":[343,417],"source":"**&lt;Port&gt;** is the port number that will be used in the installation."},{"content":"The port number must be a value between 1 and 65535.","pos":[418,470]},{"content":"If you're using the default HTTPS port (443), you don't have to specify the port number.","pos":[471,559]}]}]},{"pos":[6536,6572],"content":"On the Action Pane, select <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","source":"On the Action Pane, select **Save**."},{"pos":[6577,6662],"content":"Go to <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Channels<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Retail stores<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>All retail stores<ept id=\"p4\">**</ept>.","source":"Go to **Retail** &gt; **Channels** &gt; **Retail stores** &gt; **All retail stores**."},{"content":"Select the Retail channel ID for the retail store that will use the new channel database.","pos":[6667,6756]},{"pos":[6761,6841],"content":"On the details page for the selected store, on the Action Pane, select <bpt id=\"p1\">**</bpt>Edit<ept id=\"p1\">**</ept>.","source":"On the details page for the selected store, on the Action Pane, select **Edit**."},{"pos":[6846,6983],"content":"On the <bpt id=\"p1\">**</bpt>General<ept id=\"p1\">**</ept> FastTab for the store, in the <bpt id=\"p2\">**</bpt>Live channel database<ept id=\"p2\">**</ept> field, select the channel database that you created in step 3.","source":"On the **General** FastTab for the store, in the **Live channel database** field, select the channel database that you created in step 3."},{"pos":[6988,7024],"content":"On the Action Pane, select <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","source":"On the Action Pane, select **Save**."},{"pos":[7029,7160],"content":"On the <bpt id=\"p1\">**</bpt>General<ept id=\"p1\">**</ept> FastTab for the store, in the <bpt id=\"p2\">**</bpt>Channel profile<ept id=\"p2\">**</ept> field, select the channel profile that you created in step 12.","source":"On the **General** FastTab for the store, in the **Channel profile** field, select the channel profile that you created in step 12."},{"pos":[7165,7264],"content":"Go to <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Headquarters setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Retail scheduler<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Channel data group<ept id=\"p4\">**</ept>.","source":"Go to **Retail** &gt; **Headquarters setup** &gt; **Retail scheduler** &gt; **Channel data group**."},{"content":"Select the <bpt id=\"p1\">**</bpt>Default<ept id=\"p1\">**</ept> data group, and then, on the Action Pane, select <bpt id=\"p2\">**</bpt>Full data sync<ept id=\"p2\">**</ept>.","pos":[7269,7360],"source":"Select the **Default** data group, and then, on the Action Pane, select **Full data sync**."},{"content":"In the <bpt id=\"p1\">**</bpt>Select a distribution schedule<ept id=\"p1\">**</ept> field, select job <bpt id=\"p2\">**</bpt>9999<ept id=\"p2\">**</ept>, and then select <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>.","pos":[7361,7454],"source":" In the **Select a distribution schedule** field, select job **9999**, and then select **OK**."},{"content":"In the dialog box that appears, select <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to confirm the full synchronization.","pos":[7455,7537],"source":" In the dialog box that appears, select **OK** to confirm the full synchronization."},{"content":"All the data in the channel database is prepared for download.","pos":[7538,7600]},{"pos":[7606,7652],"content":"Download the Retail Store Scale Unit installer","linkify":"Download the Retail Store Scale Unit installer","nodes":[{"content":"Download the Retail Store Scale Unit installer","pos":[0,46]}]},{"content":"Use your Azure AD credentials to sign in to the Retail headquarters or Retail trial.","pos":[7657,7741]},{"pos":[7745,7901],"content":"On the <bpt id=\"p1\">**</bpt>Welcome<ept id=\"p1\">**</ept> page, use the menu in the upper left to go to <bpt id=\"p2\">**</bpt>Retail<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Headquarters setup<ept id=\"p3\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Retail scheduler<ept id=\"p4\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p5\">**</bpt>Channel database<ept id=\"p5\">**</ept>.","source":"On the **Welcome** page, use the menu in the upper left to go to **Retail** &gt; **Headquarters setup** &gt; **Retail scheduler** &gt; **Channel database**."},{"content":"In the list of channel databases on the left, select the channel database that you created earlier.","pos":[7905,8004]},{"pos":[8008,8048],"content":"On the Action Pane, select <bpt id=\"p1\">**</bpt>Download<ept id=\"p1\">**</ept>.","source":"On the Action Pane, select **Download**."},{"pos":[8052,8105],"content":"On the drop-down menu, select <bpt id=\"p1\">**</bpt>Configuration file<ept id=\"p1\">**</ept>.","source":"On the drop-down menu, select **Configuration file**."},{"pos":[8113,8313],"content":"[!NOTE]\nTo help guarantee that the Retail Store Scale Unit installer correctly uses the configuration file (XML file), you must save the configuration file to the same location as the installer.","leadings":["","    > "],"nodes":[{"content":"To help guarantee that the Retail Store Scale Unit installer correctly uses the configuration file (XML file), you must save the configuration file to the same location as the installer.","pos":[8,194]}]},{"content":"On the Notification bar that appears at the bottom of the Internet Explorer window, select <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","pos":[8318,8418],"source":"On the Notification bar that appears at the bottom of the Internet Explorer window, select **Save**."},{"content":"(The Notification bar might appear in a different place in other browsers.)","pos":[8419,8494]},{"pos":[8502,8688],"content":"[!NOTE]\nBrowsers might block the download pop-up that is generated. Select either **Allow once** or **Options for this site** &gt; **Always allow**. Then select **Download** again.","leadings":["","    > "],"nodes":[{"content":"Browsers might block the download pop-up that is generated. Select either **Allow once** or **Options for this site** &gt; **Always allow**. Then select **Download** again.","pos":[8,180],"nodes":[{"content":"Browsers might block the download pop-up that is generated.","pos":[0,59]},{"content":"Select either <bpt id=\"p1\">**</bpt>Allow once<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>Options for this site<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Always allow<ept id=\"p3\">**</ept>.","pos":[60,140],"source":" Select either **Allow once** or **Options for this site** &gt; **Always allow**."},{"content":"Then select <bpt id=\"p1\">**</bpt>Download<ept id=\"p1\">**</ept> again.","pos":[141,172],"source":" Then select **Download** again."}]}]},{"pos":[8693,8733],"content":"On the Action Pane, select <bpt id=\"p1\">**</bpt>Download<ept id=\"p1\">**</ept>.","source":"On the Action Pane, select **Download**."},{"pos":[8737,8803],"content":"On the drop-down menu, select <bpt id=\"p1\">**</bpt>Retail Store Scale Unit package<ept id=\"p1\">**</ept>.","source":"On the drop-down menu, select **Retail Store Scale Unit package**."},{"content":"On the Notification bar that appears at the bottom of the Internet Explorer window, select <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","pos":[8807,8907],"source":"On the Notification bar that appears at the bottom of the Internet Explorer window, select **Save**."},{"content":"(The Notification bar might appear in a different place in other browsers.)","pos":[8908,8983]},{"pos":[8991,9156],"content":"[!NOTE]\nThe correct installation package is automatically selected for download, based on the Retail Store Scale Unit package on the selected channel database.","leadings":["","    > "],"nodes":[{"content":"The correct installation package is automatically selected for download, based on the Retail Store Scale Unit package on the selected channel database.","pos":[8,159]}]},{"content":"After the setup installer has been saved, on the Notification bar, select <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept>.","pos":[9162,9244],"source":"After the setup installer has been saved, on the Notification bar, select **Run**."},{"content":"(This step might differ, depending on the type of browser.)","pos":[9245,9304]},{"pos":[9310,9351],"content":"Run the Retail Store Scale Unit installer","linkify":"Run the Retail Store Scale Unit installer","nodes":[{"content":"Run the Retail Store Scale Unit installer","pos":[0,41]}]},{"pos":[9355,9532],"content":"[!NOTE]\nIf you will install and use Retail Cloud POS, you must initialize the configuration the first time that you run the installer, as described in the following procedure.","leadings":["","> "],"nodes":[{"content":"If you will install and use Retail Cloud POS, you must initialize the configuration the first time that you run the installer, as described in the following procedure.","pos":[8,175]}]},{"content":"Before you run the Retail Store Scale Unit installer, make sure that the following requirements are met:","pos":[9535,9639]},{"content":"The installer requires that the Microsoft .NET Framework version 4.5.1 be installed on the system.","pos":[9643,9741]},{"content":"The installer installs the Retail Store Scale Unit components only on the following operating systems.","pos":[9744,9846]},{"content":"Before you install any component, you must update the operating system with all service packs and updates that are available for it.","pos":[9847,9979]},{"content":"Windows 7 Professional, Enterprise, or Ultimate edition (both x86 and x64 architectures).","pos":[9987,10076]},{"content":"Home edition and Embedded edition aren’t supported.","pos":[10077,10128]},{"content":"Windows 8.1 Update 1 Pro or Enterprise edition (both x86 and x64 architectures).","pos":[10135,10215]},{"content":"Standard edition isn’t supported.","pos":[10216,10249]},{"content":"Windows 10 Pro or Enterprise edition (both x86 and x64 architectures).","pos":[10256,10326]},{"content":"Home edition isn’t supported.","pos":[10327,10356]},{"content":"Microsoft Windows Server 2012 or Microsoft Windows Server 2012 R2.","pos":[10363,10429]},{"content":"The Retail Store Scale Unit installer first extracts the associated files.","pos":[10431,10505]},{"content":"It then begins the installation.","pos":[10506,10538]},{"content":"On the first page of the installer, select the components to install.","pos":[10543,10612]},{"content":"You can install the following components:","pos":[10613,10654]},{"content":"Retail channel database with Async Client","pos":[10662,10703]},{"content":"Retail Server","pos":[10710,10723]},{"content":"Retail Cloud POS","pos":[10730,10746]},{"content":"To install Retail Cloud POS, you must also select and install Retail Server.","pos":[10771,10847]},{"content":"If you will use only Retail Modern POS in the store, clear the <bpt id=\"p1\">**</bpt>Retail Cloud POS<ept id=\"p1\">**</ept> check box, and continue with installation as it's described here.","pos":[10848,10997],"source":" If you will use only Retail Modern POS in the store, clear the **Retail Cloud POS** check box, and continue with installation as it's described here."},{"content":"By default, the installer installs all components on one computer.","pos":[11006,11072]},{"content":"To install the components across multiple computers, you must complete additional manual steps.","pos":[11073,11168]},{"content":"For more information, see the \"Multiple-computer installation\" section.","pos":[11169,11240]},{"pos":[11250,11331],"content":"After you've selected all the components to install, select <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue.","source":"After you've selected all the components to install, select **Next** to continue."},{"content":"The installer validates that all prerequisites are met.","pos":[11336,11391]},{"content":"If a valid version of Microsoft SQL Server isn’t found, the installer downloads and installs Microsoft SQL Server 2014 Express with Service Pack 2.","pos":[11392,11539]},{"content":"To meet the prerequisites, SQL Server must have Full-text search, and it must support, at a minimum, Transport Layer Security (TLS) 1.2.","pos":[11564,11700]},{"content":"For Microsoft SQL Server 2012, Service Pack 3 must be installed, at a minimum.","pos":[11701,11779]},{"content":"For Microsoft SQL Server 2014, Service Pack 2 must be installed.","pos":[11780,11844]},{"content":"If a system restart is required, the installer shows this requirement.","pos":[11854,11924]},{"content":"Although the restart is recommended, the installer can continue without it.","pos":[11925,12000]},{"content":"Verify the Application Object Server (AOS) URL, and then select <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.","pos":[12005,12078],"source":"Verify the Application Object Server (AOS) URL, and then select **Next**."},{"content":"(The AOS URL is the URL that is used to access Retail headquarters.)","pos":[12079,12147]},{"pos":[12156,12245],"content":"[!NOTE]\nThe Retail Server URL is automatically entered from the configuration file.","leadings":["","    > "],"nodes":[{"content":"The Retail Server URL is automatically entered from the configuration file.","pos":[8,83]}]},{"content":"Select a valid Secure Sockets Layer (SSL) certificate to use for HTTPS communication.","pos":[12250,12335]},{"pos":[12344,12644],"content":"[!NOTE]\nThe certificate must use private key storage, and server authentication must be listed in the enhanced key usage property. Additionally, the certificate must be trusted locally, and it can’t be expired. It must be stored in the personal certificate store location on the local computer.","leadings":["","    > "],"nodes":[{"content":"The certificate must use private key storage, and server authentication must be listed in the enhanced key usage property. Additionally, the certificate must be trusted locally, and it can’t be expired. It must be stored in the personal certificate store location on the local computer.","pos":[8,294],"nodes":[{"content":"The certificate must use private key storage, and server authentication must be listed in the enhanced key usage property.","pos":[0,122]},{"content":"Additionally, the certificate must be trusted locally, and it can’t be expired.","pos":[123,202]},{"content":"It must be stored in the personal certificate store location on the local computer.","pos":[203,286]}]}]},{"content":"If a specific user is required, enter the user name and password that the application pool will run under.","pos":[12649,12755]},{"content":"By default, the installer automatically generates a service account to use.","pos":[12756,12831]},{"content":"This approach is more secure and is recommended.","pos":[12832,12880]},{"content":"On the next page, enter the user account and password for the Retail Server application pool and Async Client.","pos":[12884,12994]},{"content":"By default, this account is automatically generated.","pos":[12995,13047]},{"content":"However, you can manually enter the user account and password.","pos":[13048,13110]},{"content":"Enter the HTTPS port to use, and verify that the host name of the computer is correct.","pos":[13114,13200]},{"content":"Select <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue.","pos":[13201,13229],"source":" Select **Next** to continue."},{"content":"The HTTPS port is listed in the Store system profile.","pos":[13254,13307]},{"content":"To access the Store system profile, on the <bpt id=\"p1\">**</bpt>Retail store details<ept id=\"p1\">**</ept> page, on the <bpt id=\"p2\">**</bpt>Store systems<ept id=\"p2\">**</ept> FastTab, select the profile ID of the selected Store system.","pos":[13308,13467],"source":" To access the Store system profile, on the **Retail store details** page, on the **Store systems** FastTab, select the profile ID of the selected Store system."},{"content":"The installer automatically enters the host name.","pos":[13477,13526]},{"content":"If, for any reason, the host name must be changed for the installation, change it here.","pos":[13527,13614]},{"content":"The host name must be the FQDN of the system, and it must be entered in the <bpt id=\"p1\">**</bpt>Host name<ept id=\"p1\">**</ept> field for the selected Store system entry.","pos":[13615,13747],"source":" The host name must be the FQDN of the system, and it must be entered in the **Host name** field for the selected Store system entry."},{"content":"Enter the application ID (client ID) and secret that are associated with this Retail Store Scale Unit installation.","pos":[13752,13867]},{"content":"Additionally, verify the channel database ID, which is automatically entered from the configuration file.","pos":[13868,13973]},{"content":"Then select <bpt id=\"p1\">**</bpt>Install<ept id=\"p1\">**</ept>.","pos":[13974,13998],"source":" Then select **Install**."},{"content":"If you will use Retail Cloud POS, make sure that the <bpt id=\"p1\">**</bpt>Configure Retail Cloud POS<ept id=\"p1\">**</ept> check box at the bottom of this page is selected.","pos":[13999,14132],"source":" If you will use Retail Cloud POS, make sure that the **Configure Retail Cloud POS** check box at the bottom of this page is selected."},{"content":"This configuration requests Azure AD sign-in and automatically generates all required information in Azure so that Retail Cloud POS can be used on-premises.","pos":[14133,14289]},{"pos":[14298,14759],"content":"[!NOTE]\nFor information about the creation of web applications in Azure, see [Create an Azure Active Directory Application](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal#create-an-azure-active-directory-application). \nWhen you create the Web App, the initial URI and URL don't have to be any specific value. Only the application ID (client ID) and secret that are created are important.","leadings":["","    > ","    > "],"nodes":[{"content":"For information about the creation of web applications in Azure, see [Create an Azure Active Directory Application](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal#create-an-azure-active-directory-application). \nWhen you create the Web App, the initial URI and URL don't have to be any specific value. Only the application ID (client ID) and secret that are created are important.","pos":[8,449],"nodes":[{"content":"For information about the creation of web applications in Azure, see <bpt id=\"p1\">[</bpt>Create an Azure Active Directory Application<ept id=\"p1\">](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal#create-an-azure-active-directory-application)</ept>.","pos":[0,271],"source":"For information about the creation of web applications in Azure, see [Create an Azure Active Directory Application](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal#create-an-azure-active-directory-application)."},{"content":"When you create the Web App, the initial URI and URL don't have to be any specific value.","pos":[272,362],"source":" \nWhen you create the Web App, the initial URI and URL don't have to be any specific value."},{"content":"Only the application ID (client ID) and secret that are created are important.","pos":[363,441]}]}]},{"content":"After the application ID (client ID) and secret are created for Retail Store Scale Unit, the application ID (client ID) must be accepted in Retail.","pos":[14764,14911]},{"content":"In Retail, go to <bpt id=\"p1\">**</bpt>System administration<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Azure Active Directory applications<ept id=\"p3\">**</ept>.","pos":[14912,15015],"source":" In Retail, go to **System administration** &gt; **Setup** &gt; **Azure Active Directory applications**."},{"content":"Enter the application ID (client ID) in the <bpt id=\"p1\">**</bpt>Client ID<ept id=\"p1\">**</ept> column, enter descriptive text in the <bpt id=\"p2\">**</bpt>Name<ept id=\"p2\">**</ept> column, and enter <bpt id=\"p3\">**</bpt>RetailServiceAccount<ept id=\"p3\">**</ept> in the <bpt id=\"p4\">**</bpt>User ID<ept id=\"p4\">**</ept> column.","pos":[15016,15190],"source":" Enter the application ID (client ID) in the **Client ID** column, enter descriptive text in the **Name** column, and enter **RetailServiceAccount** in the **User ID** column."},{"content":"After the installation is completed, the final health page appears.","pos":[15195,15262]},{"content":"This page shows whether the installation was successful.","pos":[15263,15319]},{"content":"It also shows the health of each component, based on basic connection tests, and the location of this topic.","pos":[15320,15428]},{"content":"If the installation wasn't successful, the page shows the location of the log files.","pos":[15429,15513]},{"content":"If Retail Cloud POS is configured for use, a client ID is shown at the end of the installation.","pos":[15518,15613]},{"content":"You must add this client ID to the <bpt id=\"p1\">**</bpt>Retail shared parameters<ept id=\"p1\">**</ept> page in Retail.","pos":[15614,15693],"source":" You must add this client ID to the **Retail shared parameters** page in Retail."},{"pos":[15702,15812],"content":"In Retail, go to <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Headquarters setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Parameters<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Retail shared parameters<ept id=\"p4\">**</ept>.","source":"In Retail, go to **Retail** &gt; **Headquarters setup** &gt; **Parameters** &gt; **Retail shared parameters**."},{"pos":[15820,15850],"content":"Select <bpt id=\"p1\">**</bpt>Identity providers<ept id=\"p1\">**</ept>.","source":"Select **Identity providers**."},{"content":"On the <bpt id=\"p1\">**</bpt>Identity providers<ept id=\"p1\">**</ept> FastTab, select the provider that begins with <bpt id=\"p2\">**</bpt>HTTPS://sts.windows.net/<ept id=\"p2\">**</ept>.","pos":[15858,15963],"source":"On the **Identity providers** FastTab, select the provider that begins with **HTTPS://sts.windows.net/**."},{"content":"The values on the <bpt id=\"p1\">**</bpt>Relying parties<ept id=\"p1\">**</ept> FastTab are set, based on your selection.","pos":[15964,16043],"source":" The values on the **Relying parties** FastTab are set, based on your selection."},{"content":"On the <bpt id=\"p1\">**</bpt>Relying parties<ept id=\"p1\">**</ept> FastTab, select <bpt id=\"p2\">**</bpt>+Add<ept id=\"p2\">**</ept>.","pos":[16051,16103],"source":"On the **Relying parties** FastTab, select **+Add**."},{"content":"Enter the client ID that is listed in the Retail Store Scale Unit installer.","pos":[16104,16180]},{"content":"Set the <bpt id=\"p1\">**</bpt>Type<ept id=\"p1\">**</ept> field to <bpt id=\"p2\">**</bpt>Public<ept id=\"p2\">**</ept> and the <bpt id=\"p3\">**</bpt>UserType<ept id=\"p3\">**</ept> field to <bpt id=\"p4\">**</bpt>Worker<ept id=\"p4\">**</ept>.","pos":[16181,16259],"source":" Set the **Type** field to **Public** and the **UserType** field to **Worker**."},{"content":"Then, on the Action Pane, select <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","pos":[16260,16302],"source":" Then, on the Action Pane, select **Save**."},{"content":"Select the new relying party, and then, on the <bpt id=\"p1\">**</bpt>Server resource IDs<ept id=\"p1\">**</ept> FastTab, select <bpt id=\"p2\">**</bpt>+Add<ept id=\"p2\">**</ept>.","pos":[16310,16406],"source":"Select the new relying party, and then, on the **Server resource IDs** FastTab, select **+Add**."},{"content":"In the <bpt id=\"p1\">**</bpt>Server Resource ID<ept id=\"p1\">**</ept> column, enter <bpt id=\"p2\">**</bpt>https://retailstorescaleunit.retailserver.com<ept id=\"p2\">**</ept>.","pos":[16407,16501],"source":" In the **Server Resource ID** column, enter **https://retailstorescaleunit.retailserver.com**."},{"pos":[16509,16545],"content":"On the Action Pane, select <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","source":"On the Action Pane, select **Save**."},{"pos":[16551,16661],"content":"In Retail, go to <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Headquarters setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Parameters<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Retail shared parameters<ept id=\"p4\">**</ept>.","source":"In Retail, go to **Retail** &gt; **Headquarters setup** &gt; **Parameters** &gt; **Retail shared parameters**."},{"pos":[16666,16696],"content":"Select <bpt id=\"p1\">**</bpt>Identity providers<ept id=\"p1\">**</ept>.","source":"Select **Identity providers**."},{"pos":[16701,16756],"content":"On the <bpt id=\"p1\">**</bpt>Identity providers<ept id=\"p1\">**</ept> FastTab, select <bpt id=\"p2\">**</bpt>+Add<ept id=\"p2\">**</ept>.","source":"On the **Identity providers** FastTab, select **+Add**."},{"content":"In the new <bpt id=\"p1\">**</bpt>Issuer<ept id=\"p1\">**</ept> row, enter the Retail Server URL of the newly installed Retail Store Scale Unit.","pos":[16761,16863],"source":"In the new **Issuer** row, enter the Retail Server URL of the newly installed Retail Store Scale Unit."},{"content":"At the end of the URL, add <bpt id=\"p1\">**</bpt>/auth<ept id=\"p1\">**</ept>.","pos":[16865,16902],"source":"  At the end of the URL, add **/auth**."},{"content":"The URL will resemble <bpt id=\"p1\">**</bpt>https://MyComputerName/RetailServer/auth<ept id=\"p1\">**</ept>.","pos":[16904,16971],"source":"  The URL will resemble **https://MyComputerName/RetailServer/auth**."},{"pos":[16979,17157],"content":"[!NOTE]\nThere will be a new identity provider line for each Retail Store Scale Unit that is installed. Each Retail Store Scale Unit will have a URL that resembles this URL.","leadings":["","    > "],"nodes":[{"content":"There will be a new identity provider line for each Retail Store Scale Unit that is installed. Each Retail Store Scale Unit will have a URL that resembles this URL.","pos":[8,172],"nodes":[{"content":"There will be a new identity provider line for each Retail Store Scale Unit that is installed.","pos":[0,94]},{"content":"Each Retail Store Scale Unit will have a URL that resembles this URL.","pos":[95,164]}]}]},{"pos":[17163,17245],"content":"In the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> column, enter a description for the store that the URL belongs to.","source":"In the **Name** column, enter a description for the store that the URL belongs to."},{"pos":[17250,17301],"content":"In the <bpt id=\"p1\">**</bpt>Type<ept id=\"p1\">**</ept> column, select <bpt id=\"p2\">**</bpt>Open ID Connect<ept id=\"p2\">**</ept>.","source":"In the **Type** column, select **Open ID Connect**."},{"pos":[17309,17434],"content":"[!NOTE]\nThis new row must be duplicated for every Retail Store Scale Unit installation (that is, for every unique URL).","leadings":["","    > "],"nodes":[{"content":"This new row must be duplicated for every Retail Store Scale Unit installation (that is, for every unique URL).","pos":[8,119]}]},{"pos":[17440,17476],"content":"On the Action Pane, select <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","source":"On the Action Pane, select **Save**."},{"content":"On the <bpt id=\"p1\">**</bpt>Identity providers<ept id=\"p1\">**</ept> FastTab, select the newly created line.","pos":[17481,17550],"source":"On the **Identity providers** FastTab, select the newly created line."},{"content":"The values on the <bpt id=\"p1\">**</bpt>Relying parties<ept id=\"p1\">**</ept> FastTab are set, based on your selection.","pos":[17551,17630],"source":" The values on the **Relying parties** FastTab are set, based on your selection."},{"pos":[17635,17722],"content":"On the <bpt id=\"p1\">**</bpt>Relying parties<ept id=\"p1\">**</ept> FastTab, select <bpt id=\"p2\">**</bpt>+Add<ept id=\"p2\">**</ept>, and add the following two entries:","source":"On the **Relying parties** FastTab, select **+Add**, and add the following two entries:"},{"content":"In the <bpt id=\"p1\">**</bpt>ClientId<ept id=\"p1\">**</ept> column, enter <bpt id=\"p2\">**</bpt>Cloud POS<ept id=\"p2\">**</ept>.","pos":[17730,17778],"source":"In the **ClientId** column, enter **Cloud POS**."},{"content":"Set the <bpt id=\"p1\">**</bpt>Type<ept id=\"p1\">**</ept> field to <bpt id=\"p2\">**</bpt>Public<ept id=\"p2\">**</ept> and the <bpt id=\"p3\">**</bpt>UserType<ept id=\"p3\">**</ept> field to <bpt id=\"p4\">**</bpt>Worker<ept id=\"p4\">**</ept>.","pos":[17779,17857],"source":" Set the **Type** field to **Public** and the **UserType** field to **Worker**."},{"content":"In the <bpt id=\"p1\">**</bpt>ClientId<ept id=\"p1\">**</ept> column, enter <bpt id=\"p2\">**</bpt>Modern POS<ept id=\"p2\">**</ept>.","pos":[17865,17914],"source":"In the **ClientId** column, enter **Modern POS**."},{"content":"Set the <bpt id=\"p1\">**</bpt>Type<ept id=\"p1\">**</ept> field to <bpt id=\"p2\">**</bpt>Public<ept id=\"p2\">**</ept> and the <bpt id=\"p3\">**</bpt>UserType<ept id=\"p3\">**</ept> field to <bpt id=\"p4\">**</bpt>Worker<ept id=\"p4\">**</ept>.","pos":[17915,17993],"source":" Set the **Type** field to **Public** and the **UserType** field to **Worker**."},{"pos":[17999,18035],"content":"On the Action Pane, select <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","source":"On the Action Pane, select **Save**."},{"pos":[18040,18109],"content":"When you've finished, return to the installer, and select <bpt id=\"p1\">**</bpt>Finish<ept id=\"p1\">**</ept>.","source":"When you've finished, return to the installer, and select **Finish**."},{"pos":[18119,18339],"content":"[!NOTE]\nThe final page of the installer includes valuable information that you can use to test and validate that all components work correctly. Keep this page open for as long as you require to complete validation.","leadings":["","    > "],"nodes":[{"content":"The final page of the installer includes valuable information that you can use to test and validate that all components work correctly. Keep this page open for as long as you require to complete validation.","pos":[8,214],"nodes":[{"content":"The final page of the installer includes valuable information that you can use to test and validate that all components work correctly.","pos":[0,135]},{"content":"Keep this page open for as long as you require to complete validation.","pos":[136,206]}]}]},{"content":"If the installer doesn't show a check mark for Retail Server, Async Client, or any other component, wait 10 minutes, so that any cached values can be updated in the cloud.","pos":[18356,18527]},{"content":"Then check again.","pos":[18528,18545]},{"content":"If the installer still isn't fully successful, run a full synchronization on the new channel database that this installation uses.","pos":[18546,18676]},{"content":"If you followed all the steps correctly, your configuration should have these characteristics:","pos":[18681,18775]},{"content":"In Azure, two web applications have been automatically generated through the installer:","pos":[18784,18871]},{"content":"Retail Store Scale Unit Cloud POS","pos":[18884,18917]},{"content":"Retail Store Scale Unit Retail Server for Cloud POS","pos":[18930,18981]},{"content":"In Azure, a web application (that is, an App registration in the new Azure portal) has been manually created for each Retail Store Scale Unit installation (for example, RetailStoreScaleUnitHouston).","pos":[18990,19188]},{"content":"A key (secret) has been created that can be used in the installer, as described earlier.","pos":[19189,19277]},{"pos":[19286,19480],"content":"The manually created web application's application ID (client ID) has been added to the <bpt id=\"p1\">**</bpt>Azure Active Directory applications<ept id=\"p1\">**</ept> page in Retail, as explained in step 9 of the preceding procedure.","source":"The manually created web application's application ID (client ID) has been added to the **Azure Active Directory applications** page in Retail, as explained in step 9 of the preceding procedure."},{"pos":[19489,19705],"content":"The Retail Cloud POS application ID (client ID) that was shown at the end of the Retail Store Scale Unit installer has been added on the <bpt id=\"p1\">**</bpt>Identity providers<ept id=\"p1\">**</ept> tab, as explained in step 11 of the preceding procedure.","source":"The Retail Cloud POS application ID (client ID) that was shown at the end of the Retail Store Scale Unit installer has been added on the **Identity providers** tab, as explained in step 11 of the preceding procedure."},{"pos":[19711,19741],"content":"Multiple-computer installation","linkify":"Multiple-computer installation","nodes":[{"content":"Multiple-computer installation","pos":[0,30]}]},{"pos":[19745,20257],"content":"[!NOTE]\nOnly advanced users should install Retail Store Scale Unit across multiple computers. The following set of procedures explains how to install the Retail channel database and Async Client on one computer, and Retail Server and Retail Cloud POS on a second computer. The instructions assume that both systems are on the same domain, and that users for the services that will be installed have already been created on both systems. It's important that you perform all configuration in Retail headquarters.","leadings":["","> "],"nodes":[{"content":"Only advanced users should install Retail Store Scale Unit across multiple computers. The following set of procedures explains how to install the Retail channel database and Async Client on one computer, and Retail Server and Retail Cloud POS on a second computer. The instructions assume that both systems are on the same domain, and that users for the services that will be installed have already been created on both systems. It's important that you perform all configuration in Retail headquarters.","pos":[8,510],"nodes":[{"content":"Only advanced users should install Retail Store Scale Unit across multiple computers.","pos":[0,85]},{"content":"The following set of procedures explains how to install the Retail channel database and Async Client on one computer, and Retail Server and Retail Cloud POS on a second computer.","pos":[86,264]},{"content":"The instructions assume that both systems are on the same domain, and that users for the services that will be installed have already been created on both systems.","pos":[265,428]},{"content":"It's important that you perform all configuration in Retail headquarters.","pos":[429,502]}]}]},{"pos":[20264,20298],"content":"Installation on the first computer","linkify":"Installation on the first computer","nodes":[{"content":"Installation on the first computer","pos":[0,34]}]},{"content":"On the first computer, run the Retail Store Scale Unit self-service installer as described earlier in this topic, but make the following changes.","pos":[20300,20445]},{"content":"Select only Retail Channel Database and Async Client as the components to install.","pos":[20450,20532]},{"content":"Then select <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue with the installation.","pos":[20533,20588],"source":" Then select **Next** to continue with the installation."},{"pos":[20597,20752],"content":"[!NOTE]\nYou can use a generated service account for Async Client, because Async Client won't be accessed outside the computer that it's installed on.","leadings":["","    > "],"nodes":[{"content":"You can use a generated service account for Async Client, because Async Client won't be accessed outside the computer that it's installed on.","pos":[8,149]}]},{"content":"Enter the client ID and secret.","pos":[20757,20788]},{"content":"Keep these details available, so that you can use them again on the second computer.","pos":[20789,20873]},{"content":"After a client ID and secret are created for Retail Store Scale Unit, the client ID must be accepted in Retail.","pos":[20877,20988]},{"content":"Go to <bpt id=\"p1\">**</bpt>System administration<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Azure Active Directory applications<ept id=\"p3\">**</ept>.","pos":[20989,21081],"source":" Go to **System administration** &gt; **Setup** &gt; **Azure Active Directory applications**."},{"content":"Enter the client ID in the <bpt id=\"p1\">**</bpt>Client ID<ept id=\"p1\">**</ept> column, enter descriptive text in the <bpt id=\"p2\">**</bpt>Name<ept id=\"p2\">**</ept> column, and enter <bpt id=\"p3\">**</bpt>RetailServiceAccount<ept id=\"p3\">**</ept> in the <bpt id=\"p4\">**</bpt>User ID<ept id=\"p4\">**</ept> column.","pos":[21082,21239],"source":" Enter the client ID in the **Client ID** column, enter descriptive text in the **Name** column, and enter **RetailServiceAccount** in the **User ID** column."},{"content":"When setup is successful, start SQL Server Configuration Manager.","pos":[21243,21308]},{"pos":[21312,21402],"content":"Go to <bpt id=\"p1\">**</bpt>SQL Server Network Configuration<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Protocols<ept id=\"p2\">**</ept> for the SQL Server instance.","source":"Go to **SQL Server Network Configuration** &gt; **Protocols** for the SQL Server instance."},{"pos":[21406,21450],"content":"Right-click, and then select <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept>.","source":"Right-click, and then select **Properties**."},{"pos":[21454,21536],"content":"In the <bpt id=\"p1\">**</bpt>Flags<ept id=\"p1\">**</ept> section, change the value of <bpt id=\"p2\">**</bpt>Set Force Encryption<ept id=\"p2\">**</ept> to <bpt id=\"p3\">**</bpt>Yes<ept id=\"p3\">**</ept>.","source":"In the **Flags** section, change the value of **Set Force Encryption** to **Yes**."},{"content":"In the <bpt id=\"p1\">**</bpt>Certificate<ept id=\"p1\">**</ept> section, select the SSL certificate on the drop-down menu.","pos":[21540,21621],"source":"In the **Certificate** section, select the SSL certificate on the drop-down menu."},{"content":"This SQL Server SSL certificate is the same certificate that is used in the installer.","pos":[21622,21708]},{"pos":[21712,21726],"content":"Select <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"Select **OK**."},{"pos":[21731,21828],"content":"Go back to <bpt id=\"p1\">**</bpt>Protocols<ept id=\"p1\">**</ept> in SQL Server Configuration Manager, and enable the following protocols:","source":"Go back to **Protocols** in SQL Server Configuration Manager, and enable the following protocols:"},{"content":"Named Pipes","pos":[21836,21847]},{"content":"TCP/IP","pos":[21854,21860]},{"pos":[21866,21934],"content":"Right-click the <bpt id=\"p1\">**</bpt>TCP/IP<ept id=\"p1\">**</ept> protocol, and then select <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>.","source":"Right-click the **TCP/IP** protocol, and then select **Properties**."},{"pos":[21939,22004],"content":"In the <bpt id=\"p1\">**</bpt>IP Address<ept id=\"p1\">**</ept> section, scroll down the list to <bpt id=\"p2\">**</bpt>IPALL<ept id=\"p2\">**</ept>.","source":"In the **IP Address** section, scroll down the list to **IPALL**."},{"pos":[22009,22034],"content":"Enter <bpt id=\"p1\">**</bpt>TCPPort = 1433<ept id=\"p1\">**</ept>.","source":"Enter **TCPPort = 1433**."},{"pos":[22039,22053],"content":"Select <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"Select **OK**."},{"content":"Start Windows Firewall with Advanced Security.","pos":[22058,22104]},{"content":"In Windows Firewall, create an inbound rule to open TCP port 1433.","pos":[22109,22175]},{"pos":[22180,22372],"content":"[!NOTE]\nFor detailed information about SQL Server and Windows Firewall, see [Configure a Windows Firewall for Database Engine Access](https://msdn.microsoft.com/en-us/library/ms175043.aspx).","leadings":["","> "],"nodes":[{"content":"For detailed information about SQL Server and Windows Firewall, see <bpt id=\"p1\">[</bpt>Configure a Windows Firewall for Database Engine Access<ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/ms175043.aspx)</ept>.","pos":[8,190],"source":"For detailed information about SQL Server and Windows Firewall, see [Configure a Windows Firewall for Database Engine Access](https://msdn.microsoft.com/en-us/library/ms175043.aspx)."}]},{"pos":[22379,22414],"content":"Installation on the second computer","linkify":"Installation on the second computer","nodes":[{"content":"Installation on the second computer","pos":[0,35]}]},{"content":"On the second computer, run the Retail Store Scale Unit Self-service installer as described earlier in this topic, but make the following changes.","pos":[22416,22562]},{"content":"Select only Retail Server and Retail Cloud POS as the components to install.","pos":[22567,22643]},{"content":"If only Retail Server must to be installed, don't select Retail Cloud POS.","pos":[22644,22718]},{"content":"Then select <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to continue with the installation.","pos":[22719,22774],"source":" Then select **Next** to continue with the installation."},{"content":"Enter the domain user credentials (user name and password) that have permission to access SQL Server on the first computer.","pos":[22778,22901]},{"content":"Then select <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.","pos":[22902,22923],"source":" Then select **Next**."},{"pos":[22931,23099],"content":"[!NOTE]\nA generated service account can't be used, because Retail Server requires access to the SQL database on the first computer. You must use a domain account.","leadings":["","    > "],"nodes":[{"content":"A generated service account can't be used, because Retail Server requires access to the SQL database on the first computer. You must use a domain account.","pos":[8,162],"nodes":[{"content":"A generated service account can't be used, because Retail Server requires access to the SQL database on the first computer.","pos":[0,123]},{"content":"You must use a domain account.","pos":[124,154]}]}]},{"content":"Enter the same client ID and secret that are used on the first computer.","pos":[23104,23176]},{"pos":[23184,23276],"content":"[!IMPORTANT]\nIt's critical that you add this client ID to Retail as described earlier.","leadings":["","    > "],"nodes":[{"content":"It's critical that you add this client ID to Retail as described earlier.","pos":[13,86]}]},{"pos":[23281,23408],"content":"Select <bpt id=\"p1\">**</bpt>Configure Cloud POS<ept id=\"p1\">**</ept>, and then enter Azure AD credentials that have the correct permissions to create Azure Web Apps.","source":"Select **Configure Cloud POS**, and then enter Azure AD credentials that have the correct permissions to create Azure Web Apps."},{"pos":[23417,23800],"content":"[!NOTE]\nFor more information about Azure Web Apps, how to create them, and how to generate new secrets, see [Use portal to create Active Directory application and service principal that can access resources](https://azure.microsoft.com/en-us/documentation/articles/resource-group-create-service-principal-portal/). Note that the sign-in URL and the App ID URI aren't important.","leadings":["","    > "],"nodes":[{"content":"For more information about Azure Web Apps, how to create them, and how to generate new secrets, see [Use portal to create Active Directory application and service principal that can access resources](https://azure.microsoft.com/en-us/documentation/articles/resource-group-create-service-principal-portal/). Note that the sign-in URL and the App ID URI aren't important.","pos":[8,377],"nodes":[{"content":"For more information about Azure Web Apps, how to create them, and how to generate new secrets, see <bpt id=\"p1\">[</bpt>Use portal to create Active Directory application and service principal that can access resources<ept id=\"p1\">](https://azure.microsoft.com/en-us/documentation/articles/resource-group-create-service-principal-portal/)</ept>.","pos":[0,306],"source":"For more information about Azure Web Apps, how to create them, and how to generate new secrets, see [Use portal to create Active Directory application and service principal that can access resources](https://azure.microsoft.com/en-us/documentation/articles/resource-group-create-service-principal-portal/)."},{"content":"Note that the sign-in URL and the App ID URI aren't important.","pos":[307,369]}]}]},{"content":"When setup is successful, don't exit the installer.","pos":[23805,23856]},{"pos":[23865,24077],"content":"[!NOTE]\nAt first, the healthcheck ping won't be successful, because the database isn't yet set up correctly. After you've completed the remaining steps of this procedure, you can test the healthcheck again.","leadings":["","    > "],"nodes":[{"content":"At first, the healthcheck ping won't be successful, because the database isn't yet set up correctly. After you've completed the remaining steps of this procedure, you can test the healthcheck again.","pos":[8,206],"nodes":[{"content":"At first, the healthcheck ping won't be successful, because the database isn't yet set up correctly.","pos":[0,100]},{"content":"After you've completed the remaining steps of this procedure, you can test the healthcheck again.","pos":[101,198]}]}]},{"pos":[24082,24194],"content":"Go to <bpt id=\"p1\">**</bpt>IIS<ept id=\"p1\">**</ept>, select the <bpt id=\"p2\">**</bpt>Retail Store Scale Unit<ept id=\"p2\">**</ept> website, and select the <bpt id=\"p3\">**</bpt>Retail Server<ept id=\"p3\">**</ept> web application.","source":"Go to **IIS**, select the **Retail Store Scale Unit** website, and select the **Retail Server** web application."},{"content":"Explore the working directory.","pos":[24198,24228]},{"content":"Open the Web.config file, and then, in the <bpt id=\"p1\">**</bpt>connectionStrings<ept id=\"p1\">**</ept> section, add <bpt id=\"p2\">**</bpt>Server name<ept id=\"p2\">**</ept>.","pos":[24232,24326],"source":"Open the Web.config file, and then, in the **connectionStrings** section, add **Server name**."},{"content":"<bpt id=\"p1\">**</bpt>Server name<ept id=\"p1\">**</ept> is the name of the first computer where you installed components.","pos":[24327,24408],"source":"**Server name** is the name of the first computer where you installed components."},{"content":"Save the file.","pos":[24409,24423]},{"content":"If the certificate that is used isn't a valid, trusted certificate from a trusted authority, open CERTMGR.MSC, and follow these steps:","pos":[24427,24561]},{"content":"Import the SQL Server SSL certificate that you created earlier, and add it to Trusted Root.","pos":[24570,24661]},{"pos":[24669,24763],"content":"Open a <bpt id=\"p1\">**</bpt>Command Prompt<ept id=\"p1\">**</ept> window as an administrator, type <bpt id=\"p2\">**</bpt>IISRESET<ept id=\"p2\">**</ept>, and then press Enter.","source":"Open a **Command Prompt** window as an administrator, type **IISRESET**, and then press Enter."},{"content":"If Retail Cloud POS is configured for use, a client ID is shown.","pos":[24769,24833]},{"content":"You must add this client ID to the <bpt id=\"p1\">**</bpt>Retail shared parameters<ept id=\"p1\">**</ept> page in Retail.","pos":[24834,24913],"source":" You must add this client ID to the **Retail shared parameters** page in Retail."},{"pos":[24922,25032],"content":"In Retail, go to <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Headquarters setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Parameters<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Retail shared parameters<ept id=\"p4\">**</ept>.","source":"In Retail, go to **Retail** &gt; **Headquarters setup** &gt; **Parameters** &gt; **Retail shared parameters**."},{"pos":[25040,25070],"content":"Select <bpt id=\"p1\">**</bpt>Identity providers<ept id=\"p1\">**</ept>.","source":"Select **Identity providers**."},{"content":"On the <bpt id=\"p1\">**</bpt>Identity providers<ept id=\"p1\">**</ept> FastTab, select the provider that begins with <bpt id=\"p2\">**</bpt>HTTPS://sts.windows.net/<ept id=\"p2\">**</ept>.","pos":[25078,25183],"source":"On the **Identity providers** FastTab, select the provider that begins with **HTTPS://sts.windows.net/**."},{"content":"The values on the <bpt id=\"p1\">**</bpt>Relying parties<ept id=\"p1\">**</ept> FastTab are set, based on your selection.","pos":[25184,25263],"source":" The values on the **Relying parties** FastTab are set, based on your selection."},{"content":"On the <bpt id=\"p1\">**</bpt>Relying parties<ept id=\"p1\">**</ept> FastTab, select <bpt id=\"p2\">**</bpt>+Add<ept id=\"p2\">**</ept>.","pos":[25271,25323],"source":"On the **Relying parties** FastTab, select **+Add**."},{"content":"Enter the client ID that is listed in the Retail Store Scale Unit installer.","pos":[25324,25400]},{"content":"Set the <bpt id=\"p1\">**</bpt>Type<ept id=\"p1\">**</ept> field to <bpt id=\"p2\">**</bpt>Public<ept id=\"p2\">**</ept> and the <bpt id=\"p3\">**</bpt>UserType<ept id=\"p3\">**</ept> field to <bpt id=\"p4\">**</bpt>Worker<ept id=\"p4\">**</ept>.","pos":[25401,25479],"source":" Set the **Type** field to **Public** and the **UserType** field to **Worker**."},{"content":"Then, on the Action Pane, select <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","pos":[25480,25522],"source":" Then, on the Action Pane, select **Save**."},{"content":"Select the new relying party, and then, on the <bpt id=\"p1\">**</bpt>Server resource IDs<ept id=\"p1\">**</ept> FastTab, select <bpt id=\"p2\">**</bpt>+Add<ept id=\"p2\">**</ept>.","pos":[25530,25626],"source":"Select the new relying party, and then, on the **Server resource IDs** FastTab, select **+Add**."},{"content":"In the <bpt id=\"p1\">**</bpt>Server Resource ID<ept id=\"p1\">**</ept> column, enter <bpt id=\"p2\">**</bpt>https://retailstorescaleunit.retailserver.com<ept id=\"p2\">**</ept>.","pos":[25627,25721],"source":" In the **Server Resource ID** column, enter **https://retailstorescaleunit.retailserver.com**."},{"pos":[25729,25765],"content":"On the Action Pane, select <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","source":"On the Action Pane, select **Save**."},{"pos":[25771,25903],"content":"In Retail, go to <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Headquarters setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Retail scheduler<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Channel database<ept id=\"p4\">**</ept>, and follow these steps:","source":"In Retail, go to **Retail** &gt; **Headquarters setup** &gt; **Retail scheduler** &gt; **Channel database**, and follow these steps:"},{"content":"Select the channel database that you created at the beginning of this topic.","pos":[25912,25988]},{"content":"On the Action Pane, select <bpt id=\"p1\">**</bpt>Full Sync<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Job 9999<ept id=\"p2\">**</ept>.","pos":[25996,26055],"source":"On the Action Pane, select **Full Sync** &gt; **Job 9999**."},{"content":"Full synchronization might require several minutes.","pos":[26056,26107]},{"content":"In the Retail Store Scale Unit installer, retest to verify that all functionality is working correctly.","pos":[26115,26218]},{"content":"Start Retail Cloud POS from the computer that you're using for point of sale (POS) operations.","pos":[26224,26318]},{"content":"(This computer is a third computer that is separate from the Retail Store Scale Unit systems.)","pos":[26319,26413]},{"content":"Activate the Retail Cloud POS device that you're using for this computer.","pos":[26418,26491]},{"content":"Do a simple sale to verify full end-to-end functionality.","pos":[26496,26553]},{"pos":[26559,26594],"content":"Help secure Retail Store Scale Unit","linkify":"Help secure Retail Store Scale Unit","nodes":[{"content":"Help secure Retail Store Scale Unit","pos":[0,35]}]},{"content":"According to current security standards, the following options should be set in a production environment:","pos":[26596,26701]},{"content":"You should completely disable SSL (v2 and v3) on the computer.","pos":[26705,26767]},{"content":"You should enable and use only TLS version 1.2 (or the current highest version).","pos":[26770,26850]},{"pos":[26858,26993],"content":"[!NOTE]\nBy default, SSL and all version of TLS except TLS 1.2 are disabled. To edit or enable these settings, follow these steps:","leadings":["","    > "],"nodes":[{"content":"By default, SSL and all version of TLS except TLS 1.2 are disabled. To edit or enable these settings, follow these steps:","pos":[8,129],"nodes":[{"content":"By default, SSL and all version of TLS except TLS 1.2 are disabled.","pos":[0,67]},{"content":"To edit or enable these settings, follow these steps:","pos":[68,121]}]}]},{"pos":[27003,27057],"content":"Press the Windows logo key+R to open a <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> window.","source":"Press the Windows logo key+R to open a **Run** window."},{"pos":[27067,27132],"content":"In the <bpt id=\"p1\">**</bpt>Open<ept id=\"p1\">**</ept> field, enter <bpt id=\"p2\">**</bpt>Regedit<ept id=\"p2\">**</ept>, and then select <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>.","source":"In the **Open** field, enter **Regedit**, and then select **OK**."},{"pos":[27142,27372],"content":"In the <bpt id=\"p1\">**</bpt>User Account Control<ept id=\"p1\">**</ept> window, select <bpt id=\"p2\">**</bpt>Yes<ept id=\"p2\">**</ept> (if this step is required), and then, in the new <bpt id=\"p3\">**</bpt>Registry Editor<ept id=\"p3\">**</ept> window, go to <bpt id=\"p4\">**</bpt>HKEY<ph id=\"ph1\">\\_</ph>LOCAL<ph id=\"ph2\">\\_</ph>MACHINE<ph id=\"ph3\">\\\\</ph>System<ph id=\"ph4\">\\\\</ph>CurrentControlSet<ph id=\"ph5\">\\\\</ph>SecurityProviders<ph id=\"ph6\">\\\\</ph>SCHANNEL<ph id=\"ph7\">\\\\</ph>Protocols<ept id=\"p4\">**</ept>.","source":"In the **User Account Control** window, select **Yes** (if this step is required), and then, in the new **Registry Editor** window, go to **HKEY\\_LOCAL\\_MACHINE\\\\System\\\\CurrentControlSet\\\\SecurityProviders\\\\SCHANNEL\\\\Protocols**."},{"content":"The following keys have been automatically entered to enabled only TLS 1.2:","pos":[27382,27457]},{"content":"TLS 1.2<ph id=\"ph1\">\\\\</ph>Server:Enabled=1","pos":[27470,27495],"source":"TLS 1.2\\\\Server:Enabled=1"},{"content":"TLS 1.2<ph id=\"ph1\">\\\\</ph>Server:DisabledByDefault=0","pos":[27508,27543],"source":"TLS 1.2\\\\Server:DisabledByDefault=0"},{"content":"TLS 1.2<ph id=\"ph1\">\\\\</ph>Client:Enabled=1","pos":[27556,27581],"source":"TLS 1.2\\\\Client:Enabled=1"},{"content":"TLS 1.2<ph id=\"ph1\">\\\\</ph>Client:DisabledByDefault=0","pos":[27594,27629],"source":"TLS 1.2\\\\Client:DisabledByDefault=0"},{"content":"TLS 1.1<ph id=\"ph1\">\\\\</ph>Server:Enabled=0","pos":[27642,27667],"source":"TLS 1.1\\\\Server:Enabled=0"},{"content":"TLS 1.1<ph id=\"ph1\">\\\\</ph>Client:Enabled=0","pos":[27680,27705],"source":"TLS 1.1\\\\Client:Enabled=0"},{"content":"TLS 1.0<ph id=\"ph1\">\\\\</ph>Server:Enabled=0","pos":[27718,27743],"source":"TLS 1.0\\\\Server:Enabled=0"},{"content":"TLS 1.0<ph id=\"ph1\">\\\\</ph>Client:Enabled=0","pos":[27756,27781],"source":"TLS 1.0\\\\Client:Enabled=0"},{"content":"SSL 3.0<ph id=\"ph1\">\\\\</ph>Server:Enabled=0","pos":[27794,27819],"source":"SSL 3.0\\\\Server:Enabled=0"},{"content":"SSL 3.0<ph id=\"ph1\">\\\\</ph>Client:Enabled=0","pos":[27832,27857],"source":"SSL 3.0\\\\Client:Enabled=0"},{"content":"SSL 2.0<ph id=\"ph1\">\\\\</ph>Server:Enabled=0","pos":[27870,27895],"source":"SSL 2.0\\\\Server:Enabled=0"},{"content":"SSL 2.0<ph id=\"ph1\">\\\\</ph>Client:Enabled=0","pos":[27908,27933],"source":"SSL 2.0\\\\Client:Enabled=0"},{"content":"No additional network ports should be open, unless they are required for known, specified reasons.","pos":[27937,28035]},{"content":"You must disable cross-origin resource sharing, and you must specify the allowed origins that are accepted.","pos":[28038,28145]},{"content":"You should use only trusted certificate authorities to obtain certificates that will be used on Store system computers.","pos":[28148,28267]},{"pos":[28272,28422],"content":"[!IMPORTANT]\nIt's critical that you review security guidelines for Internet Information Services (IIS) and Payment Card Industry (PCI) requirements.","leadings":["","> "],"nodes":[{"content":"It's critical that you review security guidelines for Internet Information Services (IIS) and Payment Card Industry (PCI) requirements.","pos":[13,148]}]},{"pos":[28428,28464],"content":"Troubleshoot Retail Store Scale Unit","linkify":"Troubleshoot Retail Store Scale Unit","nodes":[{"content":"Troubleshoot Retail Store Scale Unit","pos":[0,36]}]},{"content":"This section will be more thorough in the future.","pos":[28466,28515]},{"content":"For now, here is a checklist of things to verify.","pos":[28516,28565]},{"content":"In Retail, on the <bpt id=\"p1\">**</bpt>Retail shared parameters<ept id=\"p1\">**</ept> page, verify that the correct client ID has been added to the <bpt id=\"p2\">**</bpt>Relying parties<ept id=\"p2\">**</ept> FastTab.","pos":[28570,28707],"source":"In Retail, on the **Retail shared parameters** page, verify that the correct client ID has been added to the **Relying parties** FastTab."},{"content":"Additionally, verify that the correct <bpt id=\"p1\">**</bpt>https://retailstorescaleunit.retailserver.com<ept id=\"p1\">**</ept> entry has been added to the <bpt id=\"p2\">**</bpt>Server resource IDs<ept id=\"p2\">**</ept> FastTab.","pos":[28708,28856],"source":" Additionally, verify that the correct **https://retailstorescaleunit.retailserver.com** entry has been added to the **Server resource IDs** FastTab."},{"pos":[28860,28999],"content":"In Retail, verify that every client ID that was generated for each retail store exists on the <bpt id=\"p1\">**</bpt>Azure Active Directory applications<ept id=\"p1\">**</ept> page.","source":"In Retail, verify that every client ID that was generated for each retail store exists on the **Azure Active Directory applications** page."},{"content":"In Retail, on the <bpt id=\"p1\">**</bpt>Channel profile<ept id=\"p1\">**</ept> page, verify that the URLs are correct.","pos":[29003,29080],"source":"In Retail, on the **Channel profile** page, verify that the URLs are correct."},{"content":"(In other words, verify that the computer name in each URL is correct, the URL is correctly formatted, and so on.)","pos":[29081,29195]},{"pos":[29199,29325],"content":"In Retail, on the <bpt id=\"p1\">**</bpt>Channel database<ept id=\"p1\">**</ept> page, verify that full synchronization correctly occurred for the new channel database.","source":"In Retail, on the **Channel database** page, verify that full synchronization correctly occurred for the new channel database."},{"content":"Verify that the retail store is correctly configured to use the new channel database.","pos":[29329,29414]},{"pos":[29420,29449],"content":"Uninstall Retail Store system","linkify":"Uninstall Retail Store system","nodes":[{"content":"Uninstall Retail Store system","pos":[0,29]}]},{"content":"Use Control Panel in Microsoft Windows to uninstall Retail Store system.","pos":[29451,29523]},{"content":"Press the Windows logo key, and then enter <bpt id=\"p1\">**</bpt>Control Panel<ept id=\"p1\">**</ept> in the search box.","pos":[29528,29607],"source":"Press the Windows logo key, and then enter **Control Panel** in the search box."},{"content":"In the search results, select <bpt id=\"p1\">**</bpt>Control Panel<ept id=\"p1\">**</ept>.","pos":[29608,29656],"source":" In the search results, select **Control Panel**."},{"pos":[29660,29727],"content":"In Control Panel, select <bpt id=\"p1\">**</bpt>Programs<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Uninstall a program<ept id=\"p2\">**</ept>.","source":"In Control Panel, select **Programs** &gt; **Uninstall a program**."},{"pos":[29731,29890],"content":"In the <bpt id=\"p1\">**</bpt>Programs and Features<ept id=\"p1\">**</ept> window, select <bpt id=\"p2\">**</bpt>Microsoft Dynamics 365 for Retail Store system<ept id=\"p2\">**</ept>, and then, above the list of programs, select <bpt id=\"p3\">**</bpt>Uninstall<ept id=\"p3\">**</ept>.","source":"In the **Programs and Features** window, select **Microsoft Dynamics 365 for Retail Store system**, and then, above the list of programs, select **Uninstall**."},{"content":"Wait for the uninstaller to finish removing the program.","pos":[29894,29950]}]}