{"content":"---\n# required metadata\n\ntitle: PerfSDK and multiuser testing with Visual Studio Online\ndescription: Take a tour of Performance SDK and multiuser testing with Visual Studio Online and learn how convert a scenario recorded with Task Recorder into a single user test and then a multiuser test.\nauthor: RobinARH\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 9954\nms.assetid: 7b605810-e4da-4eb8-9a26-5389f99befcf\nms.search.region: Global\n# ms.search.industry: \nms.author: chwolf\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# PerfSDK and multiuser testing with Visual Studio Online\n\n[!include[banner](../includes/banner.md)]\n\n\nTake a tour of Performance SDK and multiuser testing with Visual Studio Online and learn how convert a scenario recorded with Task Recorder into a single user test and then a multiuser test.\n\n*Time:* 30 minutes In this lab, you will take a tour of Performance SDK and multi user testing with Visual Studio Online. You will see how to convert a scenario recorded with Task Recorder and convert it to a single user test and then a multi user test. **Note:** This lab requires that you access the environment as an administrator. For more information, refer to the document named [Access Instances](..\\dev-tools\\access-instances.md). **Prerequisites**\n\n-   Visual Studio 2015 Enterprise\n-   Deployment with Volume Data\n-   PerfSDK (look for a folder with that name in the C: or F: drive, depending on your environment)\n\n## Steps to create a single user C\\# test from an XML recording\nA video about how to create a single user test can be found here: [https://mix.office.com/watch/qtdlasy2rcf3](https://mix.office.com/watch/qtdlasy2rcf3)\n\n1.  Create a recording of a scenario that you want to test with Task Recorder.\n2.  Run Visual Studio as Administrator. Build the PerfSDKSample project, which is in the PerfSDK folder. If you have already done this, skip this step.\n3.  Open **Dynamics 365** &gt; **Addins** &gt; **C\\#** perf test generator add-in from Visual Studio. Go to **Dynamics 365 **&gt; **Addins** &gt; **Create C\\# perf test from recording**.\n4.  You should see the following dialog. Fill in the required details and click **Import**.\n\n    [![perf103a](./media/perf103a.png)](./media/perf103a.png)\n    \n5.  You should see generated C\\# test in Generated folder in the project that you’ve selected.\n\n## Steps to run single user performance test with Perf SDK:\n-   Check that testroot environment variable is set to Perf SDK folder. Go to **Control Panel** &gt; **System and Security** &gt; **System** &gt; **Advanced System Settings**. \n\n    [![testroot](./media/testroot.jpg)](./media/testroot.jpg)[](./media/perf103c.png)\n    \n-   Download *selenium-dotnet-strongnamed-2.42.0.zip* and *IEDriverServer\\_Win32\\_2.42.0.zip* from [*http://selenium-release.storage.googleapis.com/index.html?path=2.42/*](http://selenium-release.storage.googleapis.com/index.html?path=2.42/).\n\n<!-- -->\n\n-   Make sure to copy download dll's to the following folder and add a reference to WebDriver.dll to your project\n\n    [![perf103d](./media/perf103d.png)](./media/perf103d.png)\n    \n-   Generate certificate and install it. To generate a certificate file, run the following commands: \n\n    [![generatecert](./media/generatecert.jpg)](./media/generatecert.jpg)\n    \n    When prompted for private key password, select **None.** You should see the following files: \n    \n    [![tempcert](./media/tempcert.jpg)](./media/tempcert.jpg)**Notable pieces:**\n-   -n “CN=TestAuthCert” is giving a human-readable name to the cert, feel free to tweak for your scenario.\n-   -eku 1.3.6.1.5.5.7.3.2 is certificate purpose. This is a client authentication cert, as opposed to code signing, encryption or something else. Next, install \\*.pfx file (make sure to select Local Machine when you install it)  and copy this certificate file to PerfSDK folder.\n\nOpen powershell window as Administator and run the following command to get a thumbprint of installed certificate: \n\n[![get-thumbprint](./media/get-thumbprint.jpg)](./media/get-thumbprint.jpg)\n\nPut this thumbprint value in **CloudEnvironment.Config** file: \n\n[![config-thumbprint](./media/config-thumbprint.jpg)](./media/config-thumbprint.jpg) \n\nThe next step is to update **wif.config** to make AOS trust this certificate. To do that, open IIS and find Microsoft Dynamics 365 for Finance and Operations, Enterprise edition in the list of sites. Click **Explore** to open and find a file **wif.config**. \n\n[![wifconfig](./media/wifconfig.jpg)](./media/wifconfig.jpg) \n\nUpdate this file by putting your certificate and authority name: \n\n[![wif-updated](./media/wif-updated.jpg)](./media/wif-updated.jpg) \n\nAnd restart IIS. Open Sample project in Visual Studio and edit the file PurchaseReq.cs, which is a sample single user test. Comment the following lines in this file: \n\n[![perf103e](./media/perf103e.png)](./media/perf103e.png) \n\nModify your CloudEnvironment.Config file by entering your admin username. The following code is a example. **Note:** The ConfigName must be DEVFABRIC. \n\n[![perf103f](./media/perf103f.png)](./media/perf103f.png) \n\nEnter your endpoint in CloudEnvironment.Config. **Note**: If you have an ARR-enabled environment, i.e. you have 2 endpoints like this:\n\n-   apr-arr8aos**soap**.axcloud.test.dynamics.com\n-   apr-arr8aos.axcloud.test.dynamics.com\n\nYou would need to enter both endpoints in CloudEnvironment.Config: \n\n[![perf103upd](./media/perf103upd.png)](./media/perf103upd.png) \n\nGo to **Test** &gt; **Test settings** &gt; **Default processor architecture** and set it to x64. Build the solution. Go to **Test** &gt; **Windows** &gt; **Test Explorer** **Note:** Sometimes Visual Studio may not update the list of tests. In this case, restart Visual Studio and re-open the test Explorer. **Note:** Your newly created test will be named TestMethod. If you change the method name of TestMethod your test will get an individual name. Now you can run the test. You should see Internet Explorer starting and replaying the scenario that you've recorded.\n\n## Steps to create a multiuser test from a singleuser test\nTo convert a single-user test generated in the previous section to multi-user test, add MS.Dynamics.TestTools.UIHelpers.Core; to your test script and replace the following line in TestSetup method.\n\n    Client = DispatchedClient.DefaultInstance;\n    With\n    DispatchedClientHelper helper = new DispatchedClientHelper();\n    Client = helper.GetClient();\n\nMake sure the values that you have entered during task recording are randomized. You may need to use the Data Expansion Tool first to generate test data.\n\n## Setup Visual Studio Online for multiuser testing\nFor this example ProcureToPay.cs will be used. You need to go to log in to [Visual Studio Online portal](https://app.vssps.visualstudio.com/profile/view) and launch Visual Studio from there. Note: you need to do this only once. Once you have logged in in VSO, those settings are saved. \n\n[![vsonline-5](./media/vsonline-5-1024x323.jpg)](./media/vsonline-5.jpg) \n\nOpen PerfSDK sample project. Make sure to update UserFormat entry in CloudEnvironment.Config file to reflect admin user url. Example: for [admin@example.com]() use [TST\\_{0}@example.com]() as user format. Also make sure to change the UserCount to the amount of users you want to have in your performance test. \n\n[![vsonline-12](./media/vsonline-12.jpg)](./media/vsonline-12.jpg) \n\nRun this command in PerfSDK folder: **MS.Dynamics.Performance.CreateUsers.exe** to create test users for your environment. You may create as many users as you want to, for this example 150 is used. *Example: **MS.Dynamics.Performance.CreateUsers.exe 150 USMF** will create 150 test users for company USMF.* Make sure that users were created in the system. Login to your endpoint as admin user and check.\n\n### Testing sandbox\n\nThis step assumes you have a developer topology. Please follow the instructions from previous paragraph. There is one additional step you need to do in order to establish trust between your developer topology and/or Visual Studio Online test agent to communicate to sandbox machines: You would need to remote desktop to your AOS machine, copy over .cer file, install it by double-clicking on the file. When prompted for certificate store select **Personal:**\n\n[![personalstore](./media/personalstore.jpg)](./media/personalstore.jpg) \n\nAnd update file **wif.config**. To update file **wif.config**, open IIS, find AOSService among websites and click Explore \n\n[![vsonline-23](./media/vsonline-231.jpg)](./media/vsonline-231.jpg) \n\nThis action would open Explorer, you should be able to find **wif.config** in the opened folder. Update this file by putting certificate thumbprint and CN values (use the values from certificate you've generated on previous steps): \n\n[![wif-updated](./media/wif-updated.jpg)](./media/wif-updated.jpg) \n\nAnd restart IIS. Now you can run performance tests against this topology. **Note:** if your topology has multiple AOS machines, you need to install certificate and update wif.config on each of those machines.\n\n## Run performance test\nOpen ProcureToPay.cs in Visual Studio editor and append the following lines in TestSetup method:\n\n    var testroot = System.Environment.GetEnvironmentVariable(\"DeploymentDir\"); \n    if (string.IsNullOrEmpty(testroot)) \n    {\n        testroot = System.IO.Directory.GetCurrentDirectory(); \n    } \n    Environment.SetEnvironmentVariable(\"testroot\", testroot);\n\nDouble click on file vsonline.testsettings in your solution files, use the following settings (your PerfSDK folder may be different): \n\n[![vsonline-29](./media/vsonline-29.jpg)](./media/vsonline-29.jpg) \n\nIn **Setup and Cleanup Scripts** select setup.cmd located in %testroot%Visual Studio Onlinesetup.cmd. **Notable pieces:** you may need to update your deployment configuration to reflect your certificate name (for this demo **CsuClient.pfx **is used) and password. Make sure add \\*.pfx file you've generated previously and update the following files:\n\n-   **setup.cmd** with %DeploymentDirectory%CloudCtuFakeACSInstall.cmd %DeploymentDirectory%**YourCertificate.pfx**\n-   **CloudCtuFakeACSInstall.cmd** with the password of your cert (that should be an empty string)\n\nIn **Additional Settings** select **Run tests in 64 bit process on 64 bit machine.** To run the test, open the **SampleLoadTest.loadtest** file and select **Run Load Test**. \n\n[![perf103u](./media/perf103u.png)](./media/perf103u.png) \n\nWhen the test finishes, you should see a summary with transaction results. \n\n[![perf103v](./media/perf103v.png)](./media/perf103v.png) \n\nYou can switch to **Graphs view** to view different indicators for the test controller and test scenario. **Note:** Information about your System under Test is not available in this view. To access this information you would have to use LCS to monitor your AOS CPU and memory usage, or set up perfmon directly on the AOS and set up the SQL/Windows Azure portal to monitor SQL DTU usage. \n\n[![perf103w](./media/perf103w.png)](./media/perf103w.png)\n\n## Troubleshooting\n\n### System.TypeInitializationException\nIf you see an error message like this: \n\n\n    System.TypeInitializationException: System.TypeInitializationException: The type initializer for\n    'MS.Dynamics.TestTools.CloudCommonTestUtilities.Authentication.UserManagement' threw an exception. --->\n    System.ServiceModel.CommunicationException: An error occurred while making the HTTP request to\n    https://sandbox.ax.dynamics.com/Services/AxUserManagement/Service.svc/ws2007FedHttp. This could be due to the fact \n    that the server certificate is not configured properly with HTTP.SYS in the HTTPS case. This could also be caused \n    by a mismatch of the security binding between the client and the server.** ---> System.Net.WebException: \n    The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: \n    Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> \n    System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host. \n\n\n### Solution\nYou would need to run the following powershell script on your **development machine**:\n\n    Set-ItemProperty HKLM:SOFTWAREMicrosoft.NETFrameworkv4.0.30319 -Name SchUseStrongCrypto -Value 1 -Type dword -Force -Confirm:$false\n    if ((Test-Path HKLM:SOFTWAREWow6432NodeMicrosoft.NETFrameworkv4.0.30319)) \n    { \n        Set-ItemProperty HKLM:SOFTWAREWow6432NodeMicrosoft.NETFrameworkv4.0.30319 -Name SchUseStrongCrypto -Value 1 -Type dword -Force -Confirm:$false \n    }\n\n## Certificate thumbprint errors\n\n### Error example\n\n    Result StackTrace:          \n\n    at MS.Dynamics.TestTools.CloudCommonTestUtilities.Authentication.SelfMintedTokenAuthenticator.MintToken(String email, \n    String nameId, String identityProvider, String audience, String certThumbprint)\n    at MS.Dynamics.TestTools.CloudCommonTestUtilities.Authentication.SelfMintedTokenAuthenticator.SignIn()\n    at MS.Dynamics.TestTools.CloudCommonTestUtilities.Authentication.UserManagement.get_Service()\n    at MS.Dynamics.TestTools.CloudCommonTestUtilities.Authentication.UserManagement.PopulateAxUsers()\n    at MS.Dynamics.TestTools.CloudCommonTestUtilities.Authentication.UserManagement..cctor()\n    --- End of inner exception stack trace ---\n    at MS.Dynamics.TestTools.CloudCommonTestUtilities.Authentication.UserManagement.get_AdminUser()\n        at MS.Dynamics.Performance.Application.TaskRecorder.TestRecord1Base.TestSetup() in \n            J:PerfSDKPerfSDKLocalDirectorySampleProjectPerfSDKSampleGeneratedTestRecord1Base.cs:line 45\n    Result Message:             \n\n    Initialization method MS.Dynamics.Performance.Application.TaskRecorder.TestRecord1Base.TestSetup threw exception. \n    System.TypeInitializationException: System.TypeInitializationException: The type initializer for \n    'MS.Dynamics.TestTools.CloudCommonTestUtilities.Authentication.UserManagement' threw an exception. --> \n    MS.Dynamics.TestTools.CloudCommonTestUtilities.Exceptions.WebAuthenticationException: \n    Failed finding the certificate for minting tokens by thumbprint: b4f01d2fc42718198852cd23957fc60a3e4bca2e\n\n### Solution:\n\nMake sure the thumbprint in CloudEnvironment.Config doesn't have invisible Unicode characters. To do that paste your error message into a tool that would show invisible Unicode characters. An example is [Unicode code converter](https://r12a.github.io/apps/conversion/).\n\n![Unicode code converter](media/unicode-extra.jpg)\n\n\n## Zoom factor\nSometimes you get the error related to IE zoom factor. \n\n## Error example\n\n```\nResult StackTrace:          \nat OpenQA.Selenium.Remote.RemoteWebDriver.UnpackAndThrowOnError(Response errorResponse) in c:\\Projects\\webdriver\\dotnet\\src\\webdriver\\Remote\\RemoteWebDriver.cs:line 1108\n   at OpenQA.Selenium.Remote.RemoteWebDriver.Execute(String driverCommandToExecute, Dictionary`2 parameters) in c:\\Projects\\webdriver\\dotnet\\src\\webdriver\\Remote\\RemoteWebDriver.cs:line 862\n   at OpenQA.Selenium.Remote.RemoteWebDriver.StartSession(ICapabilities desiredCapabilities) in c:\\Projects\\webdriver\\dotnet\\src\\webdriver\\Remote\\RemoteWebDriver.cs:line 830\n   at OpenQA.Selenium.Remote.RemoteWebDriver..ctor(ICommandExecutor commandExecutor, ICapabilities desiredCapabilities) in c:\\Projects\\webdriver\\dotnet\\src\\webdriver\\Remote\\RemoteWebDriver.cs:line 89\n   at OpenQA.Selenium.IE.InternetExplorerDriver..ctor(InternetExplorerDriverService service, InternetExplorerOptions options) in c:\\Projects\\webdriver\\dotnet\\src\\webdriver\\IE\\InternetExplorerDriver.cs:line 127\n   at MS.Dynamics.TestTools.CloudCommonTestUtilities.Authentication.Browser.InternetExplorerBrowser.GetWebDriver(Uri initialUri)\n   at MS.Dynamics.TestTools.CloudCommonTestUtilities.Authentication.Browser.SeleniumBrowser.LaunchWithAuthentication(Uri targetUri)\n   at MS.Dynamics.TestTools.CloudCommonTestUtilities.Authentication.Browser.AuthenticatedBrowser.CreateSession(SupportedBrowser browser, IAuthenticator authenticator, Uri launchUri)\n   at Microsoft.Dynamics.TestTools.Dispatcher.JsDispatcher.OpenPipeline()\n   at Microsoft.Dynamics.TestTools.Dispatcher.JsDispatcher.OpenClient(ClientState initialState, ClientBehavior behavior)\n   at Microsoft.Dynamics.TestTools.Dispatcher.Client.DispatchedClient.SetClientState(ClientState state)\n   at Microsoft.Dynamics.TestTools.Dispatcher.Client.DispatchedClient.set_Company(String value)\n   at MS.Dynamics.Performance.Application.TaskRecorder.Free_Text_InvoiceBase.TestSetup() in C:\\PerfSDK\\Scripts\\SampleProject\\PerfSDKSample\\Generated\\Free_Text_InvoiceBase.cs:line 50\nResult Message:              Initialization method MS.Dynamics.Performance.Application.TaskRecorder.Free_Text_InvoiceBase.TestSetup threw exception. System.InvalidOperationException: System.InvalidOperationException: Unexpected error launching Internet Explorer. Browser zoom level was set to 200%. It should be set to 100% (NoSuchDriver).\n```\n\n### Solution\nThe IE zoom factor can be set to 100% by changing the following keys:\n+ Computer\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Internet Explorer\\Zoom\\ResetZoomOnStartup = 0\n+ Computer\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Internet Explorer\\Zoom\\ResetZoomOnStartup2 = 0\n+ Computer\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Internet Explorer\\Zoom\\Zoomfactor = 80000\n\nDepending on the version of the local machine that is being used, before starting the RDP session it may be necessary to “Change the size of text, apps and other items”. This field is available by right-clicking on your display and selecting Display settings. \n\n## Missing configuration file\n\n```\nResult Stack Trace:\nSystem.ServiceModel.Description.ConfigLoader.LoadChannelBehaviors(ServiceEndpoint serviceEndpoint, String configurationName)\nSystem.ServiceModel.ChannelFactory.ApplyConfiguration(String configurationName, Configuration configuration)\nSystem.ServiceModel.ChannelFactory.InitializeEndpoint(String configurationName, EndpointAddress address, Configuration configuration)\nSystem.ServiceModel.Configuration.ConfigurationChannelFactory`1..ctor(String endpointConfigurationName, Configuration configuration, EndpointAddress remoteAddress)\nMS.Dynamics.TestTools.CloudCommonTestUtilities.Services.ConfigurationClientBase`1.InitConfigurationChannelFactory(Configuration config, String endpointConfigurationName, EndpointAddress remoteAddress)\nMS.Dynamics.Test.Team.Foundation.WebClient.Common.InteractionService.ReliableCommunicationManagerProxy..ctor(String endpointConfigurationName, EndpointAddress remoteAddress)\nMS.Dynamics.Test.Team.Foundation.WebClient.Common.InteractionService.ClientCommunicationManager..ctor(String endpointConfigurationName)\nMS.Dynamics.Test.Team.Foundation.WebClient.Common.InteractionService.ClientCommunicationManager..ctor()\nMicrosoft.Dynamics.TestTools.Dispatcher.ISDispatcher.ISDispatcher.OpenClient(ClientState initialState, ClientBehavior behavior)\nMicrosoft.Dynamics.TestTools.Dispatcher.Client.DispatchedClient.SetClientState(ClientState state)\nMicrosoft.Dynamics.TestTools.Dispatcher.Client.DispatchedClient.set_Company(String value)\nMS.Dynamics.Performance.Application.GFM.PDLTrend.ProcureToPayTrend.ProcureToPaymentTrend() in \n\nDebug Trace:\nDefault: DateTime=\"09/20/2016 23:53:42\" \"Changing company from  to USMF\"\nDefault: DateTime=\"09/20/2016 23:53:43\" \"Opening ISDispatcher client.\"\nDefault: DateTime=\"09/20/2016 23:53:43\" \"Reliable communication manager proxy pointing to URL: https://<BaseURL>/Services/ReliableCommunicationManager.svc\"\n```\n\n### Solution\nThis error message indicates that you’re missing **MS.Dynamics.Test.Team.Foundation.WebClient.InteractionService.dll.config**. Check that this file has been added to vsonline.testsettings, note there are two files with similar names except one is a __\\*.dll__ and the other is __\\*dll.config__. \n\n\n\n","nodes":[{"pos":[4,798],"embed":true,"restype":"x-metadata","content":"# required metadata\n\ntitle: PerfSDK and multiuser testing with Visual Studio Online\ndescription: Take a tour of Performance SDK and multiuser testing with Visual Studio Online and learn how convert a scenario recorded with Task Recorder into a single user test and then a multiuser test.\nauthor: RobinARH\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 9954\nms.assetid: 7b605810-e4da-4eb8-9a26-5389f99befcf\nms.search.region: Global\n# ms.search.industry: \nms.author: chwolf\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n","nodes":[{"content":"PerfSDK and multiuser testing with Visual Studio Online","nodes":[{"pos":[0,55],"content":"PerfSDK and multiuser testing with Visual Studio Online","nodes":[{"content":"PerfSDK and multiuser testing with Visual Studio Online","pos":[0,55]}]}],"path":["title"],"extradata":"MT"},{"content":"Take a tour of Performance SDK and multiuser testing with Visual Studio Online and learn how convert a scenario recorded with Task Recorder into a single user test and then a multiuser test.","nodes":[{"pos":[0,190],"content":"Take a tour of Performance SDK and multiuser testing with Visual Studio Online and learn how convert a scenario recorded with Task Recorder into a single user test and then a multiuser test.","nodes":[{"content":"Take a tour of Performance SDK and multiuser testing with Visual Studio Online and learn how convert a scenario recorded with Task Recorder into a single user test and then a multiuser test.","pos":[0,190]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata\n","yml":true},{"pos":[806,861],"content":"PerfSDK and multiuser testing with Visual Studio Online","linkify":"PerfSDK and multiuser testing with Visual Studio Online","nodes":[{"content":"PerfSDK and multiuser testing with Visual Studio Online","pos":[0,55]}]},{"content":"Take a tour of Performance SDK and multiuser testing with Visual Studio Online and learn how convert a scenario recorded with Task Recorder into a single user test and then a multiuser test.","pos":[907,1097]},{"content":"<bpt id=\"p1\">*</bpt>Time:<ept id=\"p1\">*</ept> 30 minutes In this lab, you will take a tour of Performance SDK and multi user testing with Visual Studio Online.","pos":[1099,1220],"source":"*Time:* 30 minutes In this lab, you will take a tour of Performance SDK and multi user testing with Visual Studio Online."},{"content":"You will see how to convert a scenario recorded with Task Recorder and convert it to a single user test and then a multi user test.","pos":[1221,1352]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> This lab requires that you access the environment as an administrator.","pos":[1353,1433],"source":"**Note:** This lab requires that you access the environment as an administrator."},{"content":"For more information, refer to the document named <bpt id=\"p1\">[</bpt>Access Instances<ept id=\"p1\">](..\\dev-tools\\access-instances.md)</ept>.","pos":[1434,1537],"source":" For more information, refer to the document named [Access Instances](..\\dev-tools\\access-instances.md)."},{"content":"<bpt id=\"p1\">**</bpt>Prerequisites<ept id=\"p1\">**</ept>","pos":[1538,1555],"source":"**Prerequisites**"},{"content":"Visual Studio 2015 Enterprise","pos":[1561,1590]},{"content":"Deployment with Volume Data","pos":[1595,1622]},{"content":"PerfSDK (look for a folder with that name in the C: or F: drive, depending on your environment)","pos":[1627,1722]},{"pos":[1727,1787],"content":"Steps to create a single user C\\# test from an XML recording","linkify":"Steps to create a single user C\\# test from an XML recording","nodes":[{"content":"Steps to create a single user C<ph id=\"ph1\">\\#</ph> test from an XML recording","pos":[0,60],"source":"Steps to create a single user C\\# test from an XML recording"}]},{"pos":[1788,1940],"content":"A video about how to create a single user test can be found here: <bpt id=\"p1\">[</bpt>https://mix.office.com/watch/qtdlasy2rcf3<ept id=\"p1\">](https://mix.office.com/watch/qtdlasy2rcf3)</ept>","source":"A video about how to create a single user test can be found here: [https://mix.office.com/watch/qtdlasy2rcf3](https://mix.office.com/watch/qtdlasy2rcf3)"},{"content":"Create a recording of a scenario that you want to test with Task Recorder.","pos":[1946,2020]},{"content":"Run Visual Studio as Administrator.","pos":[2025,2060]},{"content":"Build the PerfSDKSample project, which is in the PerfSDK folder.","pos":[2061,2125]},{"content":"If you have already done this, skip this step.","pos":[2126,2172]},{"content":"Open <bpt id=\"p1\">**</bpt>Dynamics 365<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Addins<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>C<ph id=\"ph3\">\\#</ph><ept id=\"p3\">**</ept> perf test generator add-in from Visual Studio.","pos":[2177,2274],"source":"Open **Dynamics 365** &gt; **Addins** &gt; **C\\#** perf test generator add-in from Visual Studio."},{"content":"Go to **Dynamics 365 **<ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p1\">**</bpt>Addins<ept id=\"p1\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Create C<ph id=\"ph3\">\\#</ph> perf test from recording<ept id=\"p2\">**</ept>.","pos":[2275,2359],"source":" Go to **Dynamics 365 **&gt; **Addins** &gt; **Create C\\# perf test from recording**."},{"content":"You should see the following dialog.","pos":[2364,2400]},{"content":"Fill in the required details and click <bpt id=\"p1\">**</bpt>Import<ept id=\"p1\">**</ept>.","pos":[2401,2451],"source":" Fill in the required details and click **Import**."},{"pos":[2457,2514],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>perf103a<ept id=\"p1\">](./media/perf103a.png)](./media/perf103a.png)</ept>","source":"[![perf103a](./media/perf103a.png)](./media/perf103a.png)"},{"content":"You should see generated C<ph id=\"ph1\">\\#</ph> test in Generated folder in the project that you’ve selected.","pos":[2524,2614],"source":"You should see generated C\\# test in Generated folder in the project that you’ve selected."},{"pos":[2619,2675],"content":"Steps to run single user performance test with Perf SDK:","linkify":"Steps to run single user performance test with Perf SDK:","nodes":[{"content":"Steps to run single user performance test with Perf SDK:","pos":[0,56]}]},{"content":"Check that testroot environment variable is set to Perf SDK folder.","pos":[2680,2747]},{"content":"Go to <bpt id=\"p1\">**</bpt>Control Panel<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>System and Security<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>System<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Advanced System Settings<ept id=\"p4\">**</ept>.","pos":[2748,2851],"source":" Go to **Control Panel** &gt; **System and Security** &gt; **System** &gt; **Advanced System Settings**."},{"pos":[2858,2939],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>testroot<ept id=\"p1\">](./media/testroot.jpg)](./media/testroot.jpg)</ept><bpt id=\"p2\">[</bpt><ept id=\"p2\">](./media/perf103c.png)</ept>","source":"[![testroot](./media/testroot.jpg)](./media/testroot.jpg)[](./media/perf103c.png)"},{"pos":[2949,3187],"content":"Download <bpt id=\"p1\">*</bpt>selenium-dotnet-strongnamed-2.42.0.zip<ept id=\"p1\">*</ept> and <bpt id=\"p2\">*</bpt>IEDriverServer<ph id=\"ph1\">\\_</ph>Win32<ph id=\"ph2\">\\_</ph>2.42.0.zip<ept id=\"p2\">*</ept> from <bpt id=\"p3\">[</bpt><bpt id=\"p4\">*</bpt>http://selenium-release.storage.googleapis.com/index.html?path=2.42/<ept id=\"p4\">*</ept><ept id=\"p3\">](http://selenium-release.storage.googleapis.com/index.html?path=2.42/)</ept>.","source":"Download *selenium-dotnet-strongnamed-2.42.0.zip* and *IEDriverServer\\_Win32\\_2.42.0.zip* from [*http://selenium-release.storage.googleapis.com/index.html?path=2.42/*](http://selenium-release.storage.googleapis.com/index.html?path=2.42/)."},{"content":"Make sure to copy download dll's to the following folder and add a reference to WebDriver.dll to your project","pos":[3203,3312]},{"pos":[3318,3375],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>perf103d<ept id=\"p1\">](./media/perf103d.png)](./media/perf103d.png)</ept>","source":"[![perf103d](./media/perf103d.png)](./media/perf103d.png)"},{"content":"Generate certificate and install it.","pos":[3385,3421]},{"content":"To generate a certificate file, run the following commands:","pos":[3422,3481]},{"pos":[3488,3557],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>generatecert<ept id=\"p1\">](./media/generatecert.jpg)](./media/generatecert.jpg)</ept>","source":"[![generatecert](./media/generatecert.jpg)](./media/generatecert.jpg)"},{"content":"When prompted for private key password, select <bpt id=\"p1\">**</bpt>None.<ept id=\"p1\">**</ept>","pos":[3567,3623],"source":"When prompted for private key password, select **None.**"},{"content":"You should see the following files:","pos":[3624,3659]},{"pos":[3670,3746],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>tempcert<ept id=\"p1\">](./media/tempcert.jpg)](./media/tempcert.jpg)</ept><bpt id=\"p2\">**</bpt>Notable pieces:<ept id=\"p2\">**</ept>","source":"[![tempcert](./media/tempcert.jpg)](./media/tempcert.jpg)**Notable pieces:**"},{"content":"-n “CN=TestAuthCert” is giving a human-readable name to the cert, feel free to tweak for your scenario.","pos":[3751,3854]},{"content":"-eku 1.3.6.1.5.5.7.3.2 is certificate purpose.","pos":[3859,3905]},{"content":"This is a client authentication cert, as opposed to code signing, encryption or something else.","pos":[3906,4001]},{"content":"Next, install <ph id=\"ph1\">\\*</ph>.pfx file (make sure to select Local Machine when you install it)  and copy this certificate file to PerfSDK folder.","pos":[4002,4134],"source":" Next, install \\*.pfx file (make sure to select Local Machine when you install it)  and copy this certificate file to PerfSDK folder."},{"content":"Open powershell window as Administator and run the following command to get a thumbprint of installed certificate:","pos":[4136,4250]},{"pos":[4253,4328],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>get-thumbprint<ept id=\"p1\">](./media/get-thumbprint.jpg)](./media/get-thumbprint.jpg)</ept>","source":"[![get-thumbprint](./media/get-thumbprint.jpg)](./media/get-thumbprint.jpg)"},{"pos":[4330,4392],"content":"Put this thumbprint value in <bpt id=\"p1\">**</bpt>CloudEnvironment.Config<ept id=\"p1\">**</ept> file:","source":"Put this thumbprint value in **CloudEnvironment.Config** file:"},{"pos":[4395,4479],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>config-thumbprint<ept id=\"p1\">](./media/config-thumbprint.jpg)](./media/config-thumbprint.jpg)</ept>","source":"[![config-thumbprint](./media/config-thumbprint.jpg)](./media/config-thumbprint.jpg)"},{"content":"The next step is to update <bpt id=\"p1\">**</bpt>wif.config<ept id=\"p1\">**</ept> to make AOS trust this certificate.","pos":[4482,4559],"source":"The next step is to update **wif.config** to make AOS trust this certificate."},{"content":"To do that, open IIS and find Microsoft Dynamics 365 for Finance and Operations, Enterprise edition in the list of sites.","pos":[4560,4681]},{"content":"Click <bpt id=\"p1\">**</bpt>Explore<ept id=\"p1\">**</ept> to open and find a file <bpt id=\"p2\">**</bpt>wif.config<ept id=\"p2\">**</ept>.","pos":[4682,4739],"source":" Click **Explore** to open and find a file **wif.config**."},{"pos":[4742,4802],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>wifconfig<ept id=\"p1\">](./media/wifconfig.jpg)](./media/wifconfig.jpg)</ept>","source":"[![wifconfig](./media/wifconfig.jpg)](./media/wifconfig.jpg)"},{"content":"Update this file by putting your certificate and authority name:","pos":[4805,4869]},{"pos":[4872,4938],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>wif-updated<ept id=\"p1\">](./media/wif-updated.jpg)](./media/wif-updated.jpg)</ept>","source":"[![wif-updated](./media/wif-updated.jpg)](./media/wif-updated.jpg)"},{"content":"And restart IIS.","pos":[4941,4957]},{"content":"Open Sample project in Visual Studio and edit the file PurchaseReq.cs, which is a sample single user test.","pos":[4958,5064]},{"content":"Comment the following lines in this file:","pos":[5065,5106]},{"pos":[5109,5166],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>perf103e<ept id=\"p1\">](./media/perf103e.png)](./media/perf103e.png)</ept>","source":"[![perf103e](./media/perf103e.png)](./media/perf103e.png)"},{"content":"Modify your CloudEnvironment.Config file by entering your admin username.","pos":[5169,5242]},{"content":"The following code is a example.","pos":[5243,5275]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The ConfigName must be DEVFABRIC.","pos":[5276,5319],"source":"**Note:** The ConfigName must be DEVFABRIC."},{"pos":[5322,5379],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>perf103f<ept id=\"p1\">](./media/perf103f.png)](./media/perf103f.png)</ept>","source":"[![perf103f](./media/perf103f.png)](./media/perf103f.png)"},{"content":"Enter your endpoint in CloudEnvironment.Config.","pos":[5382,5429]},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>: If you have an ARR-enabled environment, i.e. you have 2 endpoints like this:","pos":[5430,5516],"source":"**Note**: If you have an ARR-enabled environment, i.e. you have 2 endpoints like this:"},{"pos":[5522,5567],"content":"apr-arr8aos<bpt id=\"p1\">**</bpt>soap<ept id=\"p1\">**</ept>.axcloud.test.dynamics.com","source":"apr-arr8aos**soap**.axcloud.test.dynamics.com"},{"content":"apr-arr8aos.axcloud.test.dynamics.com","pos":[5572,5609]},{"content":"You would need to enter both endpoints in CloudEnvironment.Config:","pos":[5611,5677]},{"pos":[5680,5743],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>perf103upd<ept id=\"p1\">](./media/perf103upd.png)](./media/perf103upd.png)</ept>","source":"[![perf103upd](./media/perf103upd.png)](./media/perf103upd.png)"},{"content":"Go to <bpt id=\"p1\">**</bpt>Test<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Test settings<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Default processor architecture<ept id=\"p3\">**</ept> and set it to x64.","pos":[5746,5842],"source":"Go to **Test** &gt; **Test settings** &gt; **Default processor architecture** and set it to x64."},{"content":"Build the solution.","pos":[5843,5862]},{"content":"Go to <bpt id=\"p1\">**</bpt>Test<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Windows<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Test Explorer<ept id=\"p3\">**</ept> <bpt id=\"p4\">**</bpt>Note:<ept id=\"p4\">**</ept> Sometimes Visual Studio may not update the list of tests.","pos":[5863,5985],"source":" Go to **Test** &gt; **Windows** &gt; **Test Explorer** **Note:** Sometimes Visual Studio may not update the list of tests."},{"content":"In this case, restart Visual Studio and re-open the test Explorer.","pos":[5986,6052]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Your newly created test will be named TestMethod.","pos":[6053,6112],"source":"**Note:** Your newly created test will be named TestMethod."},{"content":"If you change the method name of TestMethod your test will get an individual name.","pos":[6113,6195]},{"content":"Now you can run the test.","pos":[6196,6221]},{"content":"You should see Internet Explorer starting and replaying the scenario that you've recorded.","pos":[6222,6312]},{"pos":[6317,6372],"content":"Steps to create a multiuser test from a singleuser test","linkify":"Steps to create a multiuser test from a singleuser test","nodes":[{"content":"Steps to create a multiuser test from a singleuser test","pos":[0,55]}]},{"content":"To convert a single-user test generated in the previous section to multi-user test, add MS.Dynamics.TestTools.UIHelpers.Core; to your test script and replace the following line in TestSetup method.","pos":[6373,6570]},{"content":"Make sure the values that you have entered during task recording are randomized.","pos":[6728,6808]},{"content":"You may need to use the Data Expansion Tool first to generate test data.","pos":[6809,6881]},{"pos":[6886,6934],"content":"Setup Visual Studio Online for multiuser testing","linkify":"Setup Visual Studio Online for multiuser testing","nodes":[{"content":"Setup Visual Studio Online for multiuser testing","pos":[0,48]}]},{"content":"For this example ProcureToPay.cs will be used.","pos":[6935,6981]},{"content":"You need to go to log in to <bpt id=\"p1\">[</bpt>Visual Studio Online portal<ept id=\"p1\">](https://app.vssps.visualstudio.com/profile/view)</ept> and launch Visual Studio from there.","pos":[6982,7125],"source":" You need to go to log in to [Visual Studio Online portal](https://app.vssps.visualstudio.com/profile/view) and launch Visual Studio from there."},{"content":"Note: you need to do this only once.","pos":[7126,7162]},{"content":"Once you have logged in in VSO, those settings are saved.","pos":[7163,7220]},{"pos":[7223,7295],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>vsonline-5<ept id=\"p1\">](./media/vsonline-5-1024x323.jpg)](./media/vsonline-5.jpg)</ept>","source":"[![vsonline-5](./media/vsonline-5-1024x323.jpg)](./media/vsonline-5.jpg)"},{"content":"Open PerfSDK sample project.","pos":[7298,7326]},{"content":"Make sure to update UserFormat entry in CloudEnvironment.Config file to reflect admin user url.","pos":[7327,7422]},{"content":"Example: for <bpt id=\"p1\">[</bpt><ph id=\"ph1\">admin@example.com</ph><ept id=\"p1\">]()</ept> use <bpt id=\"p2\">[</bpt>TST<ph id=\"ph2\">\\_</ph>{0}<ph id=\"ph3\">@example.com</ph><ept id=\"p2\">]()</ept> as user format.","pos":[7423,7502],"source":" Example: for [admin@example.com]() use [TST\\_{0}@example.com]() as user format."},{"content":"Also make sure to change the UserCount to the amount of users you want to have in your performance test.","pos":[7503,7607]},{"pos":[7610,7676],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>vsonline-12<ept id=\"p1\">](./media/vsonline-12.jpg)](./media/vsonline-12.jpg)</ept>","source":"[![vsonline-12](./media/vsonline-12.jpg)](./media/vsonline-12.jpg)"},{"content":"Run this command in PerfSDK folder: <bpt id=\"p1\">**</bpt>MS.Dynamics.Performance.CreateUsers.exe<ept id=\"p1\">**</ept> to create test users for your environment.","pos":[7679,7801],"source":"Run this command in PerfSDK folder: **MS.Dynamics.Performance.CreateUsers.exe** to create test users for your environment."},{"content":"You may create as many users as you want to, for this example 150 is used.","pos":[7802,7876]},{"content":"<bpt id=\"p1\">*</bpt>Example: <bpt id=\"p2\">**</bpt>MS.Dynamics.Performance.CreateUsers.exe 150 USMF<ept id=\"p2\">**</ept> will create 150 test users for company USMF.<ept id=\"p1\">*</ept>","pos":[7877,7985],"source":"*Example: **MS.Dynamics.Performance.CreateUsers.exe 150 USMF** will create 150 test users for company USMF.*"},{"content":"Make sure that users were created in the system.","pos":[7986,8034]},{"content":"Login to your endpoint as admin user and check.","pos":[8035,8082]},{"pos":[8088,8103],"content":"Testing sandbox","linkify":"Testing sandbox","nodes":[{"content":"Testing sandbox","pos":[0,15]}]},{"content":"This step assumes you have a developer topology.","pos":[8105,8153]},{"content":"Please follow the instructions from previous paragraph.","pos":[8154,8209]},{"content":"There is one additional step you need to do in order to establish trust between your developer topology and/or Visual Studio Online test agent to communicate to sandbox machines: You would need to remote desktop to your AOS machine, copy over .cer file, install it by double-clicking on the file.","pos":[8210,8506]},{"content":"When prompted for certificate store select <bpt id=\"p1\">**</bpt>Personal:<ept id=\"p1\">**</ept>","pos":[8507,8563],"source":" When prompted for certificate store select **Personal:**"},{"pos":[8565,8637],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>personalstore<ept id=\"p1\">](./media/personalstore.jpg)](./media/personalstore.jpg)</ept>","source":"[![personalstore](./media/personalstore.jpg)](./media/personalstore.jpg)"},{"content":"And update file <bpt id=\"p1\">**</bpt>wif.config<ept id=\"p1\">**</ept>.","pos":[8640,8671],"source":"And update file **wif.config**."},{"content":"To update file <bpt id=\"p1\">**</bpt>wif.config<ept id=\"p1\">**</ept>, open IIS, find AOSService among websites and click Explore","pos":[8672,8761],"source":" To update file **wif.config**, open IIS, find AOSService among websites and click Explore"},{"pos":[8764,8832],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>vsonline-23<ept id=\"p1\">](./media/vsonline-231.jpg)](./media/vsonline-231.jpg)</ept>","source":"[![vsonline-23](./media/vsonline-231.jpg)](./media/vsonline-231.jpg)"},{"content":"This action would open Explorer, you should be able to find <bpt id=\"p1\">**</bpt>wif.config<ept id=\"p1\">**</ept> in the opened folder.","pos":[8835,8931],"source":"This action would open Explorer, you should be able to find **wif.config** in the opened folder."},{"content":"Update this file by putting certificate thumbprint and CN values (use the values from certificate you've generated on previous steps):","pos":[8932,9066]},{"pos":[9069,9135],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>wif-updated<ept id=\"p1\">](./media/wif-updated.jpg)](./media/wif-updated.jpg)</ept>","source":"[![wif-updated](./media/wif-updated.jpg)](./media/wif-updated.jpg)"},{"content":"And restart IIS.","pos":[9138,9154]},{"content":"Now you can run performance tests against this topology.","pos":[9155,9211]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> if your topology has multiple AOS machines, you need to install certificate and update wif.config on each of those machines.","pos":[9212,9346],"source":"**Note:** if your topology has multiple AOS machines, you need to install certificate and update wif.config on each of those machines."},{"pos":[9351,9371],"content":"Run performance test","linkify":"Run performance test","nodes":[{"content":"Run performance test","pos":[0,20]}]},{"content":"Open ProcureToPay.cs in Visual Studio editor and append the following lines in TestSetup method:","pos":[9372,9468]},{"content":"Double click on file vsonline.testsettings in your solution files, use the following settings (your PerfSDK folder may be different):","pos":[9730,9863]},{"pos":[9866,9932],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>vsonline-29<ept id=\"p1\">](./media/vsonline-29.jpg)](./media/vsonline-29.jpg)</ept>","source":"[![vsonline-29](./media/vsonline-29.jpg)](./media/vsonline-29.jpg)"},{"content":"In <bpt id=\"p1\">**</bpt>Setup and Cleanup Scripts<ept id=\"p1\">**</ept> select setup.cmd located in %testroot%Visual Studio Onlinesetup.cmd.","pos":[9935,10036],"source":"In **Setup and Cleanup Scripts** select setup.cmd located in %testroot%Visual Studio Onlinesetup.cmd."},{"content":"<bpt id=\"p1\">**</bpt>Notable pieces:<ept id=\"p1\">**</ept> you may need to update your deployment configuration to reflect your certificate name (for this demo **CsuClient.pfx **is used) and password.","pos":[10037,10198],"source":"**Notable pieces:** you may need to update your deployment configuration to reflect your certificate name (for this demo **CsuClient.pfx **is used) and password."},{"content":"Make sure add <ph id=\"ph1\">\\*</ph>.pfx file you've generated previously and update the following files:","pos":[10199,10284],"source":" Make sure add \\*.pfx file you've generated previously and update the following files:"},{"pos":[10290,10401],"content":"<bpt id=\"p1\">**</bpt>setup.cmd<ept id=\"p1\">**</ept> with %DeploymentDirectory%CloudCtuFakeACSInstall.cmd %DeploymentDirectory%<bpt id=\"p2\">**</bpt>YourCertificate.pfx<ept id=\"p2\">**</ept>","source":"**setup.cmd** with %DeploymentDirectory%CloudCtuFakeACSInstall.cmd %DeploymentDirectory%**YourCertificate.pfx**"},{"pos":[10406,10500],"content":"<bpt id=\"p1\">**</bpt>CloudCtuFakeACSInstall.cmd<ept id=\"p1\">**</ept> with the password of your cert (that should be an empty string)","source":"**CloudCtuFakeACSInstall.cmd** with the password of your cert (that should be an empty string)"},{"content":"In <bpt id=\"p1\">**</bpt>Additional Settings<ept id=\"p1\">**</ept> select <bpt id=\"p2\">**</bpt>Run tests in 64 bit process on 64 bit machine.<ept id=\"p2\">**</ept>","pos":[10502,10586],"source":"In **Additional Settings** select **Run tests in 64 bit process on 64 bit machine.**"},{"content":"To run the test, open the <bpt id=\"p1\">**</bpt>SampleLoadTest.loadtest<ept id=\"p1\">**</ept> file and select <bpt id=\"p2\">**</bpt>Run Load Test<ept id=\"p2\">**</ept>.","pos":[10587,10675],"source":" To run the test, open the **SampleLoadTest.loadtest** file and select **Run Load Test**."},{"pos":[10678,10735],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>perf103u<ept id=\"p1\">](./media/perf103u.png)](./media/perf103u.png)</ept>","source":"[![perf103u](./media/perf103u.png)](./media/perf103u.png)"},{"content":"When the test finishes, you should see a summary with transaction results.","pos":[10738,10812]},{"pos":[10815,10872],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>perf103v<ept id=\"p1\">](./media/perf103v.png)](./media/perf103v.png)</ept>","source":"[![perf103v](./media/perf103v.png)](./media/perf103v.png)"},{"content":"You can switch to <bpt id=\"p1\">**</bpt>Graphs view<ept id=\"p1\">**</ept> to view different indicators for the test controller and test scenario.","pos":[10875,10980],"source":"You can switch to **Graphs view** to view different indicators for the test controller and test scenario."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Information about your System under Test is not available in this view.","pos":[10981,11062],"source":"**Note:** Information about your System under Test is not available in this view."},{"content":"To access this information you would have to use LCS to monitor your AOS CPU and memory usage, or set up perfmon directly on the AOS and set up the SQL/Windows Azure portal to monitor SQL DTU usage.","pos":[11063,11261]},{"pos":[11264,11321],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>perf103w<ept id=\"p1\">](./media/perf103w.png)](./media/perf103w.png)</ept>","source":"[![perf103w](./media/perf103w.png)](./media/perf103w.png)"},{"pos":[11326,11341],"content":"Troubleshooting","linkify":"Troubleshooting","nodes":[{"content":"Troubleshooting","pos":[0,15]}]},{"pos":[11347,11381],"content":"System.TypeInitializationException","linkify":"System.TypeInitializationException","nodes":[{"content":"System.TypeInitializationException","pos":[0,34]}]},{"content":"If you see an error message like this:","pos":[11382,11420]},{"pos":[12426,12434],"content":"Solution","linkify":"Solution","nodes":[{"content":"Solution","pos":[0,8]}]},{"pos":[12435,12521],"content":"You would need to run the following powershell script on your <bpt id=\"p1\">**</bpt>development machine<ept id=\"p1\">**</ept>:","source":"You would need to run the following powershell script on your **development machine**:"},{"pos":[12907,12936],"content":"Certificate thumbprint errors","linkify":"Certificate thumbprint errors","nodes":[{"content":"Certificate thumbprint errors","pos":[0,29]}]},{"pos":[12942,12955],"content":"Error example","linkify":"Error example","nodes":[{"content":"Error example","pos":[0,13]}]},{"pos":[14510,14519],"content":"Solution:","linkify":"Solution:","nodes":[{"content":"Solution:","pos":[0,9]}]},{"content":"Make sure the thumbprint in CloudEnvironment.Config doesn't have invisible Unicode characters.","pos":[14521,14615]},{"content":"To do that paste your error message into a tool that would show invisible Unicode characters.","pos":[14616,14709]},{"content":"An example is <bpt id=\"p1\">[</bpt>Unicode code converter<ept id=\"p1\">](https://r12a.github.io/apps/conversion/)</ept>.","pos":[14710,14790],"source":" An example is [Unicode code converter](https://r12a.github.io/apps/conversion/)."},{"content":"Unicode code converter","pos":[14794,14816]},{"pos":[14848,14859],"content":"Zoom factor","linkify":"Zoom factor","nodes":[{"content":"Zoom factor","pos":[0,11]}]},{"content":"Sometimes you get the error related to IE zoom factor.","pos":[14860,14914]},{"pos":[14920,14933],"content":"Error example","linkify":"Error example","nodes":[{"content":"Error example","pos":[0,13]}]},{"pos":[17281,17289],"content":"Solution","linkify":"Solution","nodes":[{"content":"Solution","pos":[0,8]}]},{"content":"The IE zoom factor can be set to 100% by changing the following keys:","pos":[17290,17359]},{"content":"Computer\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Internet Explorer\\Zoom\\ResetZoomOnStartup = 0","pos":[17362,17453]},{"content":"Computer\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Internet Explorer\\Zoom\\ResetZoomOnStartup2 = 0","pos":[17456,17548]},{"content":"Computer\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Internet Explorer\\Zoom\\Zoomfactor = 80000","pos":[17551,17638]},{"content":"Depending on the version of the local machine that is being used, before starting the RDP session it may be necessary to “Change the size of text, apps and other items”.","pos":[17640,17809]},{"content":"This field is available by right-clicking on your display and selecting Display settings.","pos":[17810,17899]},{"pos":[17905,17931],"content":"Missing configuration file","linkify":"Missing configuration file","nodes":[{"content":"Missing configuration file","pos":[0,26]}]},{"pos":[19838,19846],"content":"Solution","linkify":"Solution","nodes":[{"content":"Solution","pos":[0,8]}]},{"content":"This error message indicates that you’re missing <bpt id=\"p1\">**</bpt>MS.Dynamics.Test.Team.Foundation.WebClient.InteractionService.dll.config<ept id=\"p1\">**</ept>.","pos":[19847,19973],"source":"This error message indicates that you’re missing **MS.Dynamics.Test.Team.Foundation.WebClient.InteractionService.dll.config**."},{"content":"Check that this file has been added to vsonline.testsettings, note there are two files with similar names except one is a <bpt id=\"p1\">__</bpt><ph id=\"ph1\">\\*</ph>.dll<ept id=\"p1\">__</ept> and the other is <bpt id=\"p2\">__</bpt><ph id=\"ph2\">\\*</ph>dll.config<ept id=\"p2\">__</ept>.","pos":[19974,20141],"source":" Check that this file has been added to vsonline.testsettings, note there are two files with similar names except one is a __\\*.dll__ and the other is __\\*dll.config__."}]}