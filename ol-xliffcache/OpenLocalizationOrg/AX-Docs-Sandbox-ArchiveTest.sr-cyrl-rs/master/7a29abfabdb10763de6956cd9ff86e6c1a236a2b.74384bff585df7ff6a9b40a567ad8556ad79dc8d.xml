{"content":"---\n\n# required metadata\n\ntitle: Add a method to a table\ndescription: This topic describes how to add a method to a table by using an extension.\nauthor: ivanv-microsoft\nmanager: AnnBe\nms.date: 07/10/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: robinr\nms.search.scope: Operations, Platform\n# ms.tgt_pltfrm: \nms.custom: 268724\nms.assetid: \nms.search.region: Global\n# ms.search.industry: \nms.author: ivanv\nms.search.validFrom: 2017-07-01\nms.dyn365.ops.version: Platform update 4\n\n---\n\n# Add a method to a table\n\nWhen you extend the business logic that is related to a table, the general coding principles that help keep your code clean still apply. Therefore, you must eventually encapsulate actions in separate methods on the table. In Microsoft Dynamics AX 2012, you completed that task by adding the method directly on the table through overlayering. To complete the same task through extension, you use a different approach. Specifically, you create an augmentation class.\n\nFor example, a new field that is named **MyInventLocationId** was added to the InventTable table through extension. A data event handler was also created for the **Inserting** event, and you must implement the logic of filling the new field there. To encapsulate that action, you will create a new method on InventTable and name that method **defaultMyInventLocationId**.\n\nYou first create a new class in the extension model. This class will augment the InventTable table, and enable access to the table's fields and methods in a manner that is easy to read and understand. It's important that you choose the correct name for your augmentation class. This name must be unique across all types in all models that are deployed. For more information, see [Naming guidelines for model extensions](naming-guidelines-extensions.md).\n\n```\n[ExtensionOf(tableStr(InventTable))]\nfinal class MyInventTable_Extension\n{\n    [DataEventHandler(tableStr(InventTable), DataEventType::Inserting)]\n    public static void InventTable_onInserting(Common sender, DataEventArgs e)\n    {\n        InventTable inventTable = sender as InventTable;\n        // Call the method as if it was defined directly on InventTable.\n        inventTable.defaultMyInventLocationId();\n    }\n    public void defaultMyInventLocationId()\n    {\n        // This would have partner specific logic to initialize the new field.\n        this.MyInventLocationId = this.inventLocationId();\n    }\n}\n```\n\nYou can now add new methods to the augmentation class. These methods will then appear in IntelliSense for variables of the **InventTable** type, just as if they were defined directly on the table. This behavior applies to both static methods and instance methods.\n\nThere are a few rules for augmentation classes:\n\n+ They must be final.\n+ They must be suffixed by **\\_Extension**.\n+ They must be decorated with the **[ExtensionOf()]** attribute.\n\n> [!NOTE]\n> In this example, the data event handling method is also defined on the augmentation class. In a real implementation, you might want to move the data event handling method into a separate class that contains the event handlers for the InventTable table.\n","nodes":[{"pos":[4,614],"embed":true,"restype":"x-metadata","content":"\n# required metadata\n\ntitle: Add a method to a table\ndescription: This topic describes how to add a method to a table by using an extension.\nauthor: ivanv-microsoft\nmanager: AnnBe\nms.date: 07/10/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: robinr\nms.search.scope: Operations, Platform\n# ms.tgt_pltfrm: \nms.custom: 268724\nms.assetid: \nms.search.region: Global\n# ms.search.industry: \nms.author: ivanv\nms.search.validFrom: 2017-07-01\nms.dyn365.ops.version: Platform update 4\n","nodes":[{"content":"Add a method to a table","nodes":[{"pos":[0,23],"content":"Add a method to a table","nodes":[{"content":"Add a method to a table","pos":[0,23]}]}],"path":["title"],"extradata":"MT"},{"content":"This topic describes how to add a method to a table by using an extension.","nodes":[{"pos":[0,74],"content":"This topic describes how to add a method to a table by using an extension.","nodes":[{"content":"This topic describes how to add a method to a table by using an extension.","pos":[0,74]}]}],"path":["description"],"extradata":"MT"}],"yml":true},{"pos":[622,645],"content":"Add a method to a table","linkify":"Add a method to a table","nodes":[{"content":"Add a method to a table","pos":[0,23]}]},{"content":"When you extend the business logic that is related to a table, the general coding principles that help keep your code clean still apply.","pos":[647,783]},{"content":"Therefore, you must eventually encapsulate actions in separate methods on the table.","pos":[784,868]},{"content":"In Microsoft Dynamics AX 2012, you completed that task by adding the method directly on the table through overlayering.","pos":[869,988]},{"content":"To complete the same task through extension, you use a different approach.","pos":[989,1063]},{"content":"Specifically, you create an augmentation class.","pos":[1064,1111]},{"content":"For example, a new field that is named <bpt id=\"p1\">**</bpt>MyInventLocationId<ept id=\"p1\">**</ept> was added to the InventTable table through extension.","pos":[1113,1228],"source":"For example, a new field that is named **MyInventLocationId** was added to the InventTable table through extension."},{"content":"A data event handler was also created for the <bpt id=\"p1\">**</bpt>Inserting<ept id=\"p1\">**</ept> event, and you must implement the logic of filling the new field there.","pos":[1229,1360],"source":" A data event handler was also created for the **Inserting** event, and you must implement the logic of filling the new field there."},{"content":"To encapsulate that action, you will create a new method on InventTable and name that method <bpt id=\"p1\">**</bpt>defaultMyInventLocationId<ept id=\"p1\">**</ept>.","pos":[1361,1484],"source":" To encapsulate that action, you will create a new method on InventTable and name that method **defaultMyInventLocationId**."},{"content":"You first create a new class in the extension model.","pos":[1486,1538]},{"content":"This class will augment the InventTable table, and enable access to the table's fields and methods in a manner that is easy to read and understand.","pos":[1539,1686]},{"content":"It's important that you choose the correct name for your augmentation class.","pos":[1687,1763]},{"content":"This name must be unique across all types in all models that are deployed.","pos":[1764,1838]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Naming guidelines for model extensions<ept id=\"p1\">](naming-guidelines-extensions.md)</ept>.","pos":[1839,1939],"source":" For more information, see [Naming guidelines for model extensions](naming-guidelines-extensions.md)."},{"content":"You can now add new methods to the augmentation class.","pos":[2563,2617]},{"content":"These methods will then appear in IntelliSense for variables of the <bpt id=\"p1\">**</bpt>InventTable<ept id=\"p1\">**</ept> type, just as if they were defined directly on the table.","pos":[2618,2759],"source":" These methods will then appear in IntelliSense for variables of the **InventTable** type, just as if they were defined directly on the table."},{"content":"This behavior applies to both static methods and instance methods.","pos":[2760,2826]},{"content":"There are a few rules for augmentation classes:","pos":[2828,2875]},{"content":"They must be final.","pos":[2879,2898]},{"pos":[2901,2942],"content":"They must be suffixed by <bpt id=\"p1\">**</bpt><ph id=\"ph1\">\\_</ph>Extension<ept id=\"p1\">**</ept>.","source":"They must be suffixed by **\\_Extension**."},{"pos":[2945,3007],"content":"They must be decorated with the <bpt id=\"p1\">**</bpt>[ExtensionOf()]<ept id=\"p1\">**</ept> attribute.","source":"They must be decorated with the **[ExtensionOf()]** attribute."},{"pos":[3011,3273],"content":"[!NOTE]\nIn this example, the data event handling method is also defined on the augmentation class. In a real implementation, you might want to move the data event handling method into a separate class that contains the event handlers for the InventTable table.","leadings":["","> "],"nodes":[{"content":"In this example, the data event handling method is also defined on the augmentation class. In a real implementation, you might want to move the data event handling method into a separate class that contains the event handlers for the InventTable table.","pos":[8,260],"nodes":[{"content":"In this example, the data event handling method is also defined on the augmentation class.","pos":[0,90]},{"content":"In a real implementation, you might want to move the data event handling method into a separate class that contains the event handlers for the InventTable table.","pos":[91,252]}]}]}]}