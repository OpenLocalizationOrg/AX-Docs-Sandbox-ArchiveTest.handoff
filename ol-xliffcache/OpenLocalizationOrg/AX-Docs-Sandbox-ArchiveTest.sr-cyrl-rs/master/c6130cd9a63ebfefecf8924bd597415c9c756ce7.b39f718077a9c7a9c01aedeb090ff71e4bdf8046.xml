{"content":"---\n# required metadata\n\ntitle: Retail POS device activation\ndescription: This article explains the new guided device activation for Retail Cloud POS and Retail Modern POS, and explains the client simplifications that help users easily activate devices without having to manually enter register and device ID information. \nauthor: MargoC\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-365-retail\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: IT Pro\n# ms.devlang: \nms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations, Retail, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 18341\nms.assetid: 3dc4c413-e341-4d01-bc49-dc24e35dd8a7\nms.search.region: Global\n# ms.search.industry: \nms.author: athinesh\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update\n\n---\n\n# Retail POS device activation\n\n[!include[banner](../includes/banner.md)]\n\n\nThis article explains the new guided device activation for Retail Cloud POS and Retail Modern POS, and explains the client simplifications that help users easily activate devices without having to manually enter register and device ID information. \n\nChecklist to follow before activation\n-------------------------------------\n\n1.  Complete the **Validate devices for activation** check in HQ, and make sure that the device passes validation.\n2.  On the client machine where you're activating the device, access the Retail Server URL health check, and make sure that the health check is passed. Use the following format: https://clxtestax404ret.cloud.test.dynamics.com/en/healthcheck?testname=ping\n3.  The worker must be mapped to a Microsoft Azure Active Directory (AAD) account (under **External identity**).\n4.  The AAD account to map must belong to the same tenant.\n5.  To map the worker to the AAD account, sign in to HQ by using the Admin account for Microsoft Dynamics Lifecycle Services (LCS).\n6.  Make sure that the worker is set up as a user in the Manager role (checked by validation).\n7.  Make sure that the channel is published (checked by validation).\n8.  Make sure that the channel database has the synced data from HQ, and that download jobs are running. To check this, run the following command in the channel database for the store.\n\n        select * from crt.STORAGELOOKUPVIEW\n\n    Make sure that data is returned, and that the result isn't empty.\n\n9.  Set up the hardware profile under **Register** (checked by validation).\n10. Make sure that the register and store have a screen layout (checked by validation).\n11. Make sure that a primary address is set up for the legal entity.\n12. Make sure that the language is set up for the Commerce Data Exchange: Real-time Service user profile (JBB in the demo data).\n13. Make sure that the Real-time Service profile has the correct access.\n14. Make sure that the electronic funds transfer (EFT) configuration value is present.\n\n## Activate a Modern POS or Cloud POS device by using guided activation\n1.  Open the initial device activation page for Modern POS or Cloud POS. You're prompted to sign in.\n2.  On the **Before you start** page, follow the instructions, and then click **Next**.\n\n    ![p24](./media/p24.png)\n\n3.  Start Cloud POS or Modern POS.\n4.  Use your AAD credentials to sign in. The AAD account must already be mapped. For instructions, see [Retail Modern POS self-service and device activation](..\\retail-modern-pos-device-activation.md). For Cloud POS, the server URL is automatically entered in the address bar. For Modern POS, you must copy and paste the server URL.\n\n    [![p18](./media/p18.png)](./media/p18.png)\n\n5.  Click **Next** to populate the list of stores.\n6.  Select the correct store in the list.\n\n    [![p20](./media/p20.png)](./media/p20.png)\n\n7.  Select the correct register and device. **Note:** The device can be **Pending**, **De-activated**, or **Activated**. Alternatively, if you turned on the Retail HQ **Allow devices to be associated to registers from store** setting, you might see a list of registers that have no device associated with them. \n\n    [![p22](./media/p22.png)](./media/p22.png)\n\n8.  Click **Activate**. The device should be activated. \n\n    [![p23](./media/p23.png)](./media/p23.png)\n\n## Create a device ID from Modern POS and Cloud POS\nWe have added features to create a device (that is, automatically generate a device ID) from Modern POS or Cloud POS, so that the device can be associated with a register that doesn't yet have devices mapped to it. This functionality can be used in Modern POS only if you set the HQ settings as follows.\n\n1.  Go to **Retail** &gt; **Headquarters setup** &gt; **Parameters** &gt; **Retail shared parameters** &gt; **General**.\n2.  Under **Devices,** set **Allow register association from device** to **Yes**.\n3.  In the Modern POS client, you can now add a device when you select a register that is listed as **No associated devices** in the guided activation flow.\n4.  After you select the register, you can either select a device that doesn't have register mapping or use the **Or, Add a Device** link.\n5.  Click the **Or, Add a Device** link, and then either enter the new device ID or select **Automatically create a new device ID for me**.\n6.  Click **Activate** to create a new device ID, associate it with the selected register, and complete the activation.\n\n## Activate the device for Modern POS by using a configuration file\nIT Pros can now easily configure device activation for Modern POS by using a configuration file that can be downloaded together with Modern POS. This file is now available on the **Devices** page for the appropriate Modern POS device (**Retail** &gt; **Channel setup** &gt; **POS setup** &gt; **Devices**). \n\n[![Configuration file download](./media/p16_11_16-1024x481.png)](./media/p16_11_16.png) \n\nThe configuration file is used to enter the Retail Server URL, device ID, and register number for device activation. During installation, the installer selects this file and populates the values for device activation. **Important:** The user must put the file in the same folder as the Modern POS self-service package and run the .exe file. \n\n[![Configuration file](./media/p17_11_16-1024x532.png)](./media/p17_11_16.png) \n\nModern POS starts in Manual entry mode, and the Retail Server URL, device ID, and register ID are pre-populated for activation.\n\n## Activate the device for Cloud POS by using syntactic sugar\nIT Pros can now configure device activation for Cloud POS by providing the device ID and register ID as the part of the Cloud POS URL. The link is available in the **Cloud POS URL** field on the **Devices** page. (**Retail** &gt; **Channel setup** &gt; **POS setup** &gt; **Devices**). \n\n[![Cloud POS URL field](./media/p15_11_16.png)](./media/p15_11_16.png) \n\nCloud POS starts in Manual entry mode, and the Retail Server URL, device ID, and register ID are pre-populated for activation.\n\n\n\n","nodes":[{"pos":[4,859],"embed":true,"restype":"x-metadata","content":"# required metadata\n\ntitle: Retail POS device activation\ndescription: This article explains the new guided device activation for Retail Cloud POS and Retail Modern POS, and explains the client simplifications that help users easily activate devices without having to manually enter register and device ID information. \nauthor: MargoC\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-365-retail\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: IT Pro\n# ms.devlang: \nms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations, Retail, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 18341\nms.assetid: 3dc4c413-e341-4d01-bc49-dc24e35dd8a7\nms.search.region: Global\n# ms.search.industry: \nms.author: athinesh\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update\n","nodes":[{"content":"Retail POS device activation","nodes":[{"pos":[0,28],"content":"Retail POS device activation","nodes":[{"content":"Retail POS device activation","pos":[0,28]}]}],"path":["title"],"extradata":"MT"},{"content":"This article explains the new guided device activation for Retail Cloud POS and Retail Modern POS, and explains the client simplifications that help users easily activate devices without having to manually enter register and device ID information.","nodes":[{"pos":[0,247],"content":"This article explains the new guided device activation for Retail Cloud POS and Retail Modern POS, and explains the client simplifications that help users easily activate devices without having to manually enter register and device ID information.","nodes":[{"content":"This article explains the new guided device activation for Retail Cloud POS and Retail Modern POS, and explains the client simplifications that help users easily activate devices without having to manually enter register and device ID information.","pos":[0,247]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata\n","yml":true},{"pos":[867,895],"content":"Retail POS device activation","linkify":"Retail POS device activation","nodes":[{"content":"Retail POS device activation","pos":[0,28]}]},{"content":"This article explains the new guided device activation for Retail Cloud POS and Retail Modern POS, and explains the client simplifications that help users easily activate devices without having to manually enter register and device ID information.","pos":[941,1188]},{"pos":[1191,1228],"content":"Checklist to follow before activation","linkify":"Checklist to follow before activation","nodes":[{"content":"Checklist to follow before activation","pos":[0,37]}]},{"pos":[1272,1382],"content":"Complete the <bpt id=\"p1\">**</bpt>Validate devices for activation<ept id=\"p1\">**</ept> check in HQ, and make sure that the device passes validation.","source":"Complete the **Validate devices for activation** check in HQ, and make sure that the device passes validation."},{"content":"On the client machine where you're activating the device, access the Retail Server URL health check, and make sure that the health check is passed.","pos":[1387,1534]},{"content":"Use the following format: https://clxtestax404ret.cloud.test.dynamics.com/en/healthcheck?testname=ping","pos":[1535,1637]},{"pos":[1642,1750],"content":"The worker must be mapped to a Microsoft Azure Active Directory (AAD) account (under <bpt id=\"p1\">**</bpt>External identity<ept id=\"p1\">**</ept>).","source":"The worker must be mapped to a Microsoft Azure Active Directory (AAD) account (under **External identity**)."},{"content":"The AAD account to map must belong to the same tenant.","pos":[1755,1809]},{"content":"To map the worker to the AAD account, sign in to HQ by using the Admin account for Microsoft Dynamics Lifecycle Services (LCS).","pos":[1814,1941]},{"content":"Make sure that the worker is set up as a user in the Manager role (checked by validation).","pos":[1946,2036]},{"content":"Make sure that the channel is published (checked by validation).","pos":[2041,2105]},{"content":"Make sure that the channel database has the synced data from HQ, and that download jobs are running.","pos":[2110,2210]},{"content":"To check this, run the following command in the channel database for the store.","pos":[2211,2290]},{"content":"Make sure that data is returned, and that the result isn't empty.","pos":[2341,2406]},{"pos":[2412,2483],"content":"Set up the hardware profile under <bpt id=\"p1\">**</bpt>Register<ept id=\"p1\">**</ept> (checked by validation).","source":"Set up the hardware profile under **Register** (checked by validation)."},{"content":"Make sure that the register and store have a screen layout (checked by validation).","pos":[2488,2571]},{"content":"Make sure that a primary address is set up for the legal entity.","pos":[2576,2640]},{"content":"Make sure that the language is set up for the Commerce Data Exchange: Real-time Service user profile (JBB in the demo data).","pos":[2645,2769]},{"content":"Make sure that the Real-time Service profile has the correct access.","pos":[2774,2842]},{"content":"Make sure that the electronic funds transfer (EFT) configuration value is present.","pos":[2847,2929]},{"pos":[2934,3002],"content":"Activate a Modern POS or Cloud POS device by using guided activation","linkify":"Activate a Modern POS or Cloud POS device by using guided activation","nodes":[{"content":"Activate a Modern POS or Cloud POS device by using guided activation","pos":[0,68]}]},{"content":"Open the initial device activation page for Modern POS or Cloud POS.","pos":[3007,3075]},{"content":"You're prompted to sign in.","pos":[3076,3103]},{"pos":[3108,3191],"content":"On the <bpt id=\"p1\">**</bpt>Before you start<ept id=\"p1\">**</ept> page, follow the instructions, and then click <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept>.","source":"On the **Before you start** page, follow the instructions, and then click **Next**."},{"content":"p24","pos":[3199,3202]},{"content":"Start Cloud POS or Modern POS.","pos":[3226,3256]},{"content":"Use your AAD credentials to sign in.","pos":[3261,3297]},{"content":"The AAD account must already be mapped.","pos":[3298,3337]},{"content":"For instructions, see <bpt id=\"p1\">[</bpt>Retail Modern POS self-service and device activation<ept id=\"p1\">](..\\retail-modern-pos-device-activation.md)</ept>.","pos":[3338,3458],"source":" For instructions, see [Retail Modern POS self-service and device activation](..\\retail-modern-pos-device-activation.md)."},{"content":"For Cloud POS, the server URL is automatically entered in the address bar.","pos":[3459,3533]},{"content":"For Modern POS, you must copy and paste the server URL.","pos":[3534,3589]},{"pos":[3595,3637],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>p18<ept id=\"p1\">](./media/p18.png)](./media/p18.png)</ept>","source":"[![p18](./media/p18.png)](./media/p18.png)"},{"pos":[3643,3689],"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to populate the list of stores.","source":"Click **Next** to populate the list of stores."},{"content":"Select the correct store in the list.","pos":[3694,3731]},{"pos":[3737,3779],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>p20<ept id=\"p1\">](./media/p20.png)](./media/p20.png)</ept>","source":"[![p20](./media/p20.png)](./media/p20.png)"},{"content":"Select the correct register and device.","pos":[3785,3824]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The device can be <bpt id=\"p2\">**</bpt>Pending<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>De-activated<ept id=\"p3\">**</ept>, or <bpt id=\"p4\">**</bpt>Activated<ept id=\"p4\">**</ept>.","pos":[3825,3901],"source":"**Note:** The device can be **Pending**, **De-activated**, or **Activated**."},{"content":"Alternatively, if you turned on the Retail HQ <bpt id=\"p1\">**</bpt>Allow devices to be associated to registers from store<ept id=\"p1\">**</ept> setting, you might see a list of registers that have no device associated with them.","pos":[3902,4091],"source":" Alternatively, if you turned on the Retail HQ **Allow devices to be associated to registers from store** setting, you might see a list of registers that have no device associated with them."},{"pos":[4098,4140],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>p22<ept id=\"p1\">](./media/p22.png)](./media/p22.png)</ept>","source":"[![p22](./media/p22.png)](./media/p22.png)"},{"content":"Click <bpt id=\"p1\">**</bpt>Activate<ept id=\"p1\">**</ept>.","pos":[4146,4165],"source":"Click **Activate**."},{"content":"The device should be activated.","pos":[4166,4197]},{"pos":[4204,4246],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>p23<ept id=\"p1\">](./media/p23.png)](./media/p23.png)</ept>","source":"[![p23](./media/p23.png)](./media/p23.png)"},{"pos":[4251,4299],"content":"Create a device ID from Modern POS and Cloud POS","linkify":"Create a device ID from Modern POS and Cloud POS","nodes":[{"content":"Create a device ID from Modern POS and Cloud POS","pos":[0,48]}]},{"content":"We have added features to create a device (that is, automatically generate a device ID) from Modern POS or Cloud POS, so that the device can be associated with a register that doesn't yet have devices mapped to it.","pos":[4300,4514]},{"content":"This functionality can be used in Modern POS only if you set the HQ settings as follows.","pos":[4515,4603]},{"pos":[4609,4725],"content":"Go to <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Headquarters setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Parameters<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Retail shared parameters<ept id=\"p4\">**</ept> <ph id=\"ph4\">&amp;gt;</ph> <bpt id=\"p5\">**</bpt>General<ept id=\"p5\">**</ept>.","source":"Go to **Retail** &gt; **Headquarters setup** &gt; **Parameters** &gt; **Retail shared parameters** &gt; **General**."},{"pos":[4730,4807],"content":"Under <bpt id=\"p1\">**</bpt>Devices,<ept id=\"p1\">**</ept> set <bpt id=\"p2\">**</bpt>Allow register association from device<ept id=\"p2\">**</ept> to <bpt id=\"p3\">**</bpt>Yes<ept id=\"p3\">**</ept>.","source":"Under **Devices,** set **Allow register association from device** to **Yes**."},{"pos":[4812,4964],"content":"In the Modern POS client, you can now add a device when you select a register that is listed as <bpt id=\"p1\">**</bpt>No associated devices<ept id=\"p1\">**</ept> in the guided activation flow.","source":"In the Modern POS client, you can now add a device when you select a register that is listed as **No associated devices** in the guided activation flow."},{"pos":[4969,5103],"content":"After you select the register, you can either select a device that doesn't have register mapping or use the <bpt id=\"p1\">**</bpt>Or, Add a Device<ept id=\"p1\">**</ept> link.","source":"After you select the register, you can either select a device that doesn't have register mapping or use the **Or, Add a Device** link."},{"pos":[5108,5243],"content":"Click the <bpt id=\"p1\">**</bpt>Or, Add a Device<ept id=\"p1\">**</ept> link, and then either enter the new device ID or select <bpt id=\"p2\">**</bpt>Automatically create a new device ID for me<ept id=\"p2\">**</ept>.","source":"Click the **Or, Add a Device** link, and then either enter the new device ID or select **Automatically create a new device ID for me**."},{"pos":[5248,5363],"content":"Click <bpt id=\"p1\">**</bpt>Activate<ept id=\"p1\">**</ept> to create a new device ID, associate it with the selected register, and complete the activation.","source":"Click **Activate** to create a new device ID, associate it with the selected register, and complete the activation."},{"pos":[5368,5432],"content":"Activate the device for Modern POS by using a configuration file","linkify":"Activate the device for Modern POS by using a configuration file","nodes":[{"content":"Activate the device for Modern POS by using a configuration file","pos":[0,64]}]},{"content":"IT Pros can now easily configure device activation for Modern POS by using a configuration file that can be downloaded together with Modern POS.","pos":[5433,5577]},{"content":"This file is now available on the <bpt id=\"p1\">**</bpt>Devices<ept id=\"p1\">**</ept> page for the appropriate Modern POS device (<bpt id=\"p2\">**</bpt>Retail<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Channel setup<ept id=\"p3\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>POS setup<ept id=\"p4\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p5\">**</bpt>Devices<ept id=\"p5\">**</ept>).","pos":[5578,5739],"source":" This file is now available on the **Devices** page for the appropriate Modern POS device (**Retail** &gt; **Channel setup** &gt; **POS setup** &gt; **Devices**)."},{"pos":[5742,5829],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Configuration file download<ept id=\"p1\">](./media/p16_11_16-1024x481.png)](./media/p16_11_16.png)</ept>","source":"[![Configuration file download](./media/p16_11_16-1024x481.png)](./media/p16_11_16.png)"},{"content":"The configuration file is used to enter the Retail Server URL, device ID, and register number for device activation.","pos":[5832,5948]},{"content":"During installation, the installer selects this file and populates the values for device activation.","pos":[5949,6049]},{"content":"<bpt id=\"p1\">**</bpt>Important:<ept id=\"p1\">**</ept> The user must put the file in the same folder as the Modern POS self-service package and run the .exe file.","pos":[6050,6172],"source":"**Important:** The user must put the file in the same folder as the Modern POS self-service package and run the .exe file."},{"pos":[6175,6253],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Configuration file<ept id=\"p1\">](./media/p17_11_16-1024x532.png)](./media/p17_11_16.png)</ept>","source":"[![Configuration file](./media/p17_11_16-1024x532.png)](./media/p17_11_16.png)"},{"content":"Modern POS starts in Manual entry mode, and the Retail Server URL, device ID, and register ID are pre-populated for activation.","pos":[6256,6383]},{"pos":[6388,6446],"content":"Activate the device for Cloud POS by using syntactic sugar","linkify":"Activate the device for Cloud POS by using syntactic sugar","nodes":[{"content":"Activate the device for Cloud POS by using syntactic sugar","pos":[0,58]}]},{"content":"IT Pros can now configure device activation for Cloud POS by providing the device ID and register ID as the part of the Cloud POS URL.","pos":[6447,6581]},{"content":"The link is available in the <bpt id=\"p1\">**</bpt>Cloud POS URL<ept id=\"p1\">**</ept> field on the <bpt id=\"p2\">**</bpt>Devices<ept id=\"p2\">**</ept> page.","pos":[6582,6659],"source":" The link is available in the **Cloud POS URL** field on the **Devices** page."},{"content":"(<bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Channel setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>POS setup<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Devices<ept id=\"p4\">**</ept>).","pos":[6660,6732],"source":" (**Retail** &gt; **Channel setup** &gt; **POS setup** &gt; **Devices**)."},{"pos":[6735,6805],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Cloud POS URL field<ept id=\"p1\">](./media/p15_11_16.png)](./media/p15_11_16.png)</ept>","source":"[![Cloud POS URL field](./media/p15_11_16.png)](./media/p15_11_16.png)"},{"content":"Cloud POS starts in Manual entry mode, and the Retail Server URL, device ID, and register ID are pre-populated for activation.","pos":[6808,6934]}]}