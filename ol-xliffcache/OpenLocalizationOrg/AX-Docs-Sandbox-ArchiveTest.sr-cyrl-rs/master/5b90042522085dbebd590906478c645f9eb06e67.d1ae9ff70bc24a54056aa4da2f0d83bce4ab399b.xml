{"content":"---\n# required metadata\n\ntitle: Application stack and server architecture\ndescription: The application stack is divided into three separate models -  Application Platform, Application Foundation, and Application Suite. \nauthor: kfend\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 31751\nms.assetid: 6a5811cc-a551-4e4d-824c-d760460b3223\nms.search.region: Global\n# ms.search.industry: \nms.author: meeram\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Application stack and server architecture\n\n[!include[banner](../includes/banner.md)]\n\n\nThe application stack is divided into three separate models -  Application Platform, Application Foundation, and Application Suite. \n\nOverview\n--------\n\nThe application stack and server architecture aligns with three key pillars:\n\n-   New client\n-   Cloud readiness\n-   New development stack\n\nThe application stack has been divided into three separate models: Application Platform, Application Foundation, and Application Suite. The separation enables new application development on the base foundation models, just as the Fleet Management sample application has been developed. Note the following important points about the changes in the server architecture:\n\n-   The services endpoint on the server is now responsible for returning all form and control metadata and data to the browser-based client. There is no longer any remote procedure call (RPC)-based communication with the server. The form objects still run on the server, and rendering has been optimized for browsers and other clients through server and client-side (browser) investments.\n-   The server, including the application code base, is deployed to an Internet Information Services (IIS) web application. In the cloud, it's deployed to Microsoft Azure infrastructure as a service (IaaS) virtual machines (VMs).\n-   It is hosted on Azure and is available for access through the Internet. A user can use a combination of clients and credentials to access it. The recommended primary identity provider is OrgID, and the store for the identity is Azure Active Directory (Azure AD). The security subsystem uses the same AuthZ semantics for users and roles.\n-   Two types of clients must be considered for access in the cloud: active clients and passive clients.\n    -   Active clients can programmatically initiate actions based on responses from the server. An active client doesn't rely on HTTP redirects for authentication. A smart/rich client is an example of an active client.\n    -   Passive clients can't programmatically initiate actions based on responses from the server. A passive client relies on HTTP redirects for authentication. A web browser is an example of a passive client.\n\n    Currently, Access Control Service (ACS) doesn't support a mechanism for non-interactive authentication. Therefore, even when active clients try to authenticate by using ACS, they must use passive client authentication, in which a browser dialog box prompts the user to enter his or her credentials.\n-   A completely revamped metadata subsystem incorporates the new compiler and Microsoft Visual Studio–based development model. The model store is represented as a set of folders and XML artifacts that are organized by model. The model elements, such as tables, forms, and classes, are represented by an XML file that contains both metadata and source code.\n\nThe left side of the following diagram shows how the application stack has been split into distinct models. The right side shows how the key components are stacked in the server. \n\n[![Architecture drawing](./media/ArchitectureDrawing1.png)](./media/ArchitectureDrawing1.png)   \n\nMicrosoft Dynamics AX 2012 unionizes permissions that are granted to a user. However, an issue can occur when a data source is granted read permissions through an entry point and edit permissions through a form. Because permissions are unionized, the user eventually has edit permissions to that data source in this case. However, if the form was granted read access through a menu item, the expectation is that the data source can't be edited through that path. Therefore, the context of the call isn't honored. In Microsoft Dynamics 365 for Finance and Operations, Enterprise edition, the context of the call is honored, based on the permissions that are granted through the entry point. If the form was granted read access through a menu item, the framework grants the user only read access to the table. However, if the same form is opened through another menu item that provides write access, the form is granted write permissions. This behavior simplifies the development experience, because developers can specify the desired behavior for a form through a given entry point.\n\n## Cloud architecture\nThe cloud architecture includes services that automate software deployment and provisioning, operational monitoring and reporting, and seamless application lifecycle management. The cloud architecture consists of three main conceptual areas:\n\n-   **Lifecycle Services (LCS)** – LCS is a multi-tenant shared service that enables a wide range of lifecycle-related capabilities. Capabilities that are specific to this release include software development, customer provisioning, service level agreement (SLA) monitoring, and reporting capabilities.\n-   **Finance and Operations** – The VM instances are deployed through LCS to your Azure subscription. Various topologies are available: demo, development/test, and high-availability production topologies.\n-   **Shared Microsoft services** – Finance and Operations uses several Microsoft services to enable a “One Microsoft” solution where customers can manage a single sign-in, subscription management, and billing relationship with Microsoft across Finance and Operations, Microsoft Office 365, and other online services.\n\nMany features of the Azure platform are used, such as Microsoft Azure Storage, networking, monitoring, and SQL Azure, to name a few.  Shared services put into operation and orchestrate the application lifecycle of the environments for participants. Together, Azure functionality and LCS will offer a robust cloud service.\n\n## Development environment\nThe architecture of the development environment resembles the architecture of the cloud instance. It also includes the software development kit (SDK), which consists of the Visual Studio development tools and other components. Source control through Team Foundation Server or Visual Studio Online enables multiple-developer scenarios, where each developer uses a separate development environment. Deployment packages can be compiled and generated on a development environment and deployed to cloud instances by using LCS. The following diagram shows how the key components interact in a development environment.\n\n[![CloudEnvironmentTechConcepts](./media/cloudenvironmenttechconcepts.png)](./media/cloudenvironmenttechconcepts.png)\n\n\n\n","nodes":[{"pos":[4,724],"embed":true,"restype":"x-metadata","content":"# required metadata\n\ntitle: Application stack and server architecture\ndescription: The application stack is divided into three separate models -  Application Platform, Application Foundation, and Application Suite. \nauthor: kfend\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 31751\nms.assetid: 6a5811cc-a551-4e4d-824c-d760460b3223\nms.search.region: Global\n# ms.search.industry: \nms.author: meeram\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n","nodes":[{"content":"Application stack and server architecture","nodes":[{"pos":[0,41],"content":"Application stack and server architecture","nodes":[{"content":"Application stack and server architecture","pos":[0,41]}]}],"path":["title"],"extradata":"MT"},{"content":"The application stack is divided into three separate models -  Application Platform, Application Foundation, and Application Suite.","nodes":[{"pos":[0,131],"content":"The application stack is divided into three separate models -  Application Platform, Application Foundation, and Application Suite.","nodes":[{"content":"The application stack is divided into three separate models -  Application Platform, Application Foundation, and Application Suite.","pos":[0,131]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata\n","yml":true},{"pos":[732,773],"content":"Application stack and server architecture","linkify":"Application stack and server architecture","nodes":[{"content":"Application stack and server architecture","pos":[0,41]}]},{"content":"The application stack is divided into three separate models -  Application Platform, Application Foundation, and Application Suite.","pos":[819,950]},{"pos":[953,961],"content":"Overview","linkify":"Overview","nodes":[{"content":"Overview","pos":[0,8]}]},{"content":"The application stack and server architecture aligns with three key pillars:","pos":[972,1048]},{"content":"New client","pos":[1054,1064]},{"content":"Cloud readiness","pos":[1069,1084]},{"content":"New development stack","pos":[1089,1110]},{"content":"The application stack has been divided into three separate models: Application Platform, Application Foundation, and Application Suite.","pos":[1112,1247]},{"content":"The separation enables new application development on the base foundation models, just as the Fleet Management sample application has been developed.","pos":[1248,1397]},{"content":"Note the following important points about the changes in the server architecture:","pos":[1398,1479]},{"content":"The services endpoint on the server is now responsible for returning all form and control metadata and data to the browser-based client.","pos":[1485,1621]},{"content":"There is no longer any remote procedure call (RPC)-based communication with the server.","pos":[1622,1709]},{"content":"The form objects still run on the server, and rendering has been optimized for browsers and other clients through server and client-side (browser) investments.","pos":[1710,1869]},{"content":"The server, including the application code base, is deployed to an Internet Information Services (IIS) web application.","pos":[1874,1993]},{"content":"In the cloud, it's deployed to Microsoft Azure infrastructure as a service (IaaS) virtual machines (VMs).","pos":[1994,2099]},{"content":"It is hosted on Azure and is available for access through the Internet.","pos":[2104,2175]},{"content":"A user can use a combination of clients and credentials to access it.","pos":[2176,2245]},{"content":"The recommended primary identity provider is OrgID, and the store for the identity is Azure Active Directory (Azure AD).","pos":[2246,2366]},{"content":"The security subsystem uses the same AuthZ semantics for users and roles.","pos":[2367,2440]},{"content":"Two types of clients must be considered for access in the cloud: active clients and passive clients.","pos":[2445,2545]},{"content":"Active clients can programmatically initiate actions based on responses from the server.","pos":[2554,2642]},{"content":"An active client doesn't rely on HTTP redirects for authentication.","pos":[2643,2710]},{"content":"A smart/rich client is an example of an active client.","pos":[2711,2765]},{"content":"Passive clients can't programmatically initiate actions based on responses from the server.","pos":[2774,2865]},{"content":"A passive client relies on HTTP redirects for authentication.","pos":[2866,2927]},{"content":"A web browser is an example of a passive client.","pos":[2928,2976]},{"content":"Currently, Access Control Service (ACS) doesn't support a mechanism for non-interactive authentication.","pos":[2982,3085]},{"content":"Therefore, even when active clients try to authenticate by using ACS, they must use passive client authentication, in which a browser dialog box prompts the user to enter his or her credentials.","pos":[3086,3280]},{"content":"A completely revamped metadata subsystem incorporates the new compiler and Microsoft Visual Studio–based development model.","pos":[3285,3408]},{"content":"The model store is represented as a set of folders and XML artifacts that are organized by model.","pos":[3409,3506]},{"content":"The model elements, such as tables, forms, and classes, are represented by an XML file that contains both metadata and source code.","pos":[3507,3638]},{"content":"The left side of the following diagram shows how the application stack has been split into distinct models.","pos":[3640,3747]},{"content":"The right side shows how the key components are stacked in the server.","pos":[3748,3818]},{"pos":[3821,3914],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Architecture drawing<ept id=\"p1\">](./media/ArchitectureDrawing1.png)](./media/ArchitectureDrawing1.png)</ept>","source":"[![Architecture drawing](./media/ArchitectureDrawing1.png)](./media/ArchitectureDrawing1.png)"},{"content":"Microsoft Dynamics AX 2012 unionizes permissions that are granted to a user.","pos":[3919,3995]},{"content":"However, an issue can occur when a data source is granted read permissions through an entry point and edit permissions through a form.","pos":[3996,4130]},{"content":"Because permissions are unionized, the user eventually has edit permissions to that data source in this case.","pos":[4131,4240]},{"content":"However, if the form was granted read access through a menu item, the expectation is that the data source can't be edited through that path.","pos":[4241,4381]},{"content":"Therefore, the context of the call isn't honored.","pos":[4382,4431]},{"content":"In Microsoft Dynamics 365 for Finance and Operations, Enterprise edition, the context of the call is honored, based on the permissions that are granted through the entry point.","pos":[4432,4608]},{"content":"If the form was granted read access through a menu item, the framework grants the user only read access to the table.","pos":[4609,4726]},{"content":"However, if the same form is opened through another menu item that provides write access, the form is granted write permissions.","pos":[4727,4855]},{"content":"This behavior simplifies the development experience, because developers can specify the desired behavior for a form through a given entry point.","pos":[4856,5000]},{"pos":[5005,5023],"content":"Cloud architecture","linkify":"Cloud architecture","nodes":[{"content":"Cloud architecture","pos":[0,18]}]},{"content":"The cloud architecture includes services that automate software deployment and provisioning, operational monitoring and reporting, and seamless application lifecycle management.","pos":[5024,5201]},{"content":"The cloud architecture consists of three main conceptual areas:","pos":[5202,5265]},{"content":"<bpt id=\"p1\">**</bpt>Lifecycle Services (LCS)<ept id=\"p1\">**</ept> – LCS is a multi-tenant shared service that enables a wide range of lifecycle-related capabilities.","pos":[5271,5399],"source":"**Lifecycle Services (LCS)** – LCS is a multi-tenant shared service that enables a wide range of lifecycle-related capabilities."},{"content":"Capabilities that are specific to this release include software development, customer provisioning, service level agreement (SLA) monitoring, and reporting capabilities.","pos":[5400,5569]},{"content":"<bpt id=\"p1\">**</bpt>Finance and Operations<ept id=\"p1\">**</ept> – The VM instances are deployed through LCS to your Azure subscription.","pos":[5574,5672],"source":"**Finance and Operations** – The VM instances are deployed through LCS to your Azure subscription."},{"content":"Various topologies are available: demo, development/test, and high-availability production topologies.","pos":[5673,5775]},{"pos":[5780,6093],"content":"<bpt id=\"p1\">**</bpt>Shared Microsoft services<ept id=\"p1\">**</ept> – Finance and Operations uses several Microsoft services to enable a “One Microsoft” solution where customers can manage a single sign-in, subscription management, and billing relationship with Microsoft across Finance and Operations, Microsoft Office 365, and other online services.","source":"**Shared Microsoft services** – Finance and Operations uses several Microsoft services to enable a “One Microsoft” solution where customers can manage a single sign-in, subscription management, and billing relationship with Microsoft across Finance and Operations, Microsoft Office 365, and other online services."},{"content":"Many features of the Azure platform are used, such as Microsoft Azure Storage, networking, monitoring, and SQL Azure, to name a few.","pos":[6095,6227]},{"content":"Shared services put into operation and orchestrate the application lifecycle of the environments for participants.","pos":[6229,6343]},{"content":"Together, Azure functionality and LCS will offer a robust cloud service.","pos":[6344,6416]},{"pos":[6421,6444],"content":"Development environment","linkify":"Development environment","nodes":[{"content":"Development environment","pos":[0,23]}]},{"content":"The architecture of the development environment resembles the architecture of the cloud instance.","pos":[6445,6542]},{"content":"It also includes the software development kit (SDK), which consists of the Visual Studio development tools and other components.","pos":[6543,6671]},{"content":"Source control through Team Foundation Server or Visual Studio Online enables multiple-developer scenarios, where each developer uses a separate development environment.","pos":[6672,6841]},{"content":"Deployment packages can be compiled and generated on a development environment and deployed to cloud instances by using LCS.","pos":[6842,6966]},{"content":"The following diagram shows how the key components interact in a development environment.","pos":[6967,7056]},{"pos":[7058,7175],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>CloudEnvironmentTechConcepts<ept id=\"p1\">](./media/cloudenvironmenttechconcepts.png)](./media/cloudenvironmenttechconcepts.png)</ept>","source":"[![CloudEnvironmentTechConcepts](./media/cloudenvironmenttechconcepts.png)](./media/cloudenvironmenttechconcepts.png)"}]}