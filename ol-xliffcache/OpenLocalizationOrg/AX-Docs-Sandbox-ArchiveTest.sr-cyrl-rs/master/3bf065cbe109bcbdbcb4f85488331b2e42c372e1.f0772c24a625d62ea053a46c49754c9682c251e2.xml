{"content":"---\n# required metadata\n\ntitle: Author analytical reports by using Power BI Desktop\ndescription: This topic walks you through the process of authoring Power BI reports by using the local Entity Store database. \nauthor: sericks007\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer, IT Pro\n# ms.devlang: \nms.reviewer: sericks\nms.search.scope: Operations, Platform, UnifiedOperations, AX Platform\n# ms.tgt_pltfrm: \nms.custom: 265864\nms.assetid: e253a57a-979b-4ca5-8e09-2bfce97395a5\nms.search.region: Global\n# ms.search.industry: \nms.author: milindav\nms.search.validFrom: 2016-05-31\nms.dyn365.ops.version: Platform update 1\n\n---\n\n# Author analytical reports by using Power BI Desktop\n\n[!include[banner](../includes/banner.md)]\n\nIf you're a power user or a business analyst, you probably create many reports for your organization. You might create these reports in Microsoft Excel by formatting and relating data before you share it with other people. People in your organization might even come to you when they require modifications to the report. This solution offers an easy way to create rich, interactive reports. As a report writer, you can use Microsoft Power BI Desktop as the reporting tool. The reports that you create can then be published to PowerBI.com. For more information about Power BI Desktop, see [Create stunning reports and visualizations with Power BI Desktop](https://powerbi.microsoft.com/en-us/desktop).\n\n## Accessing the local Entity Store by using DirectQuery\nIn Microsoft Dynamics 365 for Finance and Operations, Enterprise edition, you can create Microsoft Power BI reports by using Open Data Protocol (OData) endpoints that are exposed via data entities. Despite the limitations of this approach, the Entity Store still supports it for legacy solutions. However, DirectQuery is now the preferred method for sourcing data for analytical solutions. For more information about the benefits and limitations of DirectQuery, see [Use DirectQuery in Power BI Desktop](https://powerbi.microsoft.com/en-us/documentation/powerbi-desktop-use-directquery/).\n\nWhen you use Power BI Desktop, you can create a report in your development or test environment by connecting directly to the local Entity Store database. When you're satisfied with the report, your administrator can help you migrate it to your production environment. The rest of this section walks you through this process.\n\n### Step 1: Populate the local Entity Store database\nFor this example, we will stage the aggregate models that the Retail analytical solution consumes in the local Entity Store. The models that the Retail application uses are defined in the RetailCube aggregate measurement. \n\n1. In the Finance and Operations client, open the **Entity Store** page. (Select **System administration** > **Setup** > **Entity Store**.) \n2. Select the **RetailCube** aggregate measurement, and then select **Refresh**. \n3. Enter a name for the job that will be run in the background, and then select **OK**.\n\nThe following illustration shows the administrator dialog box that is used to configure the frequency of updates for the aggregate model.\n\n![Configure refresh dialog box](media/Configure-refresh.png)\n\nTo monitor the progress of the job that stages the data, you can use the batch job monitoring page. (Select **System administration** > **Database** > **Batch jobs**.) If you're using demo data, the job should take about a minute. After the data is in the Entity Store, you can write reports. \n\n### Step 2: Connect to the local Entity Store database\n1. Start Power BI Desktop. If any updates are available for Power BI Desktop, you might have to download and apply them. \n2. On the Power BI **Welcome** page, select **Get data**. \n\n    Alternatively, when Power BI Desktop starts, you can select **Get Data** > **SQL Server**. \n\n    ![Get Data menu in Power BI Desktop](media/Power-BI-Desktop-Get-Data.png)\n\n3. In the **SQL Server Database** dialog box, enter **.** as the server name and **AxDW** as the database name. Then select the **DirectQuery** option. \n\n    The following illustration shows the settings that enable Power BI Desktop to access the local Entity Store database.\n\n    ![Settings for accessing the local Entity Store database](media/Connect-to-SQL-Database.png)\n\n    > [!NOTE]\n    > The **Import** option isn't currently supported.\n\n4. Select **OK**. \n\n    The **Navigator** dialog box appears. You use this dialog box to select which tables and views from the Entity Store you want to report on. \n\n5. In the search box, enter **Retail** to filter for entities that are related to the RetailCube aggregate measurement.\n6. Select the **RetailCube_RetailTransDetailsView** table that is shown in the navigator, and then select **Load**. \n\nYou can now create a report. You can drag measures and fields to the canvas, and can explore data and trends interactively.\n\nThe following illustration shows a basic report that uses the local Entity Store database as its source.\n\n![Power BI Desktop report](media/Power-BI-Desktop-Report.png)\n\nPower BI Desktop also supports the creation of calculations and lets you combine data from multiple aggregate measurements. Within minutes, you can create analytical reports by using data in the local development environment. When you're satisfied with the report, you can migrate it to the production environment, so that users can use the report to interact with production data.\n\n## Validating reports in a demo environment\n\nThe report shows the demo or test data in your developer environment. If you want to integrate the report into a demo environment, you can continue to publish this report to your PowerBI.com account and pin it to the Finance and Operations client. If you want a preview of the report that contains demo data, see the \"Publish a report from your demo environment to your PowerBI.com account\" section in [Power BI content in LCS from Microsoft and your partners](https://docs.microsoft.com/en-us/dynamics365/unified-operations/dev-itpro/analytics/power-bi-content-microsoft-partners).\n","nodes":[{"pos":[4,754],"embed":true,"restype":"x-metadata","content":"# required metadata\n\ntitle: Author analytical reports by using Power BI Desktop\ndescription: This topic walks you through the process of authoring Power BI reports by using the local Entity Store database. \nauthor: sericks007\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer, IT Pro\n# ms.devlang: \nms.reviewer: sericks\nms.search.scope: Operations, Platform, UnifiedOperations, AX Platform\n# ms.tgt_pltfrm: \nms.custom: 265864\nms.assetid: e253a57a-979b-4ca5-8e09-2bfce97395a5\nms.search.region: Global\n# ms.search.industry: \nms.author: milindav\nms.search.validFrom: 2016-05-31\nms.dyn365.ops.version: Platform update 1\n","nodes":[{"content":"Author analytical reports by using Power BI Desktop","nodes":[{"pos":[0,51],"content":"Author analytical reports by using Power BI Desktop","nodes":[{"content":"Author analytical reports by using Power BI Desktop","pos":[0,51]}]}],"path":["title"],"extradata":"MT"},{"content":"This topic walks you through the process of authoring Power BI reports by using the local Entity Store database.","nodes":[{"pos":[0,112],"content":"This topic walks you through the process of authoring Power BI reports by using the local Entity Store database.","nodes":[{"content":"This topic walks you through the process of authoring Power BI reports by using the local Entity Store database.","pos":[0,112]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata\n","yml":true},{"pos":[762,813],"content":"Author analytical reports by using Power BI Desktop","linkify":"Author analytical reports by using Power BI Desktop","nodes":[{"content":"Author analytical reports by using Power BI Desktop","pos":[0,51]}]},{"content":"If you're a power user or a business analyst, you probably create many reports for your organization.","pos":[858,959]},{"content":"You might create these reports in Microsoft Excel by formatting and relating data before you share it with other people.","pos":[960,1080]},{"content":"People in your organization might even come to you when they require modifications to the report.","pos":[1081,1178]},{"content":"This solution offers an easy way to create rich, interactive reports.","pos":[1179,1248]},{"content":"As a report writer, you can use Microsoft Power BI Desktop as the reporting tool.","pos":[1249,1330]},{"content":"The reports that you create can then be published to PowerBI.com.","pos":[1331,1396]},{"content":"For more information about Power BI Desktop, see <bpt id=\"p1\">[</bpt>Create stunning reports and visualizations with Power BI Desktop<ept id=\"p1\">](https://powerbi.microsoft.com/en-us/desktop)</ept>.","pos":[1397,1558],"source":" For more information about Power BI Desktop, see [Create stunning reports and visualizations with Power BI Desktop](https://powerbi.microsoft.com/en-us/desktop)."},{"pos":[1563,1616],"content":"Accessing the local Entity Store by using DirectQuery","linkify":"Accessing the local Entity Store by using DirectQuery","nodes":[{"content":"Accessing the local Entity Store by using DirectQuery","pos":[0,53]}]},{"content":"In Microsoft Dynamics 365 for Finance and Operations, Enterprise edition, you can create Microsoft Power BI reports by using Open Data Protocol (OData) endpoints that are exposed via data entities.","pos":[1617,1814]},{"content":"Despite the limitations of this approach, the Entity Store still supports it for legacy solutions.","pos":[1815,1913]},{"content":"However, DirectQuery is now the preferred method for sourcing data for analytical solutions.","pos":[1914,2006]},{"content":"For more information about the benefits and limitations of DirectQuery, see <bpt id=\"p1\">[</bpt>Use DirectQuery in Power BI Desktop<ept id=\"p1\">](https://powerbi.microsoft.com/en-us/documentation/powerbi-desktop-use-directquery/)</ept>.","pos":[2007,2205],"source":" For more information about the benefits and limitations of DirectQuery, see [Use DirectQuery in Power BI Desktop](https://powerbi.microsoft.com/en-us/documentation/powerbi-desktop-use-directquery/)."},{"content":"When you use Power BI Desktop, you can create a report in your development or test environment by connecting directly to the local Entity Store database.","pos":[2207,2360]},{"content":"When you're satisfied with the report, your administrator can help you migrate it to your production environment.","pos":[2361,2474]},{"content":"The rest of this section walks you through this process.","pos":[2475,2531]},{"pos":[2537,2585],"content":"Step 1: Populate the local Entity Store database","linkify":"Step 1: Populate the local Entity Store database","nodes":[{"content":"Step 1: Populate the local Entity Store database","pos":[0,48]}]},{"content":"For this example, we will stage the aggregate models that the Retail analytical solution consumes in the local Entity Store.","pos":[2586,2710]},{"content":"The models that the Retail application uses are defined in the RetailCube aggregate measurement.","pos":[2711,2807]},{"content":"In the Finance and Operations client, open the <bpt id=\"p1\">**</bpt>Entity Store<ept id=\"p1\">**</ept> page.","pos":[2813,2882],"source":"In the Finance and Operations client, open the **Entity Store** page."},{"content":"(Select <bpt id=\"p1\">**</bpt>System administration<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Setup<ept id=\"p2\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p3\">**</bpt>Entity Store<ept id=\"p3\">**</ept>.)","pos":[2883,2949],"source":" (Select **System administration** > **Setup** > **Entity Store**.)"},{"pos":[2954,3031],"content":"Select the <bpt id=\"p1\">**</bpt>RetailCube<ept id=\"p1\">**</ept> aggregate measurement, and then select <bpt id=\"p2\">**</bpt>Refresh<ept id=\"p2\">**</ept>.","source":"Select the **RetailCube** aggregate measurement, and then select **Refresh**."},{"pos":[3036,3120],"content":"Enter a name for the job that will be run in the background, and then select <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"Enter a name for the job that will be run in the background, and then select **OK**."},{"content":"The following illustration shows the administrator dialog box that is used to configure the frequency of updates for the aggregate model.","pos":[3122,3259]},{"content":"Configure refresh dialog box","pos":[3263,3291]},{"content":"To monitor the progress of the job that stages the data, you can use the batch job monitoring page.","pos":[3323,3422]},{"content":"(Select <bpt id=\"p1\">**</bpt>System administration<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Database<ept id=\"p2\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p3\">**</bpt>Batch jobs<ept id=\"p3\">**</ept>.) If you're using demo data, the job should take about a minute.","pos":[3423,3553],"source":" (Select **System administration** > **Database** > **Batch jobs**.) If you're using demo data, the job should take about a minute."},{"content":"After the data is in the Entity Store, you can write reports.","pos":[3554,3615]},{"pos":[3622,3672],"content":"Step 2: Connect to the local Entity Store database","linkify":"Step 2: Connect to the local Entity Store database","nodes":[{"content":"Step 2: Connect to the local Entity Store database","pos":[0,50]}]},{"content":"Start Power BI Desktop.","pos":[3676,3699]},{"content":"If any updates are available for Power BI Desktop, you might have to download and apply them.","pos":[3700,3793]},{"pos":[3798,3852],"content":"On the Power BI <bpt id=\"p1\">**</bpt>Welcome<ept id=\"p1\">**</ept> page, select <bpt id=\"p2\">**</bpt>Get data<ept id=\"p2\">**</ept>.","source":"On the Power BI **Welcome** page, select **Get data**."},{"pos":[3859,3949],"content":"Alternatively, when Power BI Desktop starts, you can select <bpt id=\"p1\">**</bpt>Get Data<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>SQL Server<ept id=\"p2\">**</ept>.","source":"Alternatively, when Power BI Desktop starts, you can select **Get Data** > **SQL Server**."},{"content":"Get Data menu in Power BI Desktop","pos":[3958,3991]},{"content":"In the <bpt id=\"p1\">**</bpt>SQL Server Database<ept id=\"p1\">**</ept> dialog box, enter <bpt id=\"p2\">**</bpt>.<ept id=\"p2\">**</ept>","pos":[4034,4088],"source":"In the **SQL Server Database** dialog box, enter **.**"},{"content":"as the server name and <bpt id=\"p1\">**</bpt>AxDW<ept id=\"p1\">**</ept> as the database name.","pos":[4089,4142],"source":" as the server name and **AxDW** as the database name."},{"content":"Then select the <bpt id=\"p1\">**</bpt>DirectQuery<ept id=\"p1\">**</ept> option.","pos":[4143,4182],"source":" Then select the **DirectQuery** option."},{"content":"The following illustration shows the settings that enable Power BI Desktop to access the local Entity Store database.","pos":[4189,4306]},{"content":"Settings for accessing the local Entity Store database","pos":[4314,4368]},{"pos":[4412,4474],"content":"[!NOTE]\nThe **Import** option isn't currently supported.","leadings":["","    > "],"nodes":[{"content":"The <bpt id=\"p1\">**</bpt>Import<ept id=\"p1\">**</ept> option isn't currently supported.","pos":[8,56],"source":"The **Import** option isn't currently supported."}]},{"pos":[4479,4493],"content":"Select <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"Select **OK**."},{"content":"The <bpt id=\"p1\">**</bpt>Navigator<ept id=\"p1\">**</ept> dialog box appears.","pos":[4500,4537],"source":"The **Navigator** dialog box appears."},{"content":"You use this dialog box to select which tables and views from the Entity Store you want to report on.","pos":[4538,4639]},{"pos":[4645,4761],"content":"In the search box, enter <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> to filter for entities that are related to the RetailCube aggregate measurement.","source":"In the search box, enter **Retail** to filter for entities that are related to the RetailCube aggregate measurement."},{"pos":[4765,4877],"content":"Select the <bpt id=\"p1\">**</bpt>RetailCube_RetailTransDetailsView<ept id=\"p1\">**</ept> table that is shown in the navigator, and then select <bpt id=\"p2\">**</bpt>Load<ept id=\"p2\">**</ept>.","source":"Select the **RetailCube_RetailTransDetailsView** table that is shown in the navigator, and then select **Load**."},{"content":"You can now create a report.","pos":[4880,4908]},{"content":"You can drag measures and fields to the canvas, and can explore data and trends interactively.","pos":[4909,5003]},{"content":"The following illustration shows a basic report that uses the local Entity Store database as its source.","pos":[5005,5109]},{"content":"Power BI Desktop report","pos":[5113,5136]},{"content":"Power BI Desktop also supports the creation of calculations and lets you combine data from multiple aggregate measurements.","pos":[5174,5297]},{"content":"Within minutes, you can create analytical reports by using data in the local development environment.","pos":[5298,5399]},{"content":"When you're satisfied with the report, you can migrate it to the production environment, so that users can use the report to interact with production data.","pos":[5400,5555]},{"pos":[5560,5600],"content":"Validating reports in a demo environment","linkify":"Validating reports in a demo environment","nodes":[{"content":"Validating reports in a demo environment","pos":[0,40]}]},{"content":"The report shows the demo or test data in your developer environment.","pos":[5602,5671]},{"content":"If you want to integrate the report into a demo environment, you can continue to publish this report to your PowerBI.com account and pin it to the Finance and Operations client.","pos":[5672,5849]},{"content":"If you want a preview of the report that contains demo data, see the \"Publish a report from your demo environment to your PowerBI.com account\" section in <bpt id=\"p1\">[</bpt>Power BI content in LCS from Microsoft and your partners<ept id=\"p1\">](https://docs.microsoft.com/en-us/dynamics365/unified-operations/dev-itpro/analytics/power-bi-content-microsoft-partners)</ept>.","pos":[5850,6184],"source":" If you want a preview of the report that contains demo data, see the \"Publish a report from your demo environment to your PowerBI.com account\" section in [Power BI content in LCS from Microsoft and your partners](https://docs.microsoft.com/en-us/dynamics365/unified-operations/dev-itpro/analytics/power-bi-content-microsoft-partners)."}]}