{"content":"---\n# required metadata\n\ntitle: Control unit sample for Sweden\ndescription: This topic is the building and installation guide for the sample for control unit integration for Sweden \nauthor: epopov\nmanager: AnnBE\nms.date: 07/01/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form:  [Operations AOT form name to tie this topic to]\naudience: Developer\n# ms.devlang: \nms.reviewer: shylaw\nms.search.scope: UnifiedOperations\n# ms.tgt_pltfrm: \n# ms.custom: [used by loc for topics migrated from the wiki]\nms.search.region: Sweden\nms.search.industry: Retail\nms.author: epopov\nms.search.validFrom: 2017-07-01\nms.dyn365.ops.version: Enterprise edition, July 2017 update\n---\n# Sample for Retail POS integration with control units for Sweden\n\n**SAMPLE CODE NOTICE**\n\n**THIS SAMPLE CODE IS MADE AVAILABLE AS IS.  MICROSOFT MAKES NO WARRANTIES, WHETHER EXPRESS OR IMPLIED, OF FITNESS FOR A PARTICULAR PURPOSE, OF ACCURACY OR COMPLETENESS OF RESPONSES, OF RESULTS, OR CONDITIONS OF MERCHANTABILITY.  THE ENTIRE RISK OF THE USE OR THE RESULTS FROM THE USE OF THIS SAMPLE CODE REMAINS WITH THE USER.**\n\n**NO TECHNICAL SUPPORT IS PROVIDED.  YOU MAY NOT DISTRIBUTE THIS CODE UNLESS YOU HAVE A LICENSE AGREEMENT WITH MICROSOFT THAT ALLOWS YOU TO DO SO.**\n\nThis sample shows how to create Microsoft Dynamics 365 for Retail extensions to integrate Retail Modern POS or Cloud POS with a fiscal register. Specifically, this sample includes the code for integrating Microsoft Dynamics for Retail POS with control units for Sweden. As an example, this sample uses the application programming interface (API) of the CleanCash® Type A control unit by Retail Innovation HTT AB. Version 1.1.4 of the CleanCash® API is used. For the integration package that includes the API and documentation, contact the manufacturer of the device.\n\nThis sample is a part of the Retail software development kit (SDK). For information about how to install and use the Retail SDK, see the [Retail SDK documentation](./retail-sdk-overview.md).\n\nThis sample consists of extensions for the Hardware station, commerce runtime (CRT), and point of sale (POS). To run this sample, you must modify and build the Hardware station, CRT, and POS projects. We recommend that use you an unmodified Retail SDK to make the changes that are described in this topic. We also recommend that you use a source control system, such as Microsoft Visual Studio Online (VSO), where no files have been changed yet.\n\n## Development environment\n\nFollow these steps to set up a development environment so that you can test and extend the sample.\n\n1. Extend the Hardware station component:\n\n    1. Open the Hardware station solution under **RetailSDK\\SampleExtensions\\HardwareStation**.\n    2. Find the **HardwareStation.Extension.FiscalRegisterSample.csproj** extension project, and compile it.\n    3. Find the following files in **Extension.FiscalRegisterSample\\bin\\Debug**:\n\n        - The **Contoso.Commerce.HardwareStation.FiscalRegisterSample.dll** assembly\n        - The **Contoso.Commerce.HardwareStation.FiscalRegisterSample.dll.config** configuration\n        - The **Interop.CleanCash_1_1.dll** assembly\n\n    4. Copy the files to a deployed Hardware station box:\n\n        - **Remote Hardware station:** Copy the files to the **bin** folder under the Internet Information Services (IIS) Hardware station site location.\n        - **Local Hardware station:** Copy the files to the Modern POS client broker location.\n\n    5. Find the web config file for Hardware station:\n\n        - **Remote Hardware station:** The file is named **hardwarestation.shared.config**, and it's under the IIS Hardware station site location.\n        - **Local Hardware station:** The file is named **HardwareStation.Dedicated.config**, and it's under the Modern POS client broker location.\n\n    6. Add the following section to the **composition** section of the config file.\n\n        ``` xml\n        <add source=\"assembly\" value=\"Contoso.Commerce.HardwareStation.Extension.FiscalRegisterSample\" />\n        ```\n\n    7. Restart the Hardware station service:\n\n        - **Remote Hardware station:** Restart the Hardware station site from IIS Manager.\n        - **Local Hardware station:** End the **dllhost.exe** process from Task Manager, and restart Modern POS.\n\n2. Extend the CRT component:\n\n    1. Open the CRT solution, **CommerceRuntimeSamples.sln**, under **RetailSdk\\SampleExtensions\\CommerceRuntime**.\n    2. Find the **Runtime.Extensions.FiscalRegisterReceiptSample** project, and build it.\n    3. Locate the ext.config file for CRT:\n\n        - **Retail Server:** The file is named **commerceruntime.ext.config**, and it's under the IIS Retail server site location.\n        - **Local CRT on Modern POS:** The file is named **CommerceRuntime.MPOSOffline.Ext.config**, and it's under the local CRT client broker location.\n\n    4. Register the CRT change in the config file.\n\n        ``` xml\n        <add source=\"type\" value=\"Contoso.Commerce.Runtime.FiscalRegisterReceipt, Contoso.Commerce.Runtime.FiscalRegisterReceipt\" />\n        ```\n\n        > [!NOTE]\n        > Do **not** edit the commerceruntime.config and CommerceRuntime.MPOSOffline.config files. These files are not intended for any customizations.\n\n    5. Locate the **Contoso.Commerce.Runtime.FiscalRegisterReceiptSample.dll** assembly file in **Extensions.FiscalRegisterReceiptSample\\bin\\Debug**.\n    6. Copy the assembly to the CRT extensions folder:\n\n        - **Retail Server:** Copy the assembly to the **\\bin\\ext** folder under the IIS Retail server site location.\n        - **Local CRT on Modern POS:** Copy the assembly to the **\\ext** folder under the local CRT client broker location.\n\n    > [!NOTE]\n    > The CRT and Retail Server code changes are all part of RetailSdk\\SampleExtensions. Therefore, the preceding steps refer to how to build, deploy, and test these code changes.\n\n3. Extend the Modern POS component:\n\n    1. Open the solution at **RetailSdk\\POS\\ModernPOS.sln**, and make sure that it can be compiled without errors. Also make sure that Modern POS can be run from Microsoft Visual Studio using the **Run** command. (Modern POS must not be customized. You must enable User Account Control [UAC], and you must uninstall previously installed instances of Modern POS as required.)\n    2. Include **FiscalRegisterSample** in the **Pos.Extensions** project.\n    3. Enable the extension in **InternalExtensions\\extensions.json** by adding the following lines in the appropriate place.\n\n        ``` json\n        {\n            \"debugBuildsOnly\": false,\n            \"baseUrl\": \"FiscalRegisterSample\"\n        }\n        ```\n\n    4. Rebuild the solutions.\n    5. Run Modern POS in the debugger, and test the functionality.\n\n4. Extend the Cloud POS component:\n\n    1. Open the solution at **RetailSdk\\POS\\CloudPOS.sln**, and make sure it can be compiled without errors.\n    2. Include **FiscalRegisterSample** in the **Pos.Extensions** project.\n    3. Enable the extension in **InternalExtensions\\extensions.json** by adding the following lines in the appropriate place.\n\n        ``` json\n        {\n            \"debugBuildsOnly\": false,\n            \"baseUrl\": \"FiscalRegisterSample\"\n        }\n        ```\n\n    4. Rebuild the solutions.\n    5. Run the solution using the **Run** command and following the steps in the Retail SDK handbook.\n    6. Test the functionality.\n\n5. Set up the fiscal register configuration and other required parameters in Retail headquarters. For more information, see [Cash registers for Sweden](../../localizations/emea-swe-cash-registers.md).\n\n## Production environment\n\nFollow these steps to create and apply deployable packages that contain Retail components in a production environment.\n\n1. Make the following changes in the package config files under the **RetailSdk\\Assets** folder:\n\n    1. Add the following section to the **composition** section of the **commerceruntime.ext.config** and **CommerceRuntime.MPOSOffline.Ext.config** config files.\n\n        ``` xml\n        <add source=\"type\" value=\"Contoso.Commerce.Runtime.FiscalRegisterReceipt, Contoso.Commerce.Runtime.FiscalRegisterReceipt\" />\n        ```\n\n    2. Add the following section to the **composition** section of the **HardwareStation.Shared.config** and **HardwareStation.Dedicated.config** config files.\n\n        ``` xml\n        <add source=\"assembly\" value=\"Contoso.Commerce.HardwareStation.Extension.FiscalRegisterSample\" />\n        ```\n\n2. Run **msbuild** for the whole Retail SDK to create deployable packages.\n3. Apply the packages via Microsoft Dynamics Lifecycle Services (LCS) or manually. For more information, see [Retail SDK packaging](../../dev-itpro/retail-sdk/retail-sdk-packaging.md).\n","nodes":[{"pos":[4,729],"embed":true,"restype":"x-metadata","content":"# required metadata\n\ntitle: Control unit sample for Sweden\ndescription: This topic is the building and installation guide for the sample for control unit integration for Sweden \nauthor: epopov\nmanager: AnnBE\nms.date: 07/01/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form:  [Operations AOT form name to tie this topic to]\naudience: Developer\n# ms.devlang: \nms.reviewer: shylaw\nms.search.scope: UnifiedOperations\n# ms.tgt_pltfrm: \n# ms.custom: [used by loc for topics migrated from the wiki]\nms.search.region: Sweden\nms.search.industry: Retail\nms.author: epopov\nms.search.validFrom: 2017-07-01\nms.dyn365.ops.version: Enterprise edition, July 2017 update","nodes":[{"content":"Control unit sample for Sweden","nodes":[{"pos":[0,30],"content":"Control unit sample for Sweden","nodes":[{"content":"Control unit sample for Sweden","pos":[0,30]}]}],"path":["title"],"extradata":"MT"},{"content":"This topic is the building and installation guide for the sample for control unit integration for Sweden","nodes":[{"pos":[0,104],"content":"This topic is the building and installation guide for the sample for control unit integration for Sweden","nodes":[{"content":"This topic is the building and installation guide for the sample for control unit integration for Sweden","pos":[0,104]}]}],"path":["description"],"extradata":"MT"}],"header":"# required metadata\n","yml":true},{"pos":[736,799],"content":"Sample for Retail POS integration with control units for Sweden","linkify":"Sample for Retail POS integration with control units for Sweden","nodes":[{"content":"Sample for Retail POS integration with control units for Sweden","pos":[0,63]}]},{"pos":[801,823],"content":"<bpt id=\"p1\">**</bpt>SAMPLE CODE NOTICE<ept id=\"p1\">**</ept>","source":"**SAMPLE CODE NOTICE**"},{"pos":[825,1154],"content":"<bpt id=\"p1\">**</bpt>THIS SAMPLE CODE IS MADE AVAILABLE AS IS.  MICROSOFT MAKES NO WARRANTIES, WHETHER EXPRESS OR IMPLIED, OF FITNESS FOR A PARTICULAR PURPOSE, OF ACCURACY OR COMPLETENESS OF RESPONSES, OF RESULTS, OR CONDITIONS OF MERCHANTABILITY.  THE ENTIRE RISK OF THE USE OR THE RESULTS FROM THE USE OF THIS SAMPLE CODE REMAINS WITH THE USER.<ept id=\"p1\">**</ept>","source":"**THIS SAMPLE CODE IS MADE AVAILABLE AS IS.  MICROSOFT MAKES NO WARRANTIES, WHETHER EXPRESS OR IMPLIED, OF FITNESS FOR A PARTICULAR PURPOSE, OF ACCURACY OR COMPLETENESS OF RESPONSES, OF RESULTS, OR CONDITIONS OF MERCHANTABILITY.  THE ENTIRE RISK OF THE USE OR THE RESULTS FROM THE USE OF THIS SAMPLE CODE REMAINS WITH THE USER.**"},{"pos":[1156,1304],"content":"<bpt id=\"p1\">**</bpt>NO TECHNICAL SUPPORT IS PROVIDED.  YOU MAY NOT DISTRIBUTE THIS CODE UNLESS YOU HAVE A LICENSE AGREEMENT WITH MICROSOFT THAT ALLOWS YOU TO DO SO.<ept id=\"p1\">**</ept>","source":"**NO TECHNICAL SUPPORT IS PROVIDED.  YOU MAY NOT DISTRIBUTE THIS CODE UNLESS YOU HAVE A LICENSE AGREEMENT WITH MICROSOFT THAT ALLOWS YOU TO DO SO.**"},{"content":"This sample shows how to create Microsoft Dynamics 365 for Retail extensions to integrate Retail Modern POS or Cloud POS with a fiscal register.","pos":[1306,1450]},{"content":"Specifically, this sample includes the code for integrating Microsoft Dynamics for Retail POS with control units for Sweden.","pos":[1451,1575]},{"content":"As an example, this sample uses the application programming interface (API) of the CleanCash® Type A control unit by Retail Innovation HTT AB.","pos":[1576,1718]},{"content":"Version 1.1.4 of the CleanCash® API is used.","pos":[1719,1763]},{"content":"For the integration package that includes the API and documentation, contact the manufacturer of the device.","pos":[1764,1872]},{"content":"This sample is a part of the Retail software development kit (SDK).","pos":[1874,1941]},{"content":"For information about how to install and use the Retail SDK, see the <bpt id=\"p1\">[</bpt>Retail SDK documentation<ept id=\"p1\">](./retail-sdk-overview.md)</ept>.","pos":[1942,2064],"source":" For information about how to install and use the Retail SDK, see the [Retail SDK documentation](./retail-sdk-overview.md)."},{"content":"This sample consists of extensions for the Hardware station, commerce runtime (CRT), and point of sale (POS).","pos":[2066,2175]},{"content":"To run this sample, you must modify and build the Hardware station, CRT, and POS projects.","pos":[2176,2266]},{"content":"We recommend that use you an unmodified Retail SDK to make the changes that are described in this topic.","pos":[2267,2371]},{"content":"We also recommend that you use a source control system, such as Microsoft Visual Studio Online (VSO), where no files have been changed yet.","pos":[2372,2511]},{"pos":[2516,2539],"content":"Development environment","linkify":"Development environment","nodes":[{"content":"Development environment","pos":[0,23]}]},{"content":"Follow these steps to set up a development environment so that you can test and extend the sample.","pos":[2541,2639]},{"content":"Extend the Hardware station component:","pos":[2644,2682]},{"pos":[2691,2779],"content":"Open the Hardware station solution under <bpt id=\"p1\">**</bpt>RetailSDK\\SampleExtensions\\HardwareStation<ept id=\"p1\">**</ept>.","source":"Open the Hardware station solution under **RetailSDK\\SampleExtensions\\HardwareStation**."},{"pos":[2787,2888],"content":"Find the <bpt id=\"p1\">**</bpt>HardwareStation.Extension.FiscalRegisterSample.csproj<ept id=\"p1\">**</ept> extension project, and compile it.","source":"Find the **HardwareStation.Extension.FiscalRegisterSample.csproj** extension project, and compile it."},{"pos":[2896,2969],"content":"Find the following files in <bpt id=\"p1\">**</bpt>Extension.FiscalRegisterSample\\bin\\Debug<ept id=\"p1\">**</ept>:","source":"Find the following files in **Extension.FiscalRegisterSample\\bin\\Debug**:"},{"pos":[2981,3055],"content":"The <bpt id=\"p1\">**</bpt>Contoso.Commerce.HardwareStation.FiscalRegisterSample.dll<ept id=\"p1\">**</ept> assembly","source":"The **Contoso.Commerce.HardwareStation.FiscalRegisterSample.dll** assembly"},{"pos":[3066,3152],"content":"The <bpt id=\"p1\">**</bpt>Contoso.Commerce.HardwareStation.FiscalRegisterSample.dll.config<ept id=\"p1\">**</ept> configuration","source":"The **Contoso.Commerce.HardwareStation.FiscalRegisterSample.dll.config** configuration"},{"pos":[3163,3205],"content":"The <bpt id=\"p1\">**</bpt>Interop.CleanCash_1_1.dll<ept id=\"p1\">**</ept> assembly","source":"The **Interop.CleanCash_1_1.dll** assembly"},{"content":"Copy the files to a deployed Hardware station box:","pos":[3214,3264]},{"pos":[3276,3419],"content":"<bpt id=\"p1\">**</bpt>Remote Hardware station:<ept id=\"p1\">**</ept> Copy the files to the <bpt id=\"p2\">**</bpt>bin<ept id=\"p2\">**</ept> folder under the Internet Information Services (IIS) Hardware station site location.","source":"**Remote Hardware station:** Copy the files to the **bin** folder under the Internet Information Services (IIS) Hardware station site location."},{"pos":[3430,3514],"content":"<bpt id=\"p1\">**</bpt>Local Hardware station:<ept id=\"p1\">**</ept> Copy the files to the Modern POS client broker location.","source":"**Local Hardware station:** Copy the files to the Modern POS client broker location."},{"content":"Find the web config file for Hardware station:","pos":[3523,3569]},{"pos":[3581,3717],"content":"<bpt id=\"p1\">**</bpt>Remote Hardware station:<ept id=\"p1\">**</ept> The file is named <bpt id=\"p2\">**</bpt>hardwarestation.shared.config<ept id=\"p2\">**</ept>, and it's under the IIS Hardware station site location.","source":"**Remote Hardware station:** The file is named **hardwarestation.shared.config**, and it's under the IIS Hardware station site location."},{"pos":[3728,3865],"content":"<bpt id=\"p1\">**</bpt>Local Hardware station:<ept id=\"p1\">**</ept> The file is named <bpt id=\"p2\">**</bpt>HardwareStation.Dedicated.config<ept id=\"p2\">**</ept>, and it's under the Modern POS client broker location.","source":"**Local Hardware station:** The file is named **HardwareStation.Dedicated.config**, and it's under the Modern POS client broker location."},{"pos":[3874,3950],"content":"Add the following section to the <bpt id=\"p1\">**</bpt>composition<ept id=\"p1\">**</ept> section of the config file.","source":"Add the following section to the **composition** section of the config file."},{"content":"Restart the Hardware station service:","pos":[4094,4131]},{"pos":[4143,4223],"content":"<bpt id=\"p1\">**</bpt>Remote Hardware station:<ept id=\"p1\">**</ept> Restart the Hardware station site from IIS Manager.","source":"**Remote Hardware station:** Restart the Hardware station site from IIS Manager."},{"pos":[4234,4336],"content":"<bpt id=\"p1\">**</bpt>Local Hardware station:<ept id=\"p1\">**</ept> End the <bpt id=\"p2\">**</bpt>dllhost.exe<ept id=\"p2\">**</ept> process from Task Manager, and restart Modern POS.","source":"**Local Hardware station:** End the **dllhost.exe** process from Task Manager, and restart Modern POS."},{"content":"Extend the CRT component:","pos":[4341,4366]},{"pos":[4375,4483],"content":"Open the CRT solution, <bpt id=\"p1\">**</bpt>CommerceRuntimeSamples.sln<ept id=\"p1\">**</ept>, under <bpt id=\"p2\">**</bpt>RetailSdk\\SampleExtensions\\CommerceRuntime<ept id=\"p2\">**</ept>.","source":"Open the CRT solution, **CommerceRuntimeSamples.sln**, under **RetailSdk\\SampleExtensions\\CommerceRuntime**."},{"pos":[4491,4573],"content":"Find the <bpt id=\"p1\">**</bpt>Runtime.Extensions.FiscalRegisterReceiptSample<ept id=\"p1\">**</ept> project, and build it.","source":"Find the **Runtime.Extensions.FiscalRegisterReceiptSample** project, and build it."},{"content":"Locate the ext.config file for CRT:","pos":[4581,4616]},{"pos":[4628,4748],"content":"<bpt id=\"p1\">**</bpt>Retail Server:<ept id=\"p1\">**</ept> The file is named <bpt id=\"p2\">**</bpt>commerceruntime.ext.config<ept id=\"p2\">**</ept>, and it's under the IIS Retail server site location.","source":"**Retail Server:** The file is named **commerceruntime.ext.config**, and it's under the IIS Retail server site location."},{"pos":[4759,4902],"content":"<bpt id=\"p1\">**</bpt>Local CRT on Modern POS:<ept id=\"p1\">**</ept> The file is named <bpt id=\"p2\">**</bpt>CommerceRuntime.MPOSOffline.Ext.config<ept id=\"p2\">**</ept>, and it's under the local CRT client broker location.","source":"**Local CRT on Modern POS:** The file is named **CommerceRuntime.MPOSOffline.Ext.config**, and it's under the local CRT client broker location."},{"content":"Register the CRT change in the config file.","pos":[4911,4954]},{"pos":[5128,5287],"content":"[!NOTE]\nDo **not** edit the commerceruntime.config and CommerceRuntime.MPOSOffline.config files. These files are not intended for any customizations.","leadings":["","        > "],"nodes":[{"content":"Do **not** edit the commerceruntime.config and CommerceRuntime.MPOSOffline.config files. These files are not intended for any customizations.","pos":[8,149],"nodes":[{"content":"Do <bpt id=\"p1\">**</bpt>not<ept id=\"p1\">**</ept> edit the commerceruntime.config and CommerceRuntime.MPOSOffline.config files.","pos":[0,88],"source":"Do **not** edit the commerceruntime.config and CommerceRuntime.MPOSOffline.config files."},{"content":"These files are not intended for any customizations.","pos":[89,141]}]}]},{"pos":[5296,5438],"content":"Locate the <bpt id=\"p1\">**</bpt>Contoso.Commerce.Runtime.FiscalRegisterReceiptSample.dll<ept id=\"p1\">**</ept> assembly file in <bpt id=\"p2\">**</bpt>Extensions.FiscalRegisterReceiptSample\\bin\\Debug<ept id=\"p2\">**</ept>.","source":"Locate the **Contoso.Commerce.Runtime.FiscalRegisterReceiptSample.dll** assembly file in **Extensions.FiscalRegisterReceiptSample\\bin\\Debug**."},{"content":"Copy the assembly to the CRT extensions folder:","pos":[5446,5493]},{"pos":[5505,5611],"content":"<bpt id=\"p1\">**</bpt>Retail Server:<ept id=\"p1\">**</ept> Copy the assembly to the <bpt id=\"p2\">**</bpt>\\bin\\ext<ept id=\"p2\">**</ept> folder under the IIS Retail server site location.","source":"**Retail Server:** Copy the assembly to the **\\bin\\ext** folder under the IIS Retail server site location."},{"pos":[5622,5735],"content":"<bpt id=\"p1\">**</bpt>Local CRT on Modern POS:<ept id=\"p1\">**</ept> Copy the assembly to the <bpt id=\"p2\">**</bpt>\\ext<ept id=\"p2\">**</ept> folder under the local CRT client broker location.","source":"**Local CRT on Modern POS:** Copy the assembly to the **\\ext** folder under the local CRT client broker location."},{"pos":[5743,5930],"content":"[!NOTE]\nThe CRT and Retail Server code changes are all part of RetailSdk\\SampleExtensions. Therefore, the preceding steps refer to how to build, deploy, and test these code changes.","leadings":["","    > "],"nodes":[{"content":"The CRT and Retail Server code changes are all part of RetailSdk\\SampleExtensions. Therefore, the preceding steps refer to how to build, deploy, and test these code changes.","pos":[8,181],"nodes":[{"content":"The CRT and Retail Server code changes are all part of RetailSdk\\SampleExtensions.","pos":[0,82]},{"content":"Therefore, the preceding steps refer to how to build, deploy, and test these code changes.","pos":[83,173]}]}]},{"content":"Extend the Modern POS component:","pos":[5935,5967]},{"content":"Open the solution at <bpt id=\"p1\">**</bpt>RetailSdk\\POS\\ModernPOS.sln<ept id=\"p1\">**</ept>, and make sure that it can be compiled without errors.","pos":[5976,6083],"source":"Open the solution at **RetailSdk\\POS\\ModernPOS.sln**, and make sure that it can be compiled without errors."},{"content":"Also make sure that Modern POS can be run from Microsoft Visual Studio using the <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> command.","pos":[6084,6181],"source":" Also make sure that Modern POS can be run from Microsoft Visual Studio using the **Run** command."},{"content":"(Modern POS must not be customized.","pos":[6182,6217]},{"content":"You must enable User Account Control [UAC], and you must uninstall previously installed instances of Modern POS as required.)","pos":[6218,6343]},{"pos":[6351,6418],"content":"Include <bpt id=\"p1\">**</bpt>FiscalRegisterSample<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Pos.Extensions<ept id=\"p2\">**</ept> project.","source":"Include **FiscalRegisterSample** in the **Pos.Extensions** project."},{"pos":[6426,6544],"content":"Enable the extension in <bpt id=\"p1\">**</bpt>InternalExtensions\\extensions.json<ept id=\"p1\">**</ept> by adding the following lines in the appropriate place.","source":"Enable the extension in **InternalExtensions\\extensions.json** by adding the following lines in the appropriate place."},{"content":"Rebuild the solutions.","pos":[6687,6709]},{"content":"Run Modern POS in the debugger, and test the functionality.","pos":[6717,6776]},{"content":"Extend the Cloud POS component:","pos":[6781,6812]},{"pos":[6821,6922],"content":"Open the solution at <bpt id=\"p1\">**</bpt>RetailSdk\\POS\\CloudPOS.sln<ept id=\"p1\">**</ept>, and make sure it can be compiled without errors.","source":"Open the solution at **RetailSdk\\POS\\CloudPOS.sln**, and make sure it can be compiled without errors."},{"pos":[6930,6997],"content":"Include <bpt id=\"p1\">**</bpt>FiscalRegisterSample<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Pos.Extensions<ept id=\"p2\">**</ept> project.","source":"Include **FiscalRegisterSample** in the **Pos.Extensions** project."},{"pos":[7005,7123],"content":"Enable the extension in <bpt id=\"p1\">**</bpt>InternalExtensions\\extensions.json<ept id=\"p1\">**</ept> by adding the following lines in the appropriate place.","source":"Enable the extension in **InternalExtensions\\extensions.json** by adding the following lines in the appropriate place."},{"content":"Rebuild the solutions.","pos":[7266,7288]},{"pos":[7296,7390],"content":"Run the solution using the <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> command and following the steps in the Retail SDK handbook.","source":"Run the solution using the **Run** command and following the steps in the Retail SDK handbook."},{"content":"Test the functionality.","pos":[7398,7421]},{"content":"Set up the fiscal register configuration and other required parameters in Retail headquarters.","pos":[7426,7520]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Cash registers for Sweden<ept id=\"p1\">](../../localizations/emea-swe-cash-registers.md)</ept>.","pos":[7521,7623],"source":" For more information, see [Cash registers for Sweden](../../localizations/emea-swe-cash-registers.md)."},{"pos":[7628,7650],"content":"Production environment","linkify":"Production environment","nodes":[{"content":"Production environment","pos":[0,22]}]},{"content":"Follow these steps to create and apply deployable packages that contain Retail components in a production environment.","pos":[7652,7770]},{"pos":[7775,7868],"content":"Make the following changes in the package config files under the <bpt id=\"p1\">**</bpt>RetailSdk\\Assets<ept id=\"p1\">**</ept> folder:","source":"Make the following changes in the package config files under the **RetailSdk\\Assets** folder:"},{"pos":[7877,8032],"content":"Add the following section to the <bpt id=\"p1\">**</bpt>composition<ept id=\"p1\">**</ept> section of the <bpt id=\"p2\">**</bpt>commerceruntime.ext.config<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>CommerceRuntime.MPOSOffline.Ext.config<ept id=\"p3\">**</ept> config files.","source":"Add the following section to the **composition** section of the **commerceruntime.ext.config** and **CommerceRuntime.MPOSOffline.Ext.config** config files."},{"pos":[8203,8355],"content":"Add the following section to the <bpt id=\"p1\">**</bpt>composition<ept id=\"p1\">**</ept> section of the <bpt id=\"p2\">**</bpt>HardwareStation.Shared.config<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>HardwareStation.Dedicated.config<ept id=\"p3\">**</ept> config files.","source":"Add the following section to the **composition** section of the **HardwareStation.Shared.config** and **HardwareStation.Dedicated.config** config files."},{"pos":[8495,8566],"content":"Run <bpt id=\"p1\">**</bpt>msbuild<ept id=\"p1\">**</ept> for the whole Retail SDK to create deployable packages.","source":"Run **msbuild** for the whole Retail SDK to create deployable packages."},{"content":"Apply the packages via Microsoft Dynamics Lifecycle Services (LCS) or manually.","pos":[8570,8649]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Retail SDK packaging<ept id=\"p1\">](../../dev-itpro/retail-sdk/retail-sdk-packaging.md)</ept>.","pos":[8650,8751],"source":" For more information, see [Retail SDK packaging](../../dev-itpro/retail-sdk/retail-sdk-packaging.md)."}]}